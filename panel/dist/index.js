(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(25).concat([function(t,e,n){"use strict";n.r(e);n(12);var i={props:{blueprint:String,next:Object,prev:Object,permissions:{type:Object,default:function(){return{}}},tab:{type:Object,default:function(){return{}}},tabs:{type:Array,default:function(){return[]}}},computed:{isLocked:function(){return null!==this.$store.state.content.status.lock}},created:function(){this.$events.$on("model.reload",this.$reload),this.$events.$on("keydown.left",this.toPrev),this.$events.$on("keydown.right",this.toNext)},destroyed:function(){this.$events.$off("model.reload",this.$reload),this.$events.$off("keydown.left",this.toPrev),this.$events.$off("keydown.right",this.toNext)},methods:{toPrev:function(t){this.prev&&"body"===t.target.localName&&this.$go(this.prev.link)},toNext:function(t){this.next&&"body"===t.target.localName&&this.$go(this.next.link)}}},r=n(0),s=Object(r.a)(i,void 0,void 0,!1,null,null,null);e.default=s.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.r(e);n(12);var i={extends:n(25).default,prevnext:!0,props:{user:Object},computed:{options:function(){var t=this;return function(e){t.$api.users.options(t.user.id).then((function(t){e(t)}))}},uploadApi:function(){return this.$urls.api+"/users/"+this.user.id+"/avatar"}},watch:{"user.id":{handler:function(){this.$store.dispatch("content/create",{id:"users/"+this.user.id,api:this.$api.users.link(this.user.id),content:this.user.content})},immediate:!0}},methods:{action:function(t){var e=this;switch(t){case"email":this.$refs.email.open(this.user.id);break;case"language":this.$refs.language.open(this.user.id);break;case"password":this.$refs.password.open(this.user.id);break;case"picture.delete":this.$api.users.deleteAvatar(this.user.id).then((function(){e.$store.dispatch("notification/success",":)"),e.$reload()}));break;case"remove":this.$refs.remove.open(this.user.id);break;case"rename":this.$refs.rename.open(this.user.id);break;case"role":this.$refs.role.open(this.user.id);break;default:this.$store.dispatch("notification/error","Not yet implemented")}},uploadedAvatar:function(){this.$store.dispatch("notification/success",":)"),this.$reload()}}},r=(n(348),n(0)),s=Object(r.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-inside",[n("div",{staticClass:"k-user-view",attrs:{"data-locked":t.isLocked}},[n("div",{staticClass:"k-user-profile"},[n("k-view",[t.user.avatar?[n("k-dropdown",[n("k-button",{staticClass:"k-user-view-image",attrs:{tooltip:t.$t("avatar"),disabled:t.isLocked},on:{click:function(e){return t.$refs.picture.toggle()}}},[t.user.avatar?n("k-image",{attrs:{cover:!0,src:t.user.avatar,ratio:"1/1"}}):t._e()],1),t._v(" "),n("k-dropdown-content",{ref:"picture"},[n("k-dropdown-item",{attrs:{icon:"upload"},on:{click:function(e){return t.$refs.upload.open()}}},[t._v("\n                "+t._s(t.$t("change"))+"\n              ")]),t._v(" "),n("k-dropdown-item",{attrs:{icon:"trash"},on:{click:function(e){return t.action("picture.delete")}}},[t._v("\n                "+t._s(t.$t("delete"))+"\n              ")])],1)],1)]:[n("k-button",{staticClass:"k-user-view-image",attrs:{tooltip:t.$t("avatar")},on:{click:function(e){return t.$refs.upload.open()}}},[n("k-icon",{attrs:{type:"user"}})],1)],t._v(" "),n("k-button-group",[n("k-button",{attrs:{disabled:!t.permissions.changeEmail||t.isLocked,icon:"email"},on:{click:function(e){return t.action("email")}}},[t._v(t._s(t.$t("email"))+": "+t._s(t.user.email))]),t._v(" "),n("k-button",{attrs:{disabled:!t.permissions.changeRole||t.isLocked,icon:"bolt"},on:{click:function(e){return t.action("role")}}},[t._v(t._s(t.$t("role"))+": "+t._s(t.user.role))]),t._v(" "),n("k-button",{attrs:{disabled:!t.permissions.changeLanguage||t.isLocked,icon:"globe"},on:{click:function(e){return t.action("language")}}},[t._v(t._s(t.$t("language"))+": "+t._s(t.user.language))])],1)],2)],1)]),t._v(" "),n("k-view",[n("k-header",{attrs:{editable:t.permissions.changeName&&!t.isLocked,tabs:t.tabs,tab:t.tab},on:{edit:function(e){return t.action("rename")}}},[t.user.name&&0!==t.user.name.length?[t._v(t._s(t.user.name))]:n("span",{staticClass:"k-user-name-placeholder"},[t._v(t._s(t.$t("name"))+" …")]),t._v(" "),n("k-button-group",{attrs:{slot:"left"},slot:"left"},[n("k-dropdown",[n("k-button",{attrs:{disabled:t.isLocked,icon:"cog"},on:{click:function(e){return t.$refs.settings.toggle()}}},[t._v("\n            "+t._s(t.$t("settings"))+"\n          ")]),t._v(" "),n("k-dropdown-content",{ref:"settings",attrs:{options:t.options},on:{action:t.action}})],1),t._v(" "),n("k-languages-dropdown")],1),t._v(" "),t.$options.prevnext?n("k-prev-next",{attrs:{slot:"right",prev:t.prev,next:t.next},slot:"right"}):t._e()],2),t._v(" "),t.tab.columns?n("k-sections",{attrs:{blueprint:t.blueprint,columns:t.tab.columns,parent:"users/"+t.user.id}}):n("k-box",{attrs:{text:t.$t("user.blueprint",{role:t.user.role.name}),theme:"info"}})],1),t._v(" "),n("k-user-email-dialog",{ref:"email",on:{success:t.$reload}}),t._v(" "),n("k-user-language-dialog",{ref:"language",on:{success:t.$reload}}),t._v(" "),n("k-user-password-dialog",{ref:"password"}),t._v(" "),n("k-user-remove-dialog",{ref:"remove",on:{success:function(e){return t.$go("users")}}}),t._v(" "),n("k-user-rename-dialog",{ref:"rename",on:{success:t.$reload}}),t._v(" "),n("k-user-role-dialog",{ref:"role",on:{success:t.$reload}}),t._v(" "),n("k-upload",{ref:"upload",attrs:{url:t.uploadApi,multiple:!1,accept:"image/*"},on:{success:t.uploadedAvatar}})],1)}),[],!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i={props:{error:String,layout:String}},r=(n(343),n(0)),s=Object(r.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("k-"+this.layout,{tag:"component"},[e("k-view",{staticClass:"k-error-view"},[e("div",{staticClass:"k-error-view-content"},[e("k-text",[e("p",[e("k-icon",{staticClass:"k-error-view-icon",attrs:{type:"alert"}})],1),this._v(" "),this._t("default",[e("p",[this._v("\n            "+this._s(this.error)+"\n          ")])])],2)],1)])],1)}),[],!1,null,null,null);e.default=s.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.r(e);var i=n(1),r=n.n(i),s=(n(9),n(3)),a={data:function(){return{isLoading:!1,issue:"",user:{email:"",password:"",remember:!1}}},computed:{fields:function(){return{email:{autofocus:!0,label:this.$t("email"),type:"email",required:!0,link:!1},password:{label:this.$t("password"),type:"password",minLength:8,required:!0,autocomplete:"current-password",counter:!1}}}},methods:{login:function(){var t=this;return Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.issue=null,t.isLoading=!0,e.prev=2,e.next=5,t.$api.auth.login(t.user);case 5:t.$go("/site"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),t.issue=e.t0.message;case 11:case"end":return e.stop()}}),e,null,[[2,8]])})))()}}},o=n(0),c={components:{"k-login-form":Object(o.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"k-login-form",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[n("h1",{staticClass:"k-offscreen"},[t._v(t._s(t.$t("login")))]),t._v(" "),t.issue?n("div",{staticClass:"k-login-alert",on:{click:function(e){t.issue=null}}},[n("span",[t._v(t._s(t.issue))]),t._v(" "),n("k-icon",{attrs:{type:"alert"}})],1):t._e(),t._v(" "),n("k-fieldset",{attrs:{novalidate:!0,fields:t.fields},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}}),t._v(" "),n("div",{staticClass:"k-login-buttons"},[n("span",{staticClass:"k-login-checkbox"},[n("k-checkbox-input",{attrs:{value:t.user.remember,label:t.$t("login.remember")},on:{input:function(e){t.user.remember=e}}})],1),t._v(" "),n("k-button",{staticClass:"k-login-button",attrs:{icon:"check",type:"submit"}},[t._v("\n      "+t._s(t.$t("login"))+" "),t.isLoading?[t._v("…")]:t._e()],2)],1)],1)}),[],!1,null,null,null).exports}},l=(n(350),Object(o.a)(c,(function(){var t=this.$createElement,e=this._self._c||t;return e("k-outside",[e("k-view",{staticClass:"k-login-view",attrs:{align:"center"}},[e("k-login-form")],1)],1)}),[],!1,null,null,null));e.default=l.exports},function(t,e,n){"use strict";n.r(e);var i={props:{isInstallable:Boolean,isInstalled:Boolean,isOk:Boolean,requirements:Object,translations:Array},data:function(){return{user:{name:"",email:"",language:this.$translation.code,password:"",role:"admin"}}},computed:{fields:function(){return{email:{autofocus:!0,label:this.$t("email"),type:"email",link:!1,required:!0},password:{label:this.$t("password"),type:"password",placeholder:this.$t("password")+" …",required:!0},language:{label:this.$t("language"),type:"select",options:this.translations,icon:"globe",empty:!1,required:!0}}},state:function(){return this.isOk&&this.isInstallable&&!this.isInstalled?"install":"requirements"}},methods:{install:function(){var t=this;this.$api.system.install(this.user).then((function(e){t.$store.dispatch("notification/success",t.$t("welcome")+"!"),t.$go("/")})).catch((function(e){t.$store.dispatch("notification/error",e)}))}}},r=(n(349),n(0)),s=Object(r.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-outside",[n("k-view",{staticClass:"k-installation-view",attrs:{align:"center"}},["install"===t.state?n("form",{on:{submit:function(e){return e.preventDefault(),t.install(e)}}},[n("h1",{staticClass:"k-offscreen"},[t._v(t._s(t.$t("installation")))]),t._v(" "),n("k-fieldset",{attrs:{fields:t.fields,novalidate:!0},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}}),t._v(" "),n("k-button",{attrs:{type:"submit",icon:"check"}},[t._v(t._s(t.$t("install")))])],1):n("div",[t.isInstalled?t._e():n("k-headline",[t._v(t._s(t.$t("installation.issues.headline")))]),t._v(" "),n("ul",{staticClass:"k-installation-issues"},[!1===t.isInstallable?n("li",[n("k-icon",{attrs:{type:"alert"}}),t._v(" "),n("span",{domProps:{innerHTML:t._s(t.$t("installation.disabled"))}})],1):t._e(),t._v(" "),!1===t.requirements.php?n("li",[n("k-icon",{attrs:{type:"alert"}}),t._v(" "),n("span",{domProps:{innerHTML:t._s(t.$t("installation.issues.php"))}})],1):t._e(),t._v(" "),!1===t.requirements.server?n("li",[n("k-icon",{attrs:{type:"alert"}}),t._v(" "),n("span",{domProps:{innerHTML:t._s(t.$t("installation.issues.server"))}})],1):t._e(),t._v(" "),!1===t.requirements.mbstring?n("li",[n("k-icon",{attrs:{type:"alert"}}),t._v(" "),n("span",{domProps:{innerHTML:t._s(t.$t("installation.issues.mbstring"))}})],1):t._e(),t._v(" "),!1===t.requirements.curl?n("li",[n("k-icon",{attrs:{type:"alert"}}),t._v(" "),n("span",{domProps:{innerHTML:t._s(t.$t("installation.issues.curl"))}})],1):t._e(),t._v(" "),!1===t.requirements.accounts?n("li",[n("k-icon",{attrs:{type:"alert"}}),t._v(" "),n("span",{domProps:{innerHTML:t._s(t.$t("installation.issues.accounts"))}})],1):t._e(),t._v(" "),!1===t.requirements.content?n("li",[n("k-icon",{attrs:{type:"alert"}}),t._v(" "),n("span",{domProps:{innerHTML:t._s(t.$t("installation.issues.content"))}})],1):t._e(),t._v(" "),!1===t.requirements.media?n("li",[n("k-icon",{attrs:{type:"alert"}}),t._v(" "),n("span",{domProps:{innerHTML:t._s(t.$t("installation.issues.media"))}})],1):t._e(),t._v(" "),!1===t.requirements.sessions?n("li",[n("k-icon",{attrs:{type:"alert"}}),t._v(" "),n("span",{domProps:{innerHTML:t._s(t.$t("installation.issues.sessions"))}})],1):t._e()]),t._v(" "),n("k-button",{attrs:{icon:"refresh"},on:{click:t.$reload}},[n("span",{domProps:{innerHTML:t._s(t.$t("retry"))}})])],1)])],1)}),[],!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);n(12);var i={extends:n(25).default,props:{file:Object},computed:{options:function(){var t=this;return function(e){t.$api.files.options(t.file.parent,t.file.filename).then((function(t){e(t)}))}},uploadApi:function(){return this.$urls.api+"/"+this.file.parent+"/files/"+this.file.filename}},watch:{"file.id":{handler:function(){this.$store.dispatch("content/create",{id:"files/"+this.file.id,api:this.$api.files.link(this.file.parent,this.file.filename),content:this.file.content})},immediate:!0}},methods:{action:function(t){switch(t){case"download":window.open(this.file.url);break;case"rename":this.$refs.rename.open(this.file.parent,this.file.filename);break;case"replace":this.$refs.upload.open({url:this.$urls.api+"/"+this.$api.files.url(this.file.parent,this.file.filename),accept:"."+this.file.extension+","+this.file.mime});break;case"remove":this.$refs.remove.open(this.file.parent,this.file.filename)}},onDeleted:function(){this.file.parent?this.$go("/"+this.file.parent):this.$go("/site")},onRenamed:function(t){this.$go(this.$api.files.link(this.file.parent,t.filename))},onUploaded:function(){this.$store.dispatch("notification/success",":)"),this.$reload()}}},r=n(0),s=Object(r.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-inside",[n("div",{staticClass:"k-file-view"},[n("k-file-preview",{attrs:{file:t.file}}),t._v(" "),n("k-view",{staticClass:"k-file-content",attrs:{"data-locked":t.isLocked}},[n("k-header",{attrs:{editable:t.permissions.changeName&&!t.isLocked,tabs:t.tabs,tab:t.tab},on:{edit:function(e){return t.action("rename")}}},[t._v("\n        "+t._s(t.file.filename)+"\n        "),n("k-button-group",{attrs:{slot:"left"},slot:"left"},[n("k-button",{attrs:{responsive:!0,icon:"open"},on:{click:function(e){return t.action("download")}}},[t._v("\n            "+t._s(t.$t("open"))+"\n          ")]),t._v(" "),n("k-dropdown",[n("k-button",{attrs:{responsive:!0,disabled:t.isLocked,icon:"cog"},on:{click:function(e){return t.$refs.settings.toggle()}}},[t._v("\n              "+t._s(t.$t("settings"))+"\n            ")]),t._v(" "),n("k-dropdown-content",{ref:"settings",attrs:{options:t.options},on:{action:t.action}})],1),t._v(" "),n("k-languages-dropdown")],1),t._v(" "),n("k-prev-next",{attrs:{slot:"right",prev:t.prev,next:t.next},slot:"right"})],1),t._v(" "),n("k-sections",{attrs:{blueprint:t.blueprint,columns:t.tab.columns,parent:t.$api.files.url(t.file.parent,t.file.filename)}}),t._v(" "),n("k-file-rename-dialog",{ref:"rename",on:{success:t.onRenamed}}),t._v(" "),n("k-file-remove-dialog",{ref:"remove",on:{success:t.onDeleted}}),t._v(" "),n("k-upload",{ref:"upload",attrs:{url:t.uploadApi,accept:t.file.mime,multiple:!1},on:{success:t.onUploaded}})],1)],1)])}),[],!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);n(12);var i={extends:n(25).default,props:{page:{type:Object,default:function(){return{}}},status:Object},watch:{"page.id":{handler:function(){this.$store.dispatch("content/create",{id:"pages/"+this.page.id,api:this.$api.pages.link(this.page.id),content:this.page.content})},immediate:!0}},computed:{options:function(){var t=this;return function(e){t.$api.pages.options(t.page.id).then((function(t){e(t)}))}}},methods:{action:function(t){switch(t){case"duplicate":this.$refs.duplicate.open(this.page.id);break;case"rename":this.$refs.rename.open(this.page.id);break;case"url":this.$refs.url.open(this.page.id);break;case"status":this.$refs.status.open(this.page.id);break;case"template":this.$refs.template.open(this.page.id);break;case"remove":this.$refs.remove.open(this.page.id);break;default:this.$store.dispatch("notification/error",this.$t("notification.notImplemented"))}},onRemove:function(){this.$go(this.page.parent)}}},r=(n(351),n(0)),s=Object(r.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-inside",[n("k-view",{staticClass:"k-page-view",attrs:{"data-locked":t.isLocked}},[n("k-header",{attrs:{tabs:t.tabs,tab:t.tab,editable:t.permissions.changeTitle&&!t.isLocked},on:{edit:function(e){return t.action("rename")}}},[t._v("\n      "+t._s(t.page.title)+"\n      "),n("k-button-group",{attrs:{slot:"left"},slot:"left"},[t.permissions.preview&&t.page.previewUrl?n("k-button",{attrs:{responsive:!0,link:t.page.previewUrl,target:"_blank",icon:"open"}},[t._v("\n          "+t._s(t.$t("open"))+"\n        ")]):t._e(),t._v(" "),t.status?n("k-button",{class:["k-status-flag","k-status-flag-"+t.page.status],attrs:{disabled:!t.permissions.changeStatus||t.isLocked,icon:!t.permissions.changeStatus||t.isLocked?"protected":"circle",responsive:!0,tooltip:t.status.label},on:{click:function(e){return t.action("status")}}},[t._v("\n          "+t._s(t.status.label)+"\n        ")]):t._e(),t._v(" "),n("k-dropdown",[n("k-button",{attrs:{responsive:!0,disabled:!0===t.isLocked,icon:"cog"},on:{click:function(e){return t.$refs.settings.toggle()}}},[t._v("\n            "+t._s(t.$t("settings"))+"\n          ")]),t._v(" "),n("k-dropdown-content",{ref:"settings",attrs:{options:t.options},on:{action:t.action}})],1),t._v(" "),n("k-languages-dropdown")],1),t._v(" "),n("k-prev-next",{attrs:{slot:"right",prev:t.prev,next:t.next},slot:"right"})],1),t._v(" "),n("k-sections",{attrs:{blueprint:t.blueprint,columns:t.tab.columns,parent:t.$api.pages.url(t.page.id)}}),t._v(" "),n("k-page-rename-dialog",{ref:"rename",on:{success:t.$reload}}),t._v(" "),n("k-page-duplicate-dialog",{ref:"duplicate"}),t._v(" "),n("k-page-url-dialog",{ref:"url"}),t._v(" "),n("k-page-status-dialog",{ref:"status",on:{success:t.$reload}}),t._v(" "),n("k-page-template-dialog",{ref:"template",on:{success:t.$reload}}),t._v(" "),n("k-page-remove-dialog",{ref:"remove",on:{success:t.onRemove}})],1)],1)}),[],!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i={props:{languages:{type:Array,default:function(){return[]}},version:String},computed:{languagesCollection:function(){var t=this;return this.languages.map((function(e){return e.link=function(){t.$refs.update.open(e.id)},e.options=[{icon:"edit",text:t.$t("edit"),click:"update"},{icon:"trash",text:t.$t("delete"),disabled:e.default&&1!==t.languages.length,click:"remove"}],e}))},primaryLanguage:function(){return this.languagesCollection.filter((function(t){return t.default}))},secondaryLanguages:function(){return this.languagesCollection.filter((function(t){return!1===t.default}))}},methods:{action:function(t,e){switch(e){case"update":this.$refs.update.open(t.id);break;case"remove":this.$refs.remove.open(t.id)}}}},r=(n(352),n(0)),s=Object(r.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-inside",[n("k-view",{staticClass:"k-settings-view"},[n("k-header",[t._v("\n      "+t._s(t.$t("view.settings"))+"\n    ")]),t._v(" "),n("section",{staticClass:"k-system-info"},[n("header",[n("k-headline",[t._v("Kirby")])],1),t._v(" "),n("ul",{staticClass:"k-system-info-box"},[n("li",[n("dl",[n("dt",[t._v(t._s(t.$t("license")))]),t._v(" "),n("dd",[t.$system.license?[t._v("\n                "+t._s(t.$system.license)+"\n              ")]:n("p",[n("strong",{staticClass:"k-system-unregistered"},[t._v(t._s(t.$t("license.unregistered")))])])],2)])]),t._v(" "),n("li",[n("dl",[n("dt",[t._v(t._s(t.$t("version")))]),t._v(" "),n("dd",[t._v(t._s(t.version))])])])])]),t._v(" "),t.$system.multilang?n("section",{staticClass:"k-languages"},[t.languages.length>0?[n("section",{staticClass:"k-languages-section"},[n("header",[n("k-headline",[t._v(t._s(t.$t("languages.default")))])],1),t._v(" "),n("k-collection",{attrs:{items:t.primaryLanguage},on:{action:t.action}})],1),t._v(" "),n("section",{staticClass:"k-languages-section"},[n("header",[n("k-headline",[t._v(t._s(t.$t("languages.secondary")))]),t._v(" "),n("k-button",{attrs:{icon:"add"},on:{click:function(e){return t.$refs.create.open()}}},[t._v(t._s(t.$t("language.create")))])],1),t._v(" "),t.secondaryLanguages.length?n("k-collection",{attrs:{items:t.secondaryLanguages},on:{action:t.action}}):n("k-empty",{attrs:{icon:"globe"},on:{click:function(e){return t.$refs.create.open()}}},[t._v(t._s(t.$t("languages.secondary.empty")))])],1)]:0===t.languages.length?[n("header",[n("k-headline",[t._v(t._s(t.$t("languages")))]),t._v(" "),n("k-button",{attrs:{icon:"add"},on:{click:function(e){return t.$refs.create.open()}}},[t._v(t._s(t.$t("language.create")))])],1),t._v(" "),n("k-empty",{attrs:{icon:"globe"},on:{click:function(e){return t.$refs.create.open()}}},[t._v(t._s(t.$t("languages.empty")))])]:t._e(),t._v(" "),n("k-language-create-dialog",{ref:"create",on:{success:t.$reload}}),t._v(" "),n("k-language-update-dialog",{ref:"update",on:{success:t.$reload}}),t._v(" "),n("k-language-remove-dialog",{ref:"remove",on:{success:t.$reload}})],2):t._e()],1)],1)}),[],!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i={extends:n(25).default,props:{site:{type:Object,default:function(){return{}}}}},r=n(0),s=Object(r.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-inside",[n("k-view",{staticClass:"k-site-view",attrs:{"data-locked":t.isLocked}},[n("k-header",{attrs:{tabs:t.tabs,tab:t.tab,editable:t.permissions.changeTitle&&!t.isLocked},on:{edit:function(e){return t.$refs.rename.open()}}},[t._v("\n        "+t._s(t.site.title)+"\n        "),n("k-button-group",{attrs:{slot:"left"},slot:"left"},[n("k-button",{attrs:{responsive:!0,link:t.site.previewUrl,target:"_blank",icon:"open"}},[t._v("\n          "+t._s(t.$t("open"))+"\n        ")]),t._v(" "),n("k-languages-dropdown")],1)],1),t._v(" "),n("k-sections",{attrs:{blueprint:t.blueprint,columns:t.tab.columns,parent:"site"}})],1),t._v(" "),n("k-site-rename-dialog",{ref:"rename",on:{success:t.$reload}})],1)}),[],!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i={props:{path:String,role:Object,roles:Array,search:String,title:String,users:Object},computed:{items:function(){var t=this;return this.users.data.map((function(e){return e.options=function(n){t.$api.users.options(e.id,"list").then((function(t){return n(t)})).catch((function(e){t.$store.dispatch("notification/error",e)}))},e}))}},methods:{action:function(t,e){switch(e){case"edit":this.$go("/users/"+t.id);break;case"email":this.$refs.email.open(t.id);break;case"role":this.$refs.role.open(t.id);break;case"rename":this.$refs.rename.open(t.id);break;case"password":this.$refs.password.open(t.id);break;case"language":this.$refs.language.open(t.id);break;case"remove":this.$refs.remove.open(t.id)}},filter:function(t){!1===t?this.$go("/users"):this.$go("/users/role/"+t.id),this.$refs.roles.close()},paginate:function(t){this.$go(this.path,{data:{page:t.page}})}}},r=n(0),s=Object(r.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-inside",[n("k-view",{staticClass:"k-users-view"},[n("k-header",[t._v("\n      "+t._s(t.$t("view.users"))+"\n      "),n("k-button-group",{attrs:{slot:"left"},slot:"left"},[n("k-button",{attrs:{disabled:!1===t.$permissions.users.create,icon:"add"},on:{click:function(e){return t.$refs.create.open()}}},[t._v(t._s(t.$t("user.create")))])],1),t._v(" "),n("k-button-group",{attrs:{slot:"right"},slot:"right"},[n("k-dropdown",[n("k-button",{attrs:{responsive:!0,icon:"funnel"},on:{click:function(e){return t.$refs.roles.toggle()}}},[t._v("\n            "+t._s(t.$t("role"))+": "+t._s(t.role?t.role.title:t.$t("role.all"))+"\n          ")]),t._v(" "),n("k-dropdown-content",{ref:"roles",attrs:{align:"right"}},[n("k-dropdown-item",{attrs:{icon:"bolt"},on:{click:function(e){return t.filter(!1)}}},[t._v("\n              "+t._s(t.$t("role.all"))+"\n            ")]),t._v(" "),n("hr"),t._v(" "),t._l(t.roles,(function(e){return n("k-dropdown-item",{key:e.id,attrs:{icon:"bolt"},on:{click:function(n){return t.filter(e)}}},[t._v("\n              "+t._s(e.title)+"\n            ")])}))],2)],1)],1)],1),t._v(" "),t.users.data.length>0?[n("k-collection",{attrs:{items:t.items,pagination:t.users.pagination},on:{paginate:t.paginate,action:t.action}})]:0===t.users.pagination.total?[n("k-empty",{attrs:{icon:"users"}},[t._v(t._s(t.$t("role.empty")))])]:t._e(),t._v(" "),n("k-user-create-dialog",{ref:"create",on:{success:t.$reload}}),t._v(" "),n("k-user-email-dialog",{ref:"email",on:{success:t.$reload}}),t._v(" "),n("k-user-language-dialog",{ref:"language",on:{success:t.$reload}}),t._v(" "),n("k-user-password-dialog",{ref:"password"}),t._v(" "),n("k-user-remove-dialog",{ref:"remove",on:{success:t.$reload}}),t._v(" "),n("k-user-rename-dialog",{ref:"rename",on:{success:t.$reload}}),t._v(" "),n("k-user-role-dialog",{ref:"role",on:{success:t.$reload}})],2)],1)}),[],!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i={extends:n(72).default,prevnext:!1},r=n(0),s=Object(r.a)(i,void 0,void 0,!1,null,null,null);e.default=s.exports},,,,,,,,,function(t,e,n){t.exports=n(353)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var i=n(354);n.n(i).a},function(t,e,n){"use strict";var i=n(359);n.n(i).a},function(t,e,n){"use strict";var i=n(361);n.n(i).a},,function(t,e,n){"use strict";var i=n(363);n.n(i).a},,,,,,,,,,function(t,e,n){"use strict";var i=n(365);n.n(i).a},function(t,e,n){"use strict";var i=n(367);n.n(i).a},function(t,e,n){"use strict";var i=n(369);n.n(i).a},function(t,e,n){"use strict";var i=n(371);n.n(i).a},function(t,e,n){"use strict";var i=n(373);n.n(i).a},function(t,e,n){"use strict";var i=n(375);n.n(i).a},,,,,,,,function(t,e,n){"use strict";var i=n(377);n.n(i).a},,function(t,e,n){"use strict";var i=n(379);n.n(i).a},function(t,e,n){"use strict";var i=n(381);n.n(i).a},function(t,e,n){"use strict";var i=n(383);n.n(i).a},function(t,e,n){"use strict";var i=n(385);n.n(i).a},function(t,e,n){"use strict";var i=n(387);n.n(i).a},,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var i=n(389);n.n(i).a},function(t,e,n){"use strict";var i=n(391);n.n(i).a},function(t,e,n){"use strict";var i=n(393);n.n(i).a},function(t,e,n){"use strict";var i=n(395);n.n(i).a},,,,function(t,e,n){"use strict";var i=n(397);n.n(i).a},,,,function(t,e,n){"use strict";var i=n(399);n.n(i).a},function(t,e,n){"use strict";var i=n(401);n.n(i).a},function(t,e,n){"use strict";var i=n(403);n.n(i).a},function(t,e,n){"use strict";var i=n(405);n.n(i).a},function(t,e,n){"use strict";var i=n(407);n.n(i).a},function(t,e,n){"use strict";var i=n(409);n.n(i).a},function(t,e,n){"use strict";var i=n(411);n.n(i).a},function(t,e,n){"use strict";var i=n(413);n.n(i).a},function(t,e,n){"use strict";var i=n(415);n.n(i).a},function(t,e,n){"use strict";var i=n(417);n.n(i).a},function(t,e,n){"use strict";var i=n(419);n.n(i).a},function(t,e,n){"use strict";var i=n(421);n.n(i).a},function(t,e,n){"use strict";var i=n(423);n.n(i).a},function(t,e,n){"use strict";var i=n(425);n.n(i).a},function(t,e,n){"use strict";var i=n(427);n.n(i).a},function(t,e,n){"use strict";var i=n(429);n.n(i).a},function(t,e,n){"use strict";var i=n(431);n.n(i).a},function(t,e,n){"use strict";var i=n(433);n.n(i).a},function(t,e,n){"use strict";var i=n(435);n.n(i).a},function(t,e,n){"use strict";var i=n(437);n.n(i).a},function(t,e,n){"use strict";var i=n(439);n.n(i).a},function(t,e,n){"use strict";var i=n(441);n.n(i).a},function(t,e,n){"use strict";var i=n(443);n.n(i).a},function(t,e,n){"use strict";var i=n(445);n.n(i).a},function(t,e,n){"use strict";var i=n(447);n.n(i).a},function(t,e,n){"use strict";var i=n(449);n.n(i).a},function(t,e,n){"use strict";var i=n(451);n.n(i).a},function(t,e,n){"use strict";var i=n(453);n.n(i).a},function(t,e,n){"use strict";var i=n(455);n.n(i).a},function(t,e,n){"use strict";var i=n(457);n.n(i).a},function(t,e,n){"use strict";var i=n(459);n.n(i).a},function(t,e,n){"use strict";var i=n(461);n.n(i).a},function(t,e,n){"use strict";var i=n(463);n.n(i).a},function(t,e,n){"use strict";var i=n(465);n.n(i).a},function(t,e,n){"use strict";var i=n(467);n.n(i).a},function(t,e,n){"use strict";var i=n(469);n.n(i).a},function(t,e,n){"use strict";var i=n(471);n.n(i).a},,function(t,e,n){"use strict";var i=n(473);n.n(i).a},function(t,e,n){"use strict";var i=n(475);n.n(i).a},function(t,e,n){"use strict";var i=n(477);n.n(i).a},function(t,e,n){"use strict";var i=n(479);n.n(i).a},function(t,e,n){"use strict";var i=n(481);n.n(i).a},function(t,e,n){"use strict";var i=n(483);n.n(i).a},function(t,e,n){"use strict";var i=n(485);n.n(i).a},function(t,e,n){"use strict";var i=n(487);n.n(i).a},function(t,e,n){"use strict";var i=n(489);n.n(i).a},function(t,e,n){"use strict";var i=n(491);n.n(i).a},function(t,e,n){"use strict";var i=n(493);n.n(i).a},function(t,e,n){"use strict";var i=n(495);n.n(i).a},function(t,e,n){"use strict";var i=n(497);n.n(i).a},,function(t,e,n){"use strict";var i=n(499);n.n(i).a},function(t,e,n){"use strict";var i=n(501);n.n(i).a},function(t,e,n){"use strict";var i=n(503);n.n(i).a},function(t,e,n){"use strict";var i=n(505);n.n(i).a},function(t,e,n){"use strict";var i=n(507);n.n(i).a},function(t,e,n){"use strict";var i=n(509);n.n(i).a},function(t,e,n){"use strict";var i=n(511);n.n(i).a},function(t,e,n){"use strict";var i=n(513);n.n(i).a},function(t,e,n){"use strict";var i=n(515);n.n(i).a},,,,function(t,e,n){var i={"./AccountView":158,"./AccountView.vue":158,"./ErrorView":73,"./ErrorView.vue":73,"./FileView":153,"./FileView.vue":153,"./InstallationView":152,"./InstallationView.vue":152,"./LoginView":151,"./LoginView.vue":151,"./ModelView":25,"./ModelView.vue":25,"./PageView":154,"./PageView.vue":154,"./SettingsView":155,"./SettingsView.vue":155,"./SiteView":156,"./SiteView.vue":156,"./UserView":72,"./UserView.vue":72,"./UsersView":157,"./UsersView.vue":157};function r(t){var e=s(t);return n(e)}function s(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=s,t.exports=r,r.id=347},function(t,e,n){"use strict";var i=n(517);n.n(i).a},function(t,e,n){"use strict";var i=n(519);n.n(i).a},function(t,e,n){"use strict";var i=n(521);n.n(i).a},function(t,e,n){"use strict";var i=n(523);n.n(i).a},function(t,e,n){"use strict";var i=n(525);n.n(i).a},function(t,e,n){"use strict";n.r(e);n(5),n(22);var i=n(111),r=(n(7),n(6),n(4)),s=n(1),a=n.n(s),o=(n(9),n(3)),c=function(t){return{login:function(e){return Object(o.a)(a.a.mark((function n(){var i,r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={long:e.remember||!1,email:e.email,password:e.password},n.next=3,t.post("auth/login",i);case 3:return r=n.sent,n.abrupt("return",r.user);case 5:case"end":return n.stop()}}),n)})))()},logout:function(){return Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.post("auth/logout"));case 1:case"end":return e.stop()}}),e)})))()},user:function(e){return Object(o.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.get("auth",e));case 1:case"end":return n.stop()}}),n)})))()}}},l=(n(12),n(2)),u=n.n(l),p=function(t){return{breadcrumb:function(e,n){var i=null,r=[];switch(n){case"UserFile":r.push({label:e.parent.username,link:t.users.link(e.parent.id)}),i="users/"+e.parent.id;break;case"SiteFile":i="site";break;case"PageFile":r=e.parents.map((function(e){return{label:e.title,link:t.pages.link(e.id)}})),i=t.pages.url(e.parent.id)}return r.push({label:e.filename,link:this.link(i,e.filename)}),r},changeName:function(e,n,i){return Object(o.a)(a.a.mark((function r(){return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t.patch(e+"/files/"+n+"/name",{name:i}));case 1:case"end":return r.stop()}}),r)})))()},delete:function(e,n){return Object(o.a)(a.a.mark((function i(){return a.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",t.delete(e+"/files/"+n));case 1:case"end":return i.stop()}}),i)})))()},get:function(e,n,i){return Object(o.a)(a.a.mark((function r(){var s;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.get(e+"/files/"+n,i);case 2:return s=r.sent,!0===Array.isArray(s.content)&&(s.content={}),r.abrupt("return",s);case 5:case"end":return r.stop()}}),r)})))()},link:function(t,e,n){return"/"+this.url(t,e,n)},options:function(e,n,i){var r=this;return Object(o.a)(a.a.mark((function s(){var o,c,l;return a.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,t.get(r.url(e,n),{select:"options"});case 2:return o=s.sent,c=o.options,l=[],"list"===i&&l.push({icon:"open",text:u.a.i18n.translate("open"),click:"download"}),l.push({icon:"title",text:u.a.i18n.translate("rename"),click:"rename",disabled:!c.changeName}),l.push({icon:"upload",text:u.a.i18n.translate("replace"),click:"replace",disabled:!c.replace}),l.push({icon:"trash",text:u.a.i18n.translate("delete"),click:"remove",disabled:!c.delete}),s.abrupt("return",l);case 10:case"end":return s.stop()}}),s)})))()},update:function(e,n,i){return Object(o.a)(a.a.mark((function r(){return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t.patch(e+"/files/"+n,i));case 1:case"end":return r.stop()}}),r)})))()},url:function(t,e,n){var i=t+"/files/"+e;return n&&(i+="/"+n),i}}},f=function(t){return{create:function(e){return Object(o.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.post("languages",e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()},delete:function(e){return Object(o.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.delete("languages/"+e));case 1:case"end":return n.stop()}}),n)})))()},get:function(e){return Object(o.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.get("languages/"+e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()},list:function(){return Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("languages");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},update:function(e,n){return Object(o.a)(a.a.mark((function i(){return a.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",t.patch("languages/"+e,n));case 1:case"end":return i.stop()}}),i)})))()}}},d=function(t){return{blueprints:function(e,n){var i=this;return Object(o.a)(a.a.mark((function r(){return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t.get("pages/"+i.id(e)+"/children/blueprints",{section:n}));case 1:case"end":return r.stop()}}),r)})))()},breadcrumb:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t.parents.map((function(t){return{label:t.title,link:e.link(t.id)}}));return!0===n&&i.push({label:t.title,link:this.link(t.id)}),i},changeSlug:function(e,n){var i=this;return Object(o.a)(a.a.mark((function r(){return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t.patch("pages/"+i.id(e)+"/slug",{slug:n}));case 1:case"end":return r.stop()}}),r)})))()},changeStatus:function(e,n,i){var r=this;return Object(o.a)(a.a.mark((function s(){return a.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",t.patch("pages/"+r.id(e)+"/status",{status:n,position:i}));case 1:case"end":return s.stop()}}),s)})))()},changeTemplate:function(e,n){var i=this;return Object(o.a)(a.a.mark((function r(){return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t.patch("pages/"+i.id(e)+"/template",{template:n}));case 1:case"end":return r.stop()}}),r)})))()},changeTitle:function(e,n){var i=this;return Object(o.a)(a.a.mark((function r(){return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t.patch("pages/"+i.id(e)+"/title",{title:n}));case 1:case"end":return r.stop()}}),r)})))()},children:function(e,n){var i=this;return Object(o.a)(a.a.mark((function r(){return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t.post("pages/"+i.id(e)+"/children/search",n));case 1:case"end":return r.stop()}}),r)})))()},create:function(e,n){var i=this;return Object(o.a)(a.a.mark((function r(){return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null!==e&&"/"!==e){r.next=2;break}return r.abrupt("return",t.post("site/children",n));case 2:return r.abrupt("return",t.post("pages/"+i.id(e)+"/children",n));case 3:case"end":return r.stop()}}),r)})))()},delete:function(e,n){var i=this;return Object(o.a)(a.a.mark((function r(){return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t.delete("pages/"+i.id(e),n));case 1:case"end":return r.stop()}}),r)})))()},duplicate:function(e,n,i){var r=this;return Object(o.a)(a.a.mark((function s(){return a.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",t.post("pages/"+r.id(e)+"/duplicate",{slug:n,children:i.children||!1,files:i.files||!1}));case 1:case"end":return s.stop()}}),s)})))()},get:function(e,n){var i=this;return Object(o.a)(a.a.mark((function r(){var s;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.get("pages/"+i.id(e),n);case 2:return s=r.sent,!0===Array.isArray(s.content)&&(s.content={}),r.abrupt("return",s);case 5:case"end":return r.stop()}}),r)})))()},id:function(t){return t.replace(/\//g,"+")},files:function(e,n){var i=this;return Object(o.a)(a.a.mark((function r(){return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t.post("pages/"+i.id(e)+"/files/search",n));case 1:case"end":return r.stop()}}),r)})))()},link:function(t){return"/"+this.url(t)},options:function(e){var n=arguments,i=this;return Object(o.a)(a.a.mark((function r(){var s,o,c,l;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=n.length>1&&void 0!==n[1]?n[1]:"view",r.next=3,t.get(i.url(e),{select:"options"});case 3:return o=r.sent,c=o.options,l=[],"list"===s&&(l.push({click:"preview",icon:"open",text:u.a.i18n.translate("open"),disabled:!1===c.preview}),l.push("-")),l.push({click:"rename",icon:"title",text:u.a.i18n.translate("rename"),disabled:!c.changeTitle}),l.push({click:"duplicate",icon:"copy",text:u.a.i18n.translate("duplicate"),disabled:!c.duplicate}),l.push("-"),l.push({click:"url",icon:"url",text:u.a.i18n.translate("page.changeSlug"),disabled:!c.changeSlug}),l.push({click:"status",icon:"preview",text:u.a.i18n.translate("page.changeStatus"),disabled:!c.changeStatus}),l.push({click:"template",icon:"template",text:u.a.i18n.translate("page.changeTemplate"),disabled:!c.changeTemplate}),l.push("-"),l.push({click:"remove",icon:"trash",text:u.a.i18n.translate("delete"),disabled:!c.delete}),r.abrupt("return",l);case 16:case"end":return r.stop()}}),r)})))()},preview:function(t){var e=this;return Object(o.a)(a.a.mark((function n(){var i;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.get(e.id(t),{select:"previewUrl"});case 2:return i=n.sent,n.abrupt("return",i.previewUrl);case 4:case"end":return n.stop()}}),n)})))()},search:function(e,n){var i=this;return Object(o.a)(a.a.mark((function r(){return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e){r.next=2;break}return r.abrupt("return",t.post("pages/"+i.id(e)+"/children/search?select=id,title,hasChildren",n));case 2:return r.abrupt("return",t.post("site/children/search?select=id,title,hasChildren",n));case 3:case"end":return r.stop()}}),r)})))()},update:function(e,n){var i=this;return Object(o.a)(a.a.mark((function r(){return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t.patch("pages/"+i.id(e),n));case 1:case"end":return r.stop()}}),r)})))()},url:function(t,e){var n=null===t?"pages":"pages/"+t.replace(/\//g,"+");return e&&(n+="/"+e),n}}};function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var g=function(t){return{running:0,request:function(e,n){var i=arguments,r=this;return Object(o.a)(a.a.mark((function s(){var o,c,l,u,p,f;return a.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return o=i.length>2&&void 0!==i[2]&&i[2],n=Object.assign(n||{},{credentials:"same-origin",cache:"no-store",headers:m({"x-requested-with":"xmlhttprequest","content-type":"application/json"},n.headers)}),t.methodOverwrite&&"GET"!==n.method&&"POST"!==n.method&&(n.headers["x-http-method-override"]=n.method,n.method="POST"),n=t.onPrepare(n),c=e+"/"+JSON.stringify(n),t.onStart(c,o),r.running++,s.next=9,fetch(t.endpoint+"/"+e,n);case 9:return l=s.sent,s.next=12,l.text();case 12:u=s.sent,s.prev=13,s.prev=14,p=JSON.parse(u),s.next=21;break;case 18:throw s.prev=18,s.t0=s.catch(14),new Error("The JSON response from the API could not be parsed. Please check your API connection.");case 21:if(!(l.status<200||l.status>299)){s.next=23;break}throw p;case 23:if(!p.status||"error"!==p.status){s.next=25;break}throw p;case 25:return f=p,p.data&&p.type&&"model"===p.type&&(f=p.data),r.running--,t.onComplete(c),t.onSuccess(p),s.abrupt("return",f);case 33:throw s.prev=33,s.t1=s.catch(13),r.running--,t.onComplete(c),t.onError(s.t1),s.t1;case 39:case"end":return s.stop()}}),s,null,[[13,33],[14,18]])})))()},get:function(t,e,n){var i=arguments,r=this;return Object(o.a)(a.a.mark((function s(){var o;return a.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return o=i.length>3&&void 0!==i[3]&&i[3],e&&(t+="?"+Object.keys(e).filter((function(t){return void 0!==e[t]&&null!==e[t]})).map((function(t){return t+"="+e[t]})).join("&")),s.abrupt("return",r.request(t,Object.assign(n||{},{method:"GET"}),o));case 3:case"end":return s.stop()}}),s)})))()},post:function(t,e,n){var i=arguments,r=this;return Object(o.a)(a.a.mark((function s(){var o,c;return a.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return o=i.length>3&&void 0!==i[3]?i[3]:"POST",c=i.length>4&&void 0!==i[4]&&i[4],s.abrupt("return",r.request(t,Object.assign(n||{},{method:o,body:JSON.stringify(e)}),c));case 3:case"end":return s.stop()}}),s)})))()},patch:function(t,e,n){var i=arguments,r=this;return Object(o.a)(a.a.mark((function s(){var o;return a.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return o=i.length>3&&void 0!==i[3]&&i[3],s.abrupt("return",r.post(t,e,n,"PATCH",o));case 2:case"end":return s.stop()}}),s)})))()},delete:function(t,e,n){var i=arguments,r=this;return Object(o.a)(a.a.mark((function s(){var o;return a.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return o=i.length>3&&void 0!==i[3]&&i[3],s.abrupt("return",r.post(t,e,n,"DELETE",o));case 2:case"end":return s.stop()}}),s)})))()}}},b=function(t){return{list:function(e){return Object(o.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.get("roles",e));case 1:case"end":return n.stop()}}),n)})))()},get:function(e){return Object(o.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.get("roles/"+e));case 1:case"end":return n.stop()}}),n)})))()},options:function(t){var e=this;return Object(o.a)(a.a.mark((function n(){var i;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.list(t);case 2:return i=n.sent,n.abrupt("return",i.data.map((function(t){return{info:t.description||"(".concat(u.a.i18n.translate("role.description.placeholder"),")"),text:t.title,value:t.name}})));case 4:case"end":return n.stop()}}),n)})))()}}},v=function(t){return{get:function(){var e=arguments;return Object(o.a)(a.a.mark((function n(){var i;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.length>0&&void 0!==e[0]?e[0]:{view:"panel"},n.abrupt("return",t.get("system",i));case 2:case"end":return n.stop()}}),n)})))()},install:function(e){return Object(o.a)(a.a.mark((function n(){var i;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.post("system/install",e);case 2:return i=n.sent,n.abrupt("return",i.user);case 4:case"end":return n.stop()}}),n)})))()},register:function(e){return Object(o.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.post("system/register",e));case 1:case"end":return n.stop()}}),n)})))()}}},k=function(t){return{blueprint:function(){return Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.get("site/blueprint"));case 1:case"end":return e.stop()}}),e)})))()},blueprints:function(){return Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.get("site/blueprints"));case 1:case"end":return e.stop()}}),e)})))()},changeTitle:function(e){return Object(o.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.patch("site/title",{title:e}));case 1:case"end":return n.stop()}}),n)})))()},children:function(e){return Object(o.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.post("site/children/search",e));case 1:case"end":return n.stop()}}),n)})))()},get:function(){var e=arguments;return Object(o.a)(a.a.mark((function n(){var i;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.length>0&&void 0!==e[0]?e[0]:{view:"panel"},n.abrupt("return",t.get("site",i));case 2:case"end":return n.stop()}}),n)})))()},options:function(){return Object(o.a)(a.a.mark((function e(){var n,i,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("site",{select:"options"});case 2:return n=e.sent,i=n.options,(r=[]).push({click:"rename",icon:"title",text:u.a.i18n.translate("rename"),disabled:!i.changeTitle}),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))()},update:function(e){return Object(o.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.post("site",e));case 1:case"end":return n.stop()}}),n)})))()}}},y=function(t){return{list:function(){return Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.get("translations"));case 1:case"end":return e.stop()}}),e)})))()},get:function(e){return Object(o.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.get("translations/"+e));case 1:case"end":return n.stop()}}),n)})))()},options:function(){var t=this;return Object(o.a)(a.a.mark((function e(){var n,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.list();case 2:return n=e.sent,i=n.data.map((function(t){return{value:t.id,text:t.name}})),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))()}}},$=function(t){return{blueprint:function(e){return Object(o.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.get("users/"+e+"/blueprint"));case 1:case"end":return n.stop()}}),n)})))()},breadcrumb:function(t){return[{link:"/users/"+t.id,label:t.username}]},changeEmail:function(e,n){return Object(o.a)(a.a.mark((function i(){return a.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",t.patch("users/"+e+"/email",{email:n}));case 1:case"end":return i.stop()}}),i)})))()},changeLanguage:function(e,n){return Object(o.a)(a.a.mark((function i(){return a.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",t.patch("users/"+e+"/language",{language:n}));case 1:case"end":return i.stop()}}),i)})))()},changeName:function(e,n){return Object(o.a)(a.a.mark((function i(){return a.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",t.patch("users/"+e+"/name",{name:n}));case 1:case"end":return i.stop()}}),i)})))()},changePassword:function(e,n){return Object(o.a)(a.a.mark((function i(){return a.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",t.patch("users/"+e+"/password",{password:n}));case 1:case"end":return i.stop()}}),i)})))()},changeRole:function(e,n){return Object(o.a)(a.a.mark((function i(){return a.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",t.patch("users/"+e+"/role",{role:n}));case 1:case"end":return i.stop()}}),i)})))()},create:function(e){return Object(o.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.post("users",e));case 1:case"end":return n.stop()}}),n)})))()},delete:function(e){return Object(o.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.delete("users/"+e));case 1:case"end":return n.stop()}}),n)})))()},deleteAvatar:function(e){return Object(o.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.delete("users/"+e+"/avatar"));case 1:case"end":return n.stop()}}),n)})))()},link:function(t,e){return"/"+this.url(t,e)},list:function(e){return Object(o.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.get("users",e));case 1:case"end":return n.stop()}}),n)})))()},get:function(e,n){return Object(o.a)(a.a.mark((function i(){return a.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",t.get("users/"+e,n));case 1:case"end":return i.stop()}}),i)})))()},options:function(e){var n=this;return Object(o.a)(a.a.mark((function i(){var r,s,o;return a.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.get(n.url(e),{select:"options"});case 2:return r=i.sent,s=r.options,(o=[]).push({click:"rename",icon:"title",text:u.a.i18n.translate("user.changeName"),disabled:!s.changeName}),o.push({click:"email",icon:"email",text:u.a.i18n.translate("user.changeEmail"),disabled:!s.changeEmail}),o.push({click:"role",icon:"bolt",text:u.a.i18n.translate("user.changeRole"),disabled:!s.changeRole}),o.push({click:"password",icon:"key",text:u.a.i18n.translate("user.changePassword"),disabled:!s.changePassword}),o.push({click:"language",icon:"globe",text:u.a.i18n.translate("user.changeLanguage"),disabled:!s.changeLanguage}),o.push({click:"remove",icon:"trash",text:u.a.i18n.translate("user.delete"),disabled:!s.delete}),i.abrupt("return",o);case 12:case"end":return i.stop()}}),i)})))()},roles:function(e){var n=this;return Object(o.a)(a.a.mark((function i(){var r;return a.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.get(n.url(e,"roles"));case 2:return r=i.sent,i.abrupt("return",r.data.map((function(t){return{info:t.description||"(".concat(u.a.i18n.translate("role.description.placeholder"),")"),text:t.title,value:t.name}})));case 4:case"end":return i.stop()}}),i)})))()},search:function(e){return Object(o.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.post("users/search",e));case 1:case"end":return n.stop()}}),n)})))()},update:function(e,n){return Object(o.a)(a.a.mark((function i(){return a.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",t.patch("users/"+e,n));case 1:case"end":return i.stop()}}),i)})))()},url:function(t,e){var n=t?"users/"+t:"users";return e&&(n+="/"+e),n}}};function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var w={install:function(t,e){t.prototype.$api=t.$api=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={endpoint:"/api",methodOverwrite:!0,onPrepare:function(t){return t},onStart:function(){},onComplete:function(){},onSuccess:function(){},onError:function(t){throw window.console.log(t.message),t}},n=O(O({},e),t.config||{}),i=O(O(O({},n),g(n)),t);return i.auth=c(i),i.files=p(i),i.languages=f(i),i.pages=d(i),i.roles=b(i),i.system=v(i),i.site=k(i),i.translations=y(i),i.users=$(i),i.files.rename=i.files.changeName,i.pages.slug=i.pages.changeSlug,i.pages.status=i.pages.changeStatus,i.pages.template=i.pages.changeTitle,i.pages.title=i.pages.changeTemplate,i.site.title=i.site.changeTitle,i.system.info=i.system.get,i}({config:{endpoint:window.panel.$urls.api,onComplete:function(n){t.$api.requests=t.$api.requests.filter((function(t){return t!==n})),0===t.$api.requests.length&&e.dispatch("isLoading",!1)},onError:function(t){window.panel.$config.debug&&window.console.error(t),403!==t.code||"Unauthenticated"!==t.message&&"access.panel"!==t.key||e.dispatch("user/logout",!0)},onPrepare:function(t){return window.panel.$language&&(t.headers["x-language"]=window.panel.$language.code),t.headers["x-csrf"]=window.panel.$system.csrf,t},onStart:function(n){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!1===i&&e.dispatch("isLoading",!0),t.$api.requests.push(n)},onSuccess:function(){clearInterval(t.$api.ping),t.$api.ping=setInterval(t.$api.auth.user,3e5)}},ping:null,requests:[]}),t.$api.ping=setInterval(t.$api.auth.user,3e5)}},x=(n(103),n(104),{install:function(t){t.prototype.$events=new t({data:function(){return{entered:null}},created:function(){window.addEventListener("online",this.online),window.addEventListener("offline",this.offline),window.addEventListener("dragenter",this.dragenter,!1),window.addEventListener("dragover",this.prevent,!1),window.addEventListener("dragexit",this.prevent,!1),window.addEventListener("dragleave",this.dragleave,!1),window.addEventListener("drop",this.drop,!1),window.addEventListener("keydown",this.keydown,!1),window.addEventListener("keyup",this.keyup,!1),document.addEventListener("click",this.click,!1)},destroyed:function(){window.removeEventListener("online",this.online),window.removeEventListener("offline",this.offline),window.removeEventListener("dragenter",this.dragenter,!1),window.removeEventListener("dragover",this.prevent,!1),window.removeEventListener("dragexit",this.prevent,!1),window.removeEventListener("dragleave",this.dragleave,!1),window.removeEventListener("drop",this.drop,!1),window.removeEventListener("keydown",this.keydown,!1),window.removeEventListener("keyup",this.keyup,!1),document.removeEventListener("click",this.click,!1)},methods:{click:function(t){this.$emit("click",t)},drop:function(t){this.prevent(t),this.$emit("drop",t)},dragenter:function(t){this.entered=t.target,this.prevent(t),this.$emit("dragenter",t)},dragleave:function(t){this.prevent(t),this.entered===t.target&&this.$emit("dragleave",t)},keydown:function(t){var e=["keydown"];(t.metaKey||t.ctrlKey)&&e.push("cmd"),!0===t.altKey&&e.push("alt"),!0===t.shiftKey&&e.push("shift");var n=this.$helper.string.lcfirst(t.key),i={escape:"esc",arrowUp:"up",arrowDown:"down",arrowLeft:"left",arrowRight:"right"};i[n]&&(n=i[n]),!1===["alt","control","shift","meta"].includes(n)&&e.push(n),this.$emit(e.join("."),t),this.$emit("keydown",t)},keyup:function(t){this.$emit("keyup",t)},online:function(t){this.$emit("online",t)},offline:function(t){this.$emit("offline",t)},prevent:function(t){t.stopPropagation(),t.preventDefault()}}})}}),j=(n(69),n(23),n(70),function(t){if(void 0!==t)return JSON.parse(JSON.stringify(t))}),S=function(t,e){var n=null;return function(){var i=this,r=arguments;clearTimeout(n),n=setTimeout((function(){t.apply(i,r)}),e)}},P=function(t){return void 0!==u.a.options.components[t]},C=function(t){return!!t.dataTransfer&&(!!t.dataTransfer.types&&(!0===t.dataTransfer.types.includes("Files")&&!1===t.dataTransfer.types.includes("text/plain")))},E=function(t,e){var n="";for(e=(e||2)-(t=String(t)).length;n.length<e;)n+="0";return n+t},D=(n(10),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"3/2",e=String(t).split("/");if(2!==e.length)return"100%";var n=Number(e[0]),i=Number(e[1]),r=100;return 0!==n&&0!==i&&(r=100/n*i),r+"%"}),I=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i="-";return n="a-z0-9"+n,t=t.trim().toLowerCase(),e.forEach((function(e){e&&Object.keys(e).forEach((function(n){var i="/"!==n.substr(0,1),r=n.substring(1,n.length-1),s=i?n:r;t=t.replace(new RegExp(RegExp.escape(s),"g"),e[n])}))})),t=(t=(t=(t=(t=(t=t.replace("/[^\t\n\r -~]/","")).replace(new RegExp("[^"+n+"]","ig"),i)).replace(new RegExp("["+RegExp.escape(i)+"]{2,}","g"),i)).replace("/",i)).replace(new RegExp("^[^"+n+"]+","g"),"")).replace(new RegExp("[^"+n+"]+$","g"),"")},T=(n(106),function(t){var e=(t=t||{}).desc?-1:1,n=-e,i=/^0/,r=/\s+/g,s=/^\s+|\s+$/g,a=/[^\x00-\x80]/,o=/^0x[0-9a-f]+$/i,c=/(0x[\da-fA-F]+|(^[\+\-]?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?(?=\D|\s|$))|\d+)/g,l=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,u=t.insensitive?function(t){return function(t){if(t.toLocaleLowerCase)return t.toLocaleLowerCase();return t.toLowerCase()}(""+t).replace(s,"")}:function(t){return(""+t).replace(s,"")};function p(t){return t.replace(c,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0")}function f(t,e){return(!t.match(i)||1===e)&&parseFloat(t)||t.replace(r," ").replace(s,"")||0}return function(t,i){var r=u(t),s=u(i);if(!r&&!s)return 0;if(!r&&s)return n;if(r&&!s)return e;var c=p(r),d=p(s),h=parseInt(r.match(o),16)||1!==c.length&&Date.parse(r),m=parseInt(s.match(o),16)||h&&s.match(l)&&Date.parse(s)||null;if(m){if(h<m)return n;if(h>m)return e}for(var g=c.length,b=d.length,v=0,k=Math.max(g,b);v<k;v++){var y=f(c[v]||"",g),$=f(d[v]||"",b);if(isNaN(y)!==isNaN($))return isNaN(y)?e:n;if(a.test(y+$)&&y.localeCompare){var _=y.localeCompare($);if(_>0)return e;if(_<0)return n;if(v===k-1)return 0}else{if(y<$)return n;if(y>$)return e}}return 0}}),L={camelToKebab:function(t){return t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()},lcfirst:function(t){var e=String(t);return e.charAt(0).toLowerCase()+e.substr(1)},ucfirst:function(t){var e=String(t);return e.charAt(0).toUpperCase()+e.substr(1)}},A=function(t,e){var n=Object.assign({url:"/",field:"file",method:"POST",accept:"text",attributes:{},complete:function(){},error:function(){},success:function(){},progress:function(){}},e),i=new FormData;i.append(n.field,t,t.name),n.attributes&&Object.keys(n.attributes).forEach((function(t){i.append(t,n.attributes[t])}));var r=new XMLHttpRequest,s=function(e){if(e.lengthComputable&&n.progress){var i=Math.max(0,Math.min(100,e.loaded/e.total*100));n.progress(r,t,Math.ceil(i))}};r.upload.addEventListener("loadstart",s),r.upload.addEventListener("progress",s),r.addEventListener("load",(function(e){var i=null;try{i=JSON.parse(e.target.response)}catch(t){i={status:"error",message:"The file could not be uploaded"}}i.status&&"error"===i.status?n.error(r,t,i):(n.success(r,t,i),n.progress(r,t,100))})),r.addEventListener("error",(function(e){var i=JSON.parse(e.target.response);n.error(r,t,i),n.progress(r,t,100)})),r.open("POST",n.url,!0),n.headers&&Object.keys(n.headers).forEach((function(t){var e=n.headers[t];r.setRequestHeader(t,e)})),r.send(i)},B={install:function(t){Array.prototype.sortBy=function(e){var n=t.prototype.$helper.sort(),i=e.split(" "),r=i[0],s=i[1]||"asc";return this.sort((function(t,e){var i=String(t[r]).toLowerCase(),a=String(e[r]).toLowerCase();return"desc"===s?n(a,i):n(i,a)}))},RegExp.escape=function(t){return t.replace(new RegExp("[-/\\\\^$*+?.()[\\]{}]","gu"),"\\$&")},t.prototype.$helper={clone:j,isComponent:P,isUploadEvent:C,debounce:S,pad:E,ratio:D,slug:I,sort:T,string:L,upload:A}}},q=n(160),N=n(161),M=n.n(N),z=(n(219),n(0)),F=(Object(z.a)({},void 0,void 0,!1,null,null,null).exports,{props:{cancelButton:{type:[String,Boolean],default:!0},icon:{type:String,default:"check"},size:{type:String,default:"default"},submitButton:{type:[String,Boolean],default:!0},theme:String,visible:Boolean},data:function(){return{notification:null,isOpen:this.visible,scrollTop:0}},computed:{cancelButtonLabel:function(){return!1!==this.cancelButton&&(!0===this.cancelButton||0===this.cancelButton.length?this.$t("cancel"):this.cancelButton)},submitButtonConfig:function(){return void 0!==this.$attrs.button?this.$attrs.button:void 0===this.submitButton||this.submitButton},submitButtonLabel:function(){return!0===this.submitButton||0===this.submitButton.length?this.$t("confirm"):this.submitButton}},created:function(){this.$events.$on("keydown.esc",this.close,!1)},destroyed:function(){this.$events.$off("keydown.esc",this.close,!1)},mounted:function(){!0===this.isOpen&&this.$emit("open")},methods:{storeScrollPosition:function(){var t=document.querySelector(".k-panel-view");t&&t.scrollTop?this.scrollTop=t.scrollTop:this.scrollTop=0},restoreScrollPosition:function(){var t=document.querySelector(".k-panel-view");t&&t.scrollTop&&(t.scrollTop=this.scrollTop)},open:function(){var t=this;this.storeScrollPosition(),this.$store.dispatch("dialog",!0),this.notification=null,this.isOpen=!0,this.$emit("open"),this.$events.$on("keydown.esc",this.close),this.$nextTick((function(){t.$el&&(t.focus(),document.body.addEventListener("focus",(function(e){!1===t.$el.contains(e.target)&&t.focus()}),!0))}))},close:function(){this.notification=null,this.isOpen=!1,this.$emit("close"),this.$events.$off("keydown.esc",this.close),this.$store.dispatch("dialog",null),this.restoreScrollPosition()},cancel:function(){this.$emit("cancel"),this.close()},focus:function(){if(this.$el&&this.$el.querySelector){var t=this.$el.querySelector("[autofocus], [data-autofocus], input, textarea, select, .k-dialog-button-submit");if(t||(t=this.$el.querySelector(".k-dialog-button-cancel")),t)return void t.focus()}},error:function(t){this.notification={message:t,type:"error"}},submit:function(){this.$emit("submit")},success:function(t){this.notification={message:t,type:"success"}}}}),R=(n(220),Object(z.a)(F,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isOpen?n("div",{staticClass:"k-dialog",on:{mousedown:t.cancel}},[n("div",{staticClass:"k-dialog-box",attrs:{"data-size":t.size},on:{mousedown:function(t){t.stopPropagation()}}},[t.notification?n("div",{staticClass:"k-dialog-notification",attrs:{"data-theme":t.notification.type}},[n("p",[t._v(t._s(t.notification.message))]),t._v(" "),n("k-button",{attrs:{icon:"cancel"},on:{click:function(e){t.notification=null}}})],1):t._e(),t._v(" "),n("div",{staticClass:"k-dialog-body"},[t._t("default")],2),t._v(" "),t.$slots.footer||t.cancelButton||t.submitButton?n("footer",{staticClass:"k-dialog-footer"},[t._t("footer",[n("k-button-group",[n("span",[t.cancelButton?n("k-button",{staticClass:"k-dialog-button-cancel",attrs:{icon:"cancel"},on:{click:t.cancel}},[t._v("\n              "+t._s(t.cancelButtonLabel)+"\n            ")]):t._e()],1),t._v(" "),n("span",[t.submitButtonConfig?n("k-button",{staticClass:"k-dialog-button-submit",attrs:{icon:t.icon,theme:t.theme},on:{click:t.submit}},[t._v("\n              "+t._s(t.submitButtonLabel)+"\n            ")]):t._e()],1)])])],2):t._e()])]):t._e()}),[],!1,null,null,null).exports),U={props:{cancelButton:{type:[String,Boolean],default:!0},icon:String,submitButton:{type:[String,Boolean],default:!0},size:String,theme:String},methods:{close:function(){this.$refs.dialog.close(),this.$emit("close")},error:function(t){this.$refs.dialog.error(t)},open:function(){this.$refs.dialog.open(),this.$emit("open")},success:function(t){this.$refs.dialog.close(),t.route&&this.$go(t.route),t.message&&this.$store.dispatch("notification/success",t.message),t.event&&this.$events.$emit(t.event),this.$emit("success")}}},V={mixins:[U],computed:{notification:function(){var t=this.$store.state.notification;return"error"===t.type?t:null}},methods:{enter:function(){var t=this;this.$nextTick((function(){t.$el.querySelector(".k-dialog-footer .k-button").focus()}))},exit:function(){this.$store.dispatch("notification/close")}}},H=(n(221),Object(z.a)(V,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.notification?n("k-dialog",{ref:"dialog",staticClass:"k-error-dialog",attrs:{visible:!0},on:{close:t.exit,open:t.enter}},[n("k-text",[t._v(t._s(t.notification.message))]),t._v(" "),t.notification.details&&Object.keys(t.notification.details).length?n("dl",{staticClass:"k-error-details"},[t._l(t.notification.details,(function(e,i){return[n("dt",{key:"detail-label-"+i},[t._v(t._s(e.label))]),t._v(" "),n("dd",{key:"detail-message-"+i},["object"==typeof e.message?[n("ul",t._l(e.message,(function(e,i){return n("li",{key:i},[t._v("\n              "+t._s(e)+"\n            ")])})),0)]:[t._v("\n          "+t._s(e.message)+"\n        ")]],2)]}))],2):t._e(),t._v(" "),n("k-button-group",{attrs:{slot:"footer"},slot:"footer"},[n("k-button",{attrs:{icon:"check"},on:{click:t.close}},[t._v("\n      "+t._s(t.$t("confirm"))+"\n    ")])],1)],1):t._e()}),[],!1,null,null,null).exports),K={mixins:[U],data:function(){return{id:null,parent:null,filename:null}},methods:{open:function(t,e){var n=this;return Object(o.a)(a.a.mark((function i(){var r;return a.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,n.$api.files.get(t,e);case 3:r=i.sent,n.id=r.id,n.filename=r.filename,n.parent=t,n.$refs.dialog.open(),i.next=13;break;case 10:i.prev=10,i.t0=i.catch(0),n.$store.dispatch("notification/error",i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,10]])})))()},submit:function(){var t=this;return Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.files.delete(t.parent,t.filename);case 3:t.$store.dispatch("content/remove","files/"+t.id),t.$store.dispatch("notification/success",":)"),t.$events.$emit("file.delete",t.id),t.$emit("success"),t.$refs.dialog.close(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t.$refs.dialog.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()}}},Y=Object(z.a)(K,(function(){var t=this.$createElement;return(this._self._c||t)("k-remove-dialog",{ref:"dialog",attrs:{text:this.$t("file.delete.confirm",{filename:this.filename})},on:{submit:this.submit}})}),[],!1,null,null,null).exports,J={mixins:[U],data:function(){return{parent:null,file:{id:null,name:null,filename:null,extension:null}}},computed:{fields:function(){return{name:{label:this.$t("name"),type:"text",required:!0,icon:"title",after:"."+this.file.extension,preselect:!0}}}},methods:{open:function(t,e){var n=this;return Object(o.a)(a.a.mark((function i(){return a.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,n.$api.files.get(t,e,{select:["id","filename","name","extension"]});case 3:n.file=i.sent,n.parent=t,n.$refs.dialog.open(),i.next=11;break;case 8:i.prev=8,i.t0=i.catch(0),n.$store.dispatch("notification/error",i.t0);case 11:case"end":return i.stop()}}),i,null,[[0,8]])})))()},sluggify:function(t){return this.$helper.slug(t,[this.$system.slugs,this.$system.ascii],"@._-")},submit:function(){var t=this;return Object(o.a)(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.file.name=t.file.name.trim(),0!==t.file.name.length){e.next=4;break}return t.$refs.dialog.error(t.$t("error.file.changeName.empty")),e.abrupt("return");case 4:return e.prev=4,e.next=7,t.$api.files.changeName(t.parent,t.file.filename,t.file.name);case 7:n=e.sent,t.$store.dispatch("content/move",["files/"+t.file.id,"files/"+n.id]),t.$store.dispatch("notification/success",":)"),t.$emit("success",n),t.$events.$emit("file.changeName",n),t.$refs.dialog.close(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),t.$refs.dialog.error(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[4,15]])})))()}}},W=Object(z.a)(J,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("k-form-dialog",{ref:"dialog",attrs:{fields:t.fields,"submit-button":t.$t("rename")},on:{input:function(e){t.file.name=t.sluggify(t.file.name)},submit:t.submit},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})}),[],!1,null,null,null).exports;n(71),n(34);function G(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?G(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var X={data:function(){return{models:[],issue:null,selected:{},options:{endpoint:null,max:null,multiple:!0,parent:null,selected:[],search:!0},search:null,pagination:{limit:20,page:1,total:0}}},computed:{multiple:function(){return!0===this.options.multiple&&1!==this.options.max},checkedIcon:function(){return!0===this.multiple?"check":"circle-filled"}},watch:{search:S((function(){this.pagination.page=0,this.fetch()}),200)},methods:{fetch:function(){var t=this,e=Z({page:this.pagination.page,search:this.search},this.fetchData||{});return this.$api.get(this.options.endpoint,e).then((function(e){t.models=e.data,t.pagination=e.pagination,t.onFetched&&t.onFetched(e)})).catch((function(e){t.models=[],t.issue=e.message}))},open:function(t,e){var n=this;this.pagination.page=0,this.search=null;var i=!0;Array.isArray(t)?(this.models=t,i=!1):(this.models=[],e=t),this.options=Z(Z({},this.options),e),this.selected={},this.options.selected.forEach((function(t){n.$set(n.selected,t,{id:t})})),i?this.fetch().then((function(){n.$refs.dialog.open()})):this.$refs.dialog.open()},paginate:function(t){this.pagination.page=t.page,this.pagination.limit=t.limit,this.fetch()},submit:function(){this.$emit("submit",Object.values(this.selected)),this.$refs.dialog.close()},isSelected:function(t){return void 0!==this.selected[t.id]},toggle:function(t){!1!==this.options.multiple&&1!==this.options.max||(this.selected={}),!0!==this.isSelected(t)?this.options.max&&this.options.max<=Object.keys(this.selected).length||this.$set(this.selected,t.id,t):this.$delete(this.selected,t.id)}}},Q={mixins:[X]},tt=(n(223),Object(z.a)(Q,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-dialog",{ref:"dialog",staticClass:"k-files-dialog",attrs:{size:"medium"},on:{cancel:function(e){return t.$emit("cancel")},submit:t.submit}},[t.issue?[n("k-box",{attrs:{text:t.issue,theme:"negative"}})]:[t.options.search?n("k-input",{staticClass:"k-dialog-search",attrs:{autofocus:!0,placeholder:t.$t("search")+" …",type:"text",icon:"search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}):t._e(),t._v(" "),t.models.length?[n("k-list",t._l(t.models,(function(e){return n("k-list-item",{key:e.id,attrs:{text:e.text,info:e.info,image:e.image,icon:e.icon},on:{click:function(n){return t.toggle(e)}}},[t.isSelected(e)?n("k-button",{attrs:{slot:"options",autofocus:!0,icon:t.checkedIcon,tooltip:t.$t("remove"),theme:"positive"},slot:"options"}):n("k-button",{attrs:{slot:"options",autofocus:!0,tooltip:t.$t("select"),icon:"circle-outline"},slot:"options"})],1)})),1),t._v(" "),n("k-pagination",t._b({staticClass:"k-dialog-pagination",attrs:{details:!0,dropdown:!1,align:"center"},on:{paginate:t.paginate}},"k-pagination",t.pagination,!1))]:n("k-empty",{attrs:{icon:"image"}},[t._v("\n      "+t._s(t.$t("dialog.files.empty"))+"\n    ")])]],2)}),[],!1,null,null,null).exports),et={mixins:[U],props:{fields:{type:[Array,Object],default:function(){return[]}},novalidate:{type:Boolean,default:!0},size:{type:String,default:"medium"},submitButton:{type:[String,Boolean],default:function(){return this.$t("save")}},theme:{type:String,default:"positive"},value:{type:Object,default:function(){return{}}}}},nt=Object(z.a)(et,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-dialog",t._g(t._b({ref:"dialog"},"k-dialog",t.$props,!1),t.$listeners),[n("k-form",{ref:"form",attrs:{fields:t.fields,novalidate:t.novalidate},on:{input:function(e){return t.$emit("input",e)},submit:function(e){return t.$emit("submit",e)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)}),[],!1,null,null,null).exports,it={mixins:[U],data:function(){return{language:{name:"",code:"",direction:"ltr",locale:""}}},computed:{fields:function(){return{name:{label:this.$t("language.name"),type:"text",required:!0,icon:"title"},code:{label:this.$t("language.code"),type:"text",required:!0,counter:!1,icon:"globe",width:"1/2"},direction:{label:this.$t("language.direction"),type:"select",required:!0,empty:!1,options:[{value:"ltr",text:this.$t("language.direction.ltr")},{value:"rtl",text:this.$t("language.direction.rtl")}],width:"1/2"},locale:{label:this.$t("language.locale"),type:"text",placeholder:"en_US"}}}},watch:{"language.name":function(t){this.onNameChanges(t)},"language.code":function(t){this.language.code=this.$helper.slug(t,[this.$system.ascii])}},methods:{onNameChanges:function(t){this.language.code=this.$helper.slug(t,[this.language.rules,this.$system.ascii]).substr(0,2)},open:function(){this.language={name:"",code:"",direction:"ltr"},this.$refs.dialog.open()},submit:function(){var t=this;return Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.language.locale&&(t.language.locale=t.language.locale.trim()||null),e.prev=1,e.next=4,t.$api.languages.create({name:t.language.name,code:t.language.code,direction:t.language.direction,locale:t.language.locale});case 4:t.success({message:":)",event:"language.create"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t.$refs.dialog.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))()}}},rt=Object(z.a)(it,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("k-form-dialog",{ref:"dialog",attrs:{fields:t.fields,"submit-button":t.$t("language.create")},on:{submit:t.submit},model:{value:t.language,callback:function(e){t.language=e},expression:"language"}})}),[],!1,null,null,null).exports,st={mixins:[U],data:function(){return{language:{name:null}}},methods:{open:function(t){var e=this;return Object(o.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$api.languages.get(t);case 3:e.language=n.sent,e.$refs.dialog.open(),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),e.$store.dispatch("notification/error",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},submit:function(){var t=this;return Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.languages.delete(t.language.code);case 3:t.success({message:t.$t("language.deleted"),event:"language.delete"}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t.$refs.dialog.error(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()}}},at=Object(z.a)(st,(function(){var t=this.$createElement;return(this._self._c||t)("k-remove-dialog",{ref:"dialog",attrs:{text:this.$t("language.delete.confirm",{name:this.language.name})},on:{submit:this.submit}})}),[],!1,null,null,null).exports,ot=n(28),ct={mixins:[rt],computed:{fields:function(){var t=rt.computed.fields.apply(this);return t.code.disabled=!0,"object"===Object(ot.a)(this.language.locale)&&(t.locale={label:t.locale.label,type:"info",text:this.$t("language.locale.warning")}),t}},methods:{onNameChanges:function(){return!1},open:function(t){var e=this;return Object(o.a)(a.a.mark((function n(){var i;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$api.languages.get(t);case 3:e.language=n.sent,1===(i=Object.keys(e.language.locale)).length&&(e.language.locale=e.language.locale[i[0]]),e.$refs.dialog.open(),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),e.$store.dispatch("notification/error",n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()},submit:function(){var t=this;return Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.language.name.length){e.next=2;break}return e.abrupt("return",t.$refs.dialog.error(t.$t("error.language.name")));case 2:return"string"==typeof t.language.locale&&(t.language.locale=t.language.locale.trim()||null),e.prev=3,e.next=6,t.$api.languages.update(t.language.code,{name:t.language.name,direction:t.language.direction,locale:t.language.locale});case 6:t.success({message:t.$t("language.updated"),event:"language.update"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),t.$refs.dialog.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})))()}}},lt=Object(z.a)(ct,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("k-form-dialog",{ref:"dialog",attrs:{fields:t.fields,size:"medium"},on:{submit:t.submit},model:{value:t.language,callback:function(e){t.language=e},expression:"language"}})}),[],!1,null,null,null).exports,ut={mixins:[U],data:function(){return{parent:null,section:null,templates:[],page:this.emptyForm()}},computed:{fields:function(){return{title:{label:this.$t("title"),type:"text",required:!0,icon:"title"},slug:{label:this.$t("slug"),type:"text",required:!0,counter:!1,icon:"url"},template:{name:"template",label:this.$t("template"),type:"select",disabled:1===this.templates.length,required:!0,icon:"code",empty:!1,options:this.templates}}}},watch:{"page.title":function(t){this.page.slug=this.$helper.slug(t,[this.$system.slugs,this.$system.ascii])}},methods:{emptyForm:function(){return{title:"",slug:"",template:null}},open:function(t,e,n){var i=this;return Object(o.a)(a.a.mark((function r(){var s;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i.parent=t,i.section=n,r.prev=2,r.next=5,i.$api.get(e,{section:n});case 5:s=r.sent,i.templates=s.map((function(t){return{value:t.name,text:t.title}})),i.templates[0]&&(i.page.template=i.templates[0].value),i.$refs.dialog.open(),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(2),i.$store.dispatch("notification/error",r.t0);case 14:case"end":return r.stop()}}),r,null,[[2,11]])})))()},submit:function(){var t=this;return Object(o.a)(a.a.mark((function e(){var n,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.page.title=t.page.title.trim(),0!==t.page.title.length){e.next=4;break}return t.$refs.dialog.error(t.$t("error.page.changeTitle.empty")),e.abrupt("return");case 4:return n={template:t.page.template,slug:t.page.slug,content:{title:t.page.title}},e.prev=5,e.next=8,t.$api.post(t.parent+"/children",n);case 8:i=e.sent,t.success({route:t.$api.pages.link(i.id),message:":)",event:"page.create"}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),t.$refs.dialog.error(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})))()},reset:function(){this.page=this.emptyForm()}}},pt=Object(z.a)(ut,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("k-form-dialog",{ref:"dialog",attrs:{fields:t.fields,"submit-button":t.$t("page.draft.create")},on:{submit:t.submit,close:t.reset},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})}),[],!1,null,null,null).exports,ft={mixins:[U],data:function(){return{page:{children:!1,files:!1,hasChildren:!1,hasDrafts:!1,hasFiles:!1,id:null,slug:""}}},computed:{fields:function(){var t=this.page.hasChildren||this.page.hasDrafts,e=this.page.hasFiles,n={slug:{label:this.$t("slug"),type:"text",required:!0,counter:!1,spellcheck:!1,icon:"url"}};return e&&(n.files={label:this.$t("page.duplicate.files"),type:"toggle",required:!0,width:t?"1/2":null}),t&&(n.children={label:this.$t("page.duplicate.pages"),type:"toggle",required:!0,width:e?"1/2":null}),n}},watch:{"page.slug":function(t){this.page.slug=this.$helper.slug(t,[this.$system.slugs,this.$system.ascii])}},methods:{open:function(t){var e=this;return Object(o.a)(a.a.mark((function n(){var i;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$api.pages.get(t,{language:"@default",select:"id,slug,hasChildren,hasDrafts,hasFiles,title"});case 3:i=n.sent,e.page.id=i.id,e.page.slug=i.slug+"-"+e.$helper.slug(e.$t("page.duplicate.appendix")),e.page.hasChildren=i.hasChildren,e.page.hasDrafts=i.hasDrafts,e.page.hasFiles=i.hasFiles,e.$refs.dialog.open(),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),e.$store.dispatch("notification/error",n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,12]])})))()},submit:function(){var t=this;return Object(o.a)(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.pages.duplicate(t.page.id,t.page.slug,{children:t.page.children,files:t.page.files});case 3:n=e.sent,t.success({route:t.$api.pages.link(n.id),message:":)",event:"page.duplicate"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.$refs.dialog.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}},dt=Object(z.a)(ft,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("k-form-dialog",{ref:"dialog",attrs:{fields:t.fields,"submit-button":t.$t("duplicate")},on:{submit:t.submit},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})}),[],!1,null,null,null).exports,ht={mixins:[U],data:function(){return{page:{title:null,hasChildren:!1,hasDrafts:!1},model:this.emptyForm()}},computed:{hasSubpages:function(){return this.page.hasChildren||this.page.hasDrafts},fields:function(){return{check:{label:this.$t("page.delete.confirm.title"),type:"text",counter:!1}}}},methods:{emptyForm:function(){return{check:null}},open:function(t){var e=this;return Object(o.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$api.pages.get(t,{select:"id, title, hasChildren, hasDrafts, parent"});case 3:e.page=n.sent,e.$refs.dialog.open(),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),e.$store.dispatch("notification/error",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},submit:function(){var t=this;return Object(o.a)(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.hasSubpages||t.model.check===t.page.title){e.next=2;break}return e.abrupt("return",t.$refs.dialog.error(t.$t("error.page.delete.confirm")));case 2:return e.prev=2,e.next=5,t.$api.pages.delete(t.page.id,{force:!0});case 5:t.$store.dispatch("content/remove","pages/"+t.page.id),n={message:":)",event:"page.delete"},t.success(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t.$refs.dialog.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))()},reset:function(){this.model=this.emptyForm()}}},mt=(n(233),Object(z.a)(ht,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-remove-dialog",{ref:"dialog",attrs:{size:t.hasSubpages?"medium":"small"},on:{submit:t.submit,close:t.reset}},[t.page.hasChildren||t.page.hasDrafts?[n("k-text",{domProps:{innerHTML:t._s(t.$t("page.delete.confirm",{title:t.page.title}))}}),t._v(" "),n("div",{staticClass:"k-page-remove-warning"},[n("k-box",{attrs:{theme:"negative"},domProps:{innerHTML:t._s(t.$t("page.delete.confirm.subpages"))}})],1),t._v(" "),t.hasSubpages?n("k-form",{attrs:{fields:t.fields},on:{submit:t.submit},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}}):t._e()]:[n("k-text",{domProps:{innerHTML:t._s(t.$t("page.delete.confirm",{title:t.page.title}))},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)}}})]],2)}),[],!1,null,null,null).exports),gt={mixins:[U],data:function(){return{page:{id:null,title:null}}},computed:{fields:function(){return{title:{label:this.$t("title"),type:"text",required:!0,icon:"title",preselect:!0}}}},methods:{open:function(t){var e=this;return Object(o.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$api.pages.get(t,{select:["id","title"]});case 3:e.page=n.sent,e.$refs.dialog.open(),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),e.$store.dispatch("notification/error",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},submit:function(){var t=this;return Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.page.title=t.page.title.trim(),0!==t.page.title.length){e.next=3;break}return e.abrupt("return",t.$refs.dialog.error(t.$t("error.page.changeTitle.empty")));case 3:return e.prev=3,e.next=6,t.$api.pages.changeTitle(t.page.id,t.page.title);case 6:t.success({message:":)",event:"page.changeTitle"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),t.$refs.dialog.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})))()}}},bt=Object(z.a)(gt,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("k-form-dialog",{ref:"dialog",attrs:{fields:t.fields,"submit-button":t.$t("rename")},on:{submit:t.submit},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})}),[],!1,null,null,null).exports;function vt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function kt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vt(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var yt={mixins:[U],data:function(){return{page:{id:null},isBlocked:!1,isIncomplete:!1,form:{status:null,position:null},states:{}}},computed:{fields:function(){var t=this,e={status:{name:"status",label:this.$t("page.changeStatus.select"),type:"radio",required:!0,options:Object.keys(this.states).map((function(e){return{value:e,text:t.states[e].label,info:t.states[e].text}}))}};return"listed"===this.form.status&&"default"===this.page.blueprint.num&&(e.position={name:"position",label:this.$t("page.changeStatus.position"),type:"select",empty:!1,options:this.sortingOptions()}),e}},methods:{sortingOptions:function(){var t=this,e=[],n=0;return this.page.siblings.forEach((function(i){if(i.id===t.page.id||i.num<1)return!1;n++,e.push({value:n,text:n}),e.push({value:i.id,text:i.title,disabled:!0})})),e.push({value:n+1,text:n+1}),e},open:function(t){var e=this;return Object(o.a)(a.a.mark((function n(){var i,r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$api.pages.get(t,{select:["id","status","num","errors","blueprint"]});case 3:if(!1!==(i=n.sent).blueprint.options.changeStatus){n.next=6;break}return n.abrupt("return",e.$store.dispatch("notification/error",{message:e.$t("error.page.changeStatus.permission")}));case 6:if(!("draft"===i.status&&Object.keys(i.errors).length>0)){n.next=8;break}return n.abrupt("return",e.$store.dispatch("notification/error",{message:e.$t("error.page.changeStatus.incomplete"),details:i.errors}));case 8:if("default"!==i.blueprint.num){n.next=21;break}return n.prev=9,n.next=12,e.$api.pages.get(t,{select:["siblings"]});case 12:r=n.sent,e.setup(kt(kt({},i),{},{siblings:r.siblings})),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(9),e.$store.dispatch("notification/error",n.t0);case 19:n.next=22;break;case 21:e.setup(kt(kt({},i),{},{siblings:[]}));case 22:n.next=27;break;case 24:n.prev=24,n.t1=n.catch(0),e.$store.dispatch("notification/error",n.t1);case 27:case"end":return n.stop()}}),n,null,[[0,24],[9,16]])})))()},setup:function(t){this.page=t,this.form.position=t.num||t.siblings.length+1,this.form.status=t.status,this.states=t.blueprint.status,this.$refs.dialog.open()},submit:function(){var t=this;return Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.pages.status(t.page.id,t.form.status,t.form.position||1);case 3:t.success({message:":)",event:"page.changeStatus"}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t.$refs.dialog.error(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()}}},$t=Object(z.a)(yt,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("k-form-dialog",{ref:"dialog",attrs:{fields:t.fields,"submit-button":t.$t("change")},on:{submit:t.submit},model:{value:t.form,callback:function(e){t.form=e},expression:"form"}})}),[],!1,null,null,null).exports,_t={mixins:[U],data:function(){return{blueprints:[],page:{id:null,template:null}}},computed:{fields:function(){return{template:{label:this.$t("template"),type:"select",required:!0,empty:!1,options:this.page.blueprints,icon:"template"}}}},methods:{open:function(t){var e=this;return Object(o.a)(a.a.mark((function n(){var i;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$api.pages.get(t,{select:["id","template","blueprints"]});case 3:if(!((i=n.sent).blueprints.length<=1)){n.next=6;break}return n.abrupt("return",e.$store.dispatch("notification/error",{message:e.$t("error.page.changeTemplate.invalid",{slug:i.id})}));case 6:e.page=i,e.page.blueprints=e.page.blueprints.map((function(t){return{text:t.title,value:t.name}})),e.$refs.dialog.open(),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),e.$store.dispatch("notification/error",n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})))()},submit:function(){var t=this;return Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$events.$emit("keydown.cmd.s"),e.prev=1,e.next=4,t.$api.pages.template(t.page.id,t.page.template);case 4:t.success({message:":)",event:"page.changeTemplate"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t.$refs.dialog.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))()}}},Ot=Object(z.a)(_t,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("k-form-dialog",{ref:"dialog",attrs:{fields:t.fields,"submit-button":t.$t("change")},on:{submit:t.submit},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})}),[],!1,null,null,null).exports,wt={mixins:[U],data:function(){return{slug:null,url:null,page:{id:null,parent:null,title:null}}},computed:{field:function(){return{name:"slug",label:this.$t("slug"),type:"text",required:!0,icon:"url",help:"/"+this.url,counter:!1,preselect:!0}}},methods:{sluggify:function(t){this.slug=this.$helper.slug(t,[this.$system.slugs,this.$system.ascii]),this.page.parents?this.url=this.page.parents.map((function(t){return t.slug})).concat([this.slug]).join("/"):this.url=this.slug},open:function(t){var e=this;return Object(o.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$api.pages.get(t,{view:"panel"});case 3:e.page=n.sent,e.sluggify(e.page.slug),e.$refs.dialog.open(),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),e.$store.dispatch("notification/error",n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()},submit:function(){var t=this;return Object(o.a)(a.a.mark((function e(){var n,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.slug!==t.page.slug){e.next=4;break}return t.$refs.dialog.close(),t.$store.dispatch("notification/success",":)"),e.abrupt("return");case 4:if(0!==t.slug.length){e.next=6;break}return e.abrupt("return",t.$refs.dialog.error(t.$t("error.page.slug.invalid")));case 6:return e.prev=6,e.next=9,t.$api.pages.slug(t.page.id,t.slug);case 9:n=e.sent,t.$store.dispatch("content/move",["pages/"+t.page.id,"pages/"+n.id]),i={message:":)",event:"page.changeSlug"},!t.$route.params.path||t.page.id!==t.$route.params.path.replace(/\+/g,"/")||t.$language&&!0!==t.$language.default||(i.route=t.$api.pages.link(n.id),delete i.event),t.success(i),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),t.$refs.dialog.error(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[6,16]])})))()}}},xt=Object(z.a)(wt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-dialog",{ref:"dialog",attrs:{"submit-button":t.$t("change"),size:"medium",theme:"positive"},on:{submit:function(e){return t.$refs.form.submit()}}},[n("k-form",{ref:"form",on:{submit:t.submit}},[n("k-text-field",t._b({attrs:{value:t.slug},on:{input:function(e){return t.sluggify(e)}}},"k-text-field",t.field,!1),[n("k-button",{attrs:{slot:"options",icon:"wand","data-options":""},on:{click:function(e){return t.sluggify(t.page.title)}},slot:"options"},[t._v("\n        "+t._s(t.$t("page.changeSlug.fromTitle"))+"\n      ")])],1)],1)],1)}),[],!1,null,null,null).exports;function jt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jt(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Pt={mixins:[X],data:function(){var t=X.data();return St(St({},t),{},{model:{title:null,parent:null},options:St(St({},t.options),{},{parent:null})})},computed:{fetchData:function(){return{parent:this.options.parent}}},methods:{back:function(){this.options.parent=this.model.parent,this.pagination.page=1,this.fetch()},go:function(t){this.options.parent=t.id,this.pagination.page=1,this.fetch()},onFetched:function(t){this.model=t.model}}},Ct=(n(234),Object(z.a)(Pt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-dialog",{ref:"dialog",staticClass:"k-pages-dialog",attrs:{size:"medium"},on:{cancel:function(e){return t.$emit("cancel")},submit:t.submit}},[t.issue?[n("k-box",{attrs:{text:t.issue,theme:"negative"}})]:[t.model?n("header",{staticClass:"k-pages-dialog-navbar"},[n("k-button",{attrs:{disabled:!t.model.id,tooltip:t.$t("back"),icon:"angle-left"},on:{click:t.back}}),t._v(" "),n("k-headline",[t._v(t._s(t.model.title))])],1):t._e(),t._v(" "),t.options.search?n("k-input",{staticClass:"k-dialog-search",attrs:{autofocus:!0,placeholder:t.$t("search")+" …",type:"text",icon:"search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}):t._e(),t._v(" "),t.models.length?[n("k-list",t._l(t.models,(function(e){return n("k-list-item",{key:e.id,attrs:{text:e.text,info:e.info,image:e.image,icon:e.icon},on:{click:function(n){return t.toggle(e)}}},[n("template",{slot:"options"},[t.isSelected(e)?n("k-button",{attrs:{slot:"options",autofocus:!0,icon:t.checkedIcon,tooltip:t.$t("remove"),theme:"positive"},slot:"options"}):n("k-button",{attrs:{slot:"options",autofocus:!0,tooltip:t.$t("select"),icon:"circle-outline"},slot:"options"}),t._v(" "),t.model?n("k-button",{attrs:{disabled:!e.hasChildren,tooltip:t.$t("open"),icon:"angle-right"},on:{click:function(n){return n.stopPropagation(),t.go(e)}}}):t._e()],1)],2)})),1),t._v(" "),n("k-pagination",t._b({staticClass:"k-dialog-pagination",attrs:{details:!0,dropdown:!1,align:"center"},on:{paginate:t.paginate}},"k-pagination",t.pagination,!1))]:n("k-empty",{attrs:{icon:"page"}},[t._v("\n      "+t._s(t.$t("dialog.pages.empty"))+"\n    ")])]],2)}),[],!1,null,null,null).exports),Et={mixins:[U],props:{icon:{type:String,default:"trash"},submitButton:{type:[String,Boolean],default:function(){return this.$t("delete")}},text:String,theme:{type:String,default:"negative"}}},Dt=Object(z.a)(Et,(function(){var t=this.$createElement;return(this._self._c||t)("k-text-dialog",this._g(this._b({ref:"dialog"},"k-text-dialog",this.$props,!1),this.$listeners),[this._t("default")],2)}),[],!1,null,null,null).exports,It={extends:bt,methods:{open:function(){var t=this;return Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.site.get({select:["title"]});case 3:t.page=e.sent,t.$refs.dialog.open(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.$store.dispatch("notification/error",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},submit:function(){var t=this;return Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.page.title=t.page.title.trim(),0!==t.page.title.length){e.next=4;break}return t.$refs.dialog.error(t.$t("error.site.changeTitle.empty")),e.abrupt("return");case 4:return e.prev=4,e.next=7,t.$api.site.title(t.page.title);case 7:t.success({message:":)",event:"site.changeTitle"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),t.$refs.dialog.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[4,10]])})))()}}},Tt=Object(z.a)(It,void 0,void 0,!1,null,null,null).exports,Lt={mixins:[U],props:{text:String}},At=Object(z.a)(Lt,(function(){var t=this.$createElement,e=this._self._c||t;return e("k-dialog",this._g(this._b({ref:"dialog"},"k-dialog",this.$props,!1),this.$listeners),[this._t("default",[e("k-text",{domProps:{innerHTML:this._s(this.text)}})])],2)}),[],!1,null,null,null).exports,Bt={mixins:[U],data:function(){return{user:this.emptyForm(),languages:[],roles:[]}},computed:{fields:function(){return{name:{label:this.$t("name"),type:"text",icon:"user"},email:{label:this.$t("email"),type:"email",icon:"email",link:!1,required:!0},password:{label:this.$t("password"),type:"password",icon:"key"},language:{label:this.$t("language"),type:"select",icon:"globe",options:this.languages,required:!0,empty:!1},role:{label:this.$t("role"),type:this.roles.length<=1?"hidden":"radio",required:!0,options:this.roles}}}},methods:{create:function(){var t=this;return Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.users.create(t.user);case 3:t.success({message:":)",event:"user.create"}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t.$refs.dialog.error(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()},emptyForm:function(){return{name:"",email:"",password:"",language:this.$config.translation||"en",role:this.$user.role.name}},open:function(){var t=this;return Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.roles.options({canBe:"created"});case 3:t.roles=e.sent,"admin"!==t.$user.role.name&&(t.roles=t.roles.filter((function(t){return"admin"!==t.value}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.$store.dispatch("notification/error",e.t0);case 10:return e.prev=10,e.next=13,t.$api.translations.options();case 13:t.languages=e.sent,e.next=19;break;case 16:e.prev=16,e.t1=e.catch(10),t.$store.dispatch("notification/error",e.t1);case 19:t.$refs.dialog.open();case 20:case"end":return e.stop()}}),e,null,[[0,7],[10,16]])})))()},reset:function(){this.user=this.emptyForm()}}},qt=Object(z.a)(Bt,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("k-form-dialog",{ref:"dialog",attrs:{fields:t.fields,"submit-button":t.$t("create")},on:{submit:t.create,close:t.reset},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}})}),[],!1,null,null,null).exports,Nt={mixins:[U],data:function(){return{user:{id:null,email:null}}},computed:{fields:function(){return{email:{label:this.$t("email"),preselect:!0,required:!0,type:"email"}}}},methods:{open:function(t){var e=this;return Object(o.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$api.users.get(t,{select:["id","email"]});case 3:e.user=n.sent,e.$refs.dialog.open(),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),e.$store.dispatch("notification/error",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},submit:function(){var t=this;return Object(o.a)(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.users.changeEmail(t.user.id,t.user.email);case 3:e.sent,t.$store.dispatch("content/revert","users/"+t.user.id),n={message:":)",event:"user.changeEmail"},t.success(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t.$refs.dialog.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}}},Mt=Object(z.a)(Nt,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("k-form-dialog",{ref:"dialog",attrs:{fields:t.fields,"submit-button":t.$t("change")},on:{submit:t.submit},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}})}),[],!1,null,null,null).exports,zt={mixins:[U],data:function(){return{user:{language:"en"},languages:[]}},computed:{fields:function(){return{language:{label:this.$t("language"),type:"select",icon:"globe",options:this.languages,required:!0,empty:!1}}}},methods:{open:function(t){var e=this;return Object(o.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$api.translations.options();case 2:return e.languages=n.sent,n.prev=3,n.next=6,e.$api.users.get(t,{view:"compact"});case 6:e.user=n.sent,e.$refs.dialog.open(),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),e.$store.dispatch("notification/error",n.t0);case 13:case"end":return n.stop()}}),n,null,[[3,10]])})))()},submit:function(){var t=this;return Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.users.changeLanguage(t.user.id,t.user.language);case 3:t.user=e.sent,t.success({message:":)",event:"user.changeLanguage"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.$refs.dialog.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}},Ft=Object(z.a)(zt,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("k-form-dialog",{ref:"dialog",attrs:{fields:t.fields,"submit-button":t.$t("change")},on:{submit:t.submit},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}})}),[],!1,null,null,null).exports,Rt={mixins:[U],data:function(){return{user:null,values:{password:null,passwordConfirmation:null}}},computed:{fields:function(){return{password:{label:this.$t("user.changePassword.new"),type:"password",icon:"key"},passwordConfirmation:{label:this.$t("user.changePassword.new.confirm"),icon:"key",type:"password"}}}},methods:{open:function(t){var e=this;return Object(o.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$api.users.get(t);case 3:e.user=n.sent,e.$refs.dialog.open(),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),e.$store.dispatch("notification/error",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},submit:function(){var t=this;return Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.values.password&&!(t.values.password.length<8)){e.next=3;break}return t.$refs.dialog.error(t.$t("error.user.password.invalid")),e.abrupt("return",!1);case 3:if(t.values.password===t.values.passwordConfirmation){e.next=6;break}return t.$refs.dialog.error(t.$t("error.user.password.notSame")),e.abrupt("return",!1);case 6:return e.prev=6,e.next=9,t.$api.users.changePassword(t.user.id,t.values.password);case 9:t.success({message:":)",event:"user.changePassword"}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),t.$refs.dialog.error(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[6,12]])})))()}}},Ut=Object(z.a)(Rt,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("k-form-dialog",{ref:"dialog",attrs:{fields:t.fields,"submit-button":t.$t("change")},on:{submit:t.submit},model:{value:t.values,callback:function(e){t.values=e},expression:"values"}})}),[],!1,null,null,null).exports,Vt={mixins:[U],data:function(){return{user:{email:null}}},methods:{open:function(t){var e=this;return Object(o.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$api.users.get(t);case 3:e.user=n.sent,e.$refs.dialog.open(),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),e.$store.dispatch("notification/error",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},submit:function(){var t=this;return Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.users.delete(t.user.id);case 3:t.$store.dispatch("content/remove","users/"+t.user.id),t.success({message:":)",event:"user.delete"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.$refs.dialog.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}},Ht=Object(z.a)(Vt,(function(){var t=this.$createElement;return(this._self._c||t)("k-remove-dialog",{ref:"dialog",attrs:{text:this.$t("user.delete.confirm",{email:this.user.email})},on:{submit:this.submit}})}),[],!1,null,null,null).exports,Kt={mixins:[U],data:function(){return{user:{id:null,name:null}}},computed:{fields:function(){return{name:{label:this.$t("name"),type:"text",icon:"user",preselect:!0}}}},methods:{open:function(t){var e=this;return Object(o.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$api.users.get(t,{select:["id","name"]});case 3:e.user=n.sent,e.$refs.dialog.open(),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),e.$store.dispatch("notification/error",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},submit:function(){var t=this;return Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.user.name=t.user.name.trim(),e.prev=1,e.next=4,t.$api.users.changeName(t.user.id,t.user.name);case 4:t.$user.id===t.user.id&&t.$store.dispatch("user/name",t.user.name),t.success({message:":)",event:"user.changeName"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t.$refs.dialog.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()}}},Yt=Object(z.a)(Kt,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("k-form-dialog",{ref:"dialog",attrs:{fields:t.fields,"submit-button":t.$t("rename")},on:{submit:t.submit},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}})}),[],!1,null,null,null).exports,Jt={mixins:[U],data:function(){return{roles:[],user:{id:null,role:"visitor"}}},computed:{fields:function(){return{role:{label:this.$t("user.changeRole.select"),type:"radio",required:!0,options:this.roles}}}},methods:{open:function(t){var e=this;return Object(o.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.id=t,n.prev=1,n.next=4,e.$api.users.get(t);case 4:return e.user=n.sent,e.user.role=e.user.role.name,n.next=8,e.$api.users.roles(t);case 8:e.roles=n.sent,"admin"!==e.$user.role.name&&(e.roles=e.roles.filter((function(t){return"admin"!==t.value}))),e.$refs.dialog.open(),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),e.$store.dispatch("notification/error",n.t0);case 16:case"end":return n.stop()}}),n,null,[[1,13]])})))()},submit:function(){var t=this;return Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.users.changeRole(t.user.id,t.user.role);case 3:t.success({message:":)",event:"user.changeRole"}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t.$refs.dialog.error(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()}}},Wt=Object(z.a)(Jt,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("k-form-dialog",{ref:"dialog",attrs:{fields:t.fields,"submit-button":t.$t("user.changeRole")},on:{submit:t.submit},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}})}),[],!1,null,null,null).exports,Gt={mixins:[X]},Zt=(n(235),Object(z.a)(Gt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-dialog",{ref:"dialog",staticClass:"k-users-dialog",attrs:{size:"medium"},on:{cancel:function(e){return t.$emit("cancel")},submit:t.submit}},[t.issue?[n("k-box",{attrs:{text:t.issue,theme:"negative"}})]:[t.options.search?n("k-input",{staticClass:"k-dialog-search",attrs:{autofocus:!0,placeholder:t.$t("search")+" …",type:"text",icon:"search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}):t._e(),t._v(" "),t.models.length?[n("k-list",t._l(t.models,(function(e){return n("k-list-item",{key:e.email,attrs:{text:e.username,image:e.image,icon:e.icon},on:{click:function(n){return t.toggle(e)}}},[t.isSelected(e)?n("k-button",{attrs:{slot:"options",autofocus:!0,icon:t.checkedIcon,tooltip:t.$t("remove"),theme:"positive"},slot:"options"}):n("k-button",{attrs:{slot:"options",autofocus:!0,tooltip:t.$t("select"),icon:"circle-outline"},slot:"options"})],1)})),1),t._v(" "),n("k-pagination",t._b({staticClass:"k-dialog-pagination",attrs:{details:!0,dropdown:!1,align:"center"},on:{paginate:t.paginate}},"k-pagination",t.pagination,!1))]:n("k-empty",{attrs:{icon:"users"}},[t._v("\n      "+t._s(t.$t("dialog.users.empty"))+"\n    ")])]],2)}),[],!1,null,null,null).exports),Xt={props:{limit:{type:Number,default:10},skip:{type:Array,default:function(){return[]}},options:Array,query:String},data:function(){return{matches:[],selected:{text:null}}},methods:{close:function(){this.$refs.dropdown.close()},onSelect:function(t){this.$refs.dropdown.close(),this.$emit("select",t)},search:function(t){var e=this;if(!(t.length<1)){var n=new RegExp(RegExp.escape(t),"ig");this.matches=this.options.filter((function(t){return!!t.text&&(-1===e.skip.indexOf(t.value)&&null!==t.text.match(n))})).slice(0,this.limit),this.$emit("search",t,this.matches),this.$refs.dropdown.open()}}}},Qt=Object(z.a)(Xt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-dropdown",{staticClass:"k-autocomplete"},[t._t("default"),t._v(" "),n("k-dropdown-content",t._g({ref:"dropdown",attrs:{autofocus:!0}},t.$listeners),t._l(t.matches,(function(e,i){return n("k-dropdown-item",t._b({key:i,on:{mousedown:function(n){return t.onSelect(e)},keydown:[function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"tab",9,n.key,"Tab")?null:(n.preventDefault(),t.onSelect(e))},function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:(n.preventDefault(),t.onSelect(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:(e.preventDefault(),t.close(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"backspace",void 0,e.key,void 0)?null:(e.preventDefault(),t.close(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:(e.preventDefault(),t.close(e))}]}},"k-dropdown-item",e,!1),[t._v("\n      "+t._s(e.text)+"\n    ")])})),1),t._v("\n  "+t._s(t.query)+"\n")],2)}),[],!1,null,null,null).exports,te={props:{value:String,disabled:Boolean},data:function(){var t=this.value?this.$library.dayjs(this.value):this.$library.dayjs();return{day:t.date(),month:t.month(),year:t.year(),today:this.$library.dayjs(),current:t}},computed:{date:function(){return this.$library.dayjs("".concat(this.year,"-").concat(this.month+1,"-").concat(this.day))},numberOfDays:function(){return this.date.daysInMonth()},numberOfWeeks:function(){return Math.ceil((this.numberOfDays+this.firstWeekday-1)/7)},firstWeekday:function(){var t=this.date.clone().startOf("month").day();return t>0?t:7},weekdays:function(){return[this.$t("days.mon"),this.$t("days.tue"),this.$t("days.wed"),this.$t("days.thu"),this.$t("days.fri"),this.$t("days.sat"),this.$t("days.sun")]},monthnames:function(){return[this.$t("months.january"),this.$t("months.february"),this.$t("months.march"),this.$t("months.april"),this.$t("months.may"),this.$t("months.june"),this.$t("months.july"),this.$t("months.august"),this.$t("months.september"),this.$t("months.october"),this.$t("months.november"),this.$t("months.december")]},months:function(){var t=[];return this.monthnames.forEach((function(e,n){t.push({value:n,text:e})})),t},years:function(){for(var t=[],e=this.year-10;e<=this.year+10;e++)t.push({value:e,text:this.$helper.pad(e)});return t}},watch:{value:function(t){var e=this.$library.dayjs(t);this.day=e.date(),this.month=e.month(),this.year=e.year(),this.current=e}},methods:{days:function(t){for(var e=[],n=7*(t-1)+1,i=n;i<n+7;i++){var r=i-(this.firstWeekday-1);r<=0||r>this.numberOfDays?e.push(""):e.push(r)}return e},next:function(){var t=this.date.clone().add(1,"month");this.set(t)},isToday:function(t){return this.month===this.today.month()&&this.year===this.today.year()&&t===this.today.date()},isCurrent:function(t){return this.month===this.current.month()&&this.year===this.current.year()&&t===this.current.date()},prev:function(){var t=this.date.clone().subtract(1,"month");this.set(t)},go:function(t,e){"today"===t&&(t=this.today.year(),e=this.today.month()),this.year=t,this.month=e},set:function(t){this.day=t.date(),this.month=t.month(),this.year=t.year()},selectToday:function(){this.set(this.$library.dayjs()),this.select(this.day)},select:function(t){t&&(this.day=t);var e=this.$library.dayjs(new Date(this.year,this.month,this.day,this.current.hour(),this.current.minute()));this.$emit("input",e.toISOString())}}},ee=(n(236),Object(z.a)(te,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-calendar-input"},[n("nav",[n("k-button",{attrs:{icon:"angle-left"},on:{click:t.prev}}),t._v(" "),n("span",{staticClass:"k-calendar-selects"},[n("k-select-input",{attrs:{options:t.months,disabled:t.disabled,required:!0},model:{value:t.month,callback:function(e){t.month=t._n(e)},expression:"month"}}),t._v(" "),n("k-select-input",{attrs:{options:t.years,disabled:t.disabled,required:!0},model:{value:t.year,callback:function(e){t.year=t._n(e)},expression:"year"}})],1),t._v(" "),n("k-button",{attrs:{icon:"angle-right"},on:{click:t.next}})],1),t._v(" "),n("table",{staticClass:"k-calendar-table"},[n("thead",[n("tr",t._l(t.weekdays,(function(e){return n("th",{key:"weekday_"+e},[t._v(t._s(e))])})),0)]),t._v(" "),n("tbody",t._l(t.numberOfWeeks,(function(e){return n("tr",{key:"week_"+e},t._l(t.days(e),(function(e,i){return n("td",{key:"day_"+i,staticClass:"k-calendar-day",attrs:{"aria-current":!!t.isToday(e)&&"date","aria-selected":!!t.isCurrent(e)&&"date"}},[e?n("k-button",{on:{click:function(n){return t.select(e)}}},[t._v(t._s(e))]):t._e()],1)})),0)})),0),t._v(" "),n("tfoot",[n("tr",[n("td",{staticClass:"k-calendar-today",attrs:{colspan:"7"}},[n("k-button",{on:{click:t.selectToday}},[t._v(t._s(t.$t("today")))])],1)])])])])}),[],!1,null,null,null).exports),ne={props:{count:Number,min:Number,max:Number,required:{type:Boolean,default:!1}},computed:{valid:function(){return!1===this.required&&0===this.count||(!0!==this.required||0!==this.count)&&(!(this.min&&this.count<this.min)&&!(this.max&&this.count>this.max))}}},ie=(n(237),Object(z.a)(ne,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"k-counter",attrs:{"data-invalid":!t.valid}},[n("span",[t._v(t._s(t.count))]),t._v(" "),t.min&&t.max?n("span",{staticClass:"k-counter-rules"},[t._v("("+t._s(t.min)+"–"+t._s(t.max)+")")]):t.min?n("span",{staticClass:"k-counter-rules"},[t._v("≥ "+t._s(t.min))]):t.max?n("span",{staticClass:"k-counter-rules"},[t._v("≤ "+t._s(t.max))]):t._e()])}),[],!1,null,null,null).exports);function re(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function se(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?re(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ae={props:{disabled:Boolean,config:Object,fields:{type:[Array,Object],default:function(){return{}}},novalidate:{type:Boolean,default:!1},value:{type:Object,default:function(){return{}}}},data:function(){return{errors:{},listeners:se(se({},this.$listeners),{},{submit:this.onSubmit})}},methods:{focus:function(t){this.$refs.fields&&this.$refs.fields.focus&&this.$refs.fields.focus(t)},onSubmit:function(){this.$emit("submit",this.value)},submit:function(){this.$refs.submitter.click()}}},oe=(n(238),Object(z.a)(ae,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{ref:"form",staticClass:"k-form",attrs:{method:"POST",autocomplete:"off",novalidate:""},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[t._t("header"),t._v(" "),t._t("default",[n("k-fieldset",t._g({ref:"fields",attrs:{disabled:t.disabled,fields:t.fields,novalidate:t.novalidate},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t.listeners))]),t._v(" "),t._t("footer"),t._v(" "),n("input",{ref:"submitter",staticClass:"k-form-submitter",attrs:{type:"submit"}})],2)}),[],!1,null,null,null).exports),ce=n(35),le={data:function(){return{supportsLocking:!0}},computed:{api:function(){return{lock:[this.$view.path+"/lock",null,null,!0],unlock:[this.$view.path+"/unlock",null,null,!0]}},hasChanges:function(){return this.$store.getters["content/hasChanges"]()},form:function(){return{lock:this.$store.state.content.status.lock,unlock:this.$store.state.content.status.unlock}},id:function(){return this.$store.state.content.current},isDisabled:function(){return!1===this.$store.state.content.status.enabled},isLocked:function(){return null!==this.form.lock},isUnlocked:function(){return null!==this.form.unlock},mode:function(){return!0===this.isUnlocked?"unlock":!0===this.isLocked?"lock":!0===this.hasChanges?"changes":void 0}},watch:{hasChanges:function(t,e){if(!1===e&&!0===t)return this.$store.dispatch("heartbeat/remove",this.getLock),void this.$store.dispatch("heartbeat/add",[this.setLock,30]);this.id&&!0===e&&!1===t&&this.removeLock()},id:function(){this.id&&!1===this.hasChanges&&this.$store.dispatch("heartbeat/add",[this.getLock,10])}},created:function(){this.$events.$on("keydown.cmd.s",this.onSave)},destroyed:function(){this.$events.$off("keydown.cmd.s",this.onSave)},methods:{getLock:function(){var t,e=this;return(t=this.$api).get.apply(t,Object(ce.a)(this.api.lock)).then((function(t){if(!1===t.supported)return e.supportsLocking=!1,void e.$store.dispatch("heartbeat/remove",e.getLock);!1===t.locked?(e.isLocked&&e.form.lock.user!==e.$store.state.user.current.id&&e.$events.$emit("model.reload"),e.$store.dispatch("content/lock",null)):e.$store.dispatch("content/lock",t.locked)})).catch((function(){}))},setLock:function(){var t,e=this;!0===this.supportsLocking&&(t=this.$api).patch.apply(t,Object(ce.a)(this.api.lock)).catch((function(t){if("error.lock.notImplemented"===t.key)return e.supportsLocking=!1,e.$store.dispatch("heartbeat/remove",e.setLock),!1;e.$store.dispatch("content/revert",e.id),e.$store.dispatch("heartbeat/remove",e.setLock),e.$store.dispatch("heartbeat/add",[e.getLock,10])}))},removeLock:function(){var t,e=this;!0===this.supportsLocking&&(this.$store.dispatch("heartbeat/remove",this.setLock),(t=this.$api).delete.apply(t,Object(ce.a)(this.api.lock)).then((function(){e.$store.dispatch("content/lock",null),e.$store.dispatch("heartbeat/add",[e.getLock,10])})).catch((function(){})))},setUnlock:function(){var t,e=this;!0===this.supportsLocking&&(this.$store.dispatch("heartbeat/remove",this.setLock),(t=this.$api).patch.apply(t,Object(ce.a)(this.api.unlock)).then((function(){e.$store.dispatch("content/lock",null),e.$store.dispatch("heartbeat/add",[e.getLock,10])})).catch((function(){})))},removeUnlock:function(){var t,e=this;!0===this.supportsLocking&&(this.$store.dispatch("heartbeat/remove",this.setLock),(t=this.$api).delete.apply(t,Object(ce.a)(this.api.unlock)).then((function(){e.$store.dispatch("content/unlock",null),e.$store.dispatch("heartbeat/add",[e.getLock,10])})).catch((function(){})))},onDownload:function(){var t=this,e="";Object.keys(this.form.unlock).forEach((function(n){e+=n+": \n\n"+t.form.unlock[n],e+="\n\n----\n\n"}));var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),n.setAttribute("download",this.id+".txt"),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)},onResolve:function(){this.$store.dispatch("content/revert"),this.removeUnlock()},onRevert:function(){this.$store.dispatch("content/revert"),this.$refs.revert.close()},onSave:function(t){var e=this;return!!t&&(t.preventDefault&&t.preventDefault(),!1===this.hasChanges||void this.$store.dispatch("content/save").then((function(){e.$events.$emit("model.update"),e.$store.dispatch("notification/success",":)")})).catch((function(t){403!==t.code&&(t.details&&Object.keys(t.details).length>0?e.$store.dispatch("notification/error",{message:e.$t("error.form.incomplete"),details:t.details}):e.$store.dispatch("notification/error",{message:e.$t("error.form.notSaved"),details:[{label:"Exception: "+t.exception,message:t.message}]}))})))}}},ue=(n(246),Object(z.a)(le,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"k-form-buttons",attrs:{"data-theme":t.mode}},["unlock"===t.mode?n("k-view",[n("p",{staticClass:"k-form-lock-info"},[t._v("\n      "+t._s(t.$t("lock.isUnlocked"))+"\n    ")]),t._v(" "),n("span",{staticClass:"k-form-lock-buttons"},[n("k-button",{staticClass:"k-form-button",attrs:{icon:"download"},on:{click:t.onDownload}},[t._v("\n        "+t._s(t.$t("download"))+"\n      ")]),t._v(" "),n("k-button",{staticClass:"k-form-button",attrs:{icon:"check"},on:{click:t.onResolve}},[t._v("\n        "+t._s(t.$t("confirm"))+"\n      ")])],1)]):"lock"===t.mode?n("k-view",[n("p",{staticClass:"k-form-lock-info"},[n("k-icon",{attrs:{type:"lock"}}),t._v(" "),n("span",{domProps:{innerHTML:t._s(t.$t("lock.isLocked",{email:t.form.lock.email}))}})],1),t._v(" "),t.form.lock.unlockable?n("k-button",{staticClass:"k-form-button",attrs:{icon:"unlock"},on:{click:t.setUnlock}},[t._v("\n      "+t._s(t.$t("lock.unlock"))+"\n    ")]):n("k-icon",{staticClass:"k-form-lock-loader",attrs:{type:"loader"}})],1):"changes"===t.mode?n("k-view",[n("k-button",{staticClass:"k-form-button",attrs:{disabled:t.isDisabled,icon:"undo"},on:{click:function(e){return t.$refs.revert.open()}}},[t._v("\n      "+t._s(t.$t("revert"))+"\n    ")]),t._v(" "),n("k-button",{staticClass:"k-form-button",attrs:{disabled:t.isDisabled,icon:"check"},on:{click:t.onSave}},[t._v("\n      "+t._s(t.$t("save"))+"\n    ")])],1):t._e(),t._v(" "),n("k-dialog",{ref:"revert",attrs:{"submit-button":t.$t("revert"),icon:"undo",theme:"negative"},on:{submit:t.onRevert}},[n("k-text",{domProps:{innerHTML:t._s(t.$t("revert.confirm"))}})],1)],1)}),[],!1,null,null,null).exports);n(247),n(148);function pe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var fe={data:function(){return{isOpen:!1,entries:[]}},computed:{store:function(){return this.$store.state.content.models},models:function(){var t=this,e=Object.keys(this.store).filter((function(e){return!!t.store[e]})).map((function(e){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pe(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({id:e},t.store[e])}));return e.filter((function(t){return Object.keys(t.changes).length>0}))},hasChanges:function(){return this.models.length>0}},methods:{go:function(t){var e={};t.language&&(e.language=t.language),this.$go(t.link,{data:e})},load:function(){var t=this,e=this.models.map((function(e){return t.$api.get(e.api,{view:"compact"},null,!0).then((function(n){var i;if(i=!0===e.id.startsWith("pages/")?{icon:"page",label:n.title,target:{link:t.$api.pages.link(n.id)}}:!0===e.id.startsWith("files/")?{icon:"image",label:n.filename,target:{link:n.link}}:!0===e.id.startsWith("users/")?{icon:"user",label:n.email,target:{link:t.$api.users.link(n.id)}}:{icon:"home",label:n.title,target:{link:"/site"}},t.$language){var r=e.id.split("/").pop();i.label=i.label+" ("+r+")",i.target.language=r}return i})).catch((function(){return t.$store.dispatch("content/remove",e.id),null}))}));return Promise.all(e).then((function(e){t.entries=e.filter((function(t){return null!==t})),0===t.entries.length&&t.$store.dispatch("notification/success",t.$t("lock.unsaved.empty"))}))},toggle:function(){var t=this;!1===this.$refs.list.isOpen?this.load().then((function(){t.$refs.list&&t.$refs.list.toggle()})):this.$refs.list.toggle()}}},de=(n(248),Object(z.a)(fe,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.hasChanges?n("k-dropdown",{staticClass:"k-form-indicator"},[n("k-button",{staticClass:"k-topbar-button",on:{click:t.toggle}},[n("k-icon",{staticClass:"k-form-indicator-icon",attrs:{type:"edit"}})],1),t._v(" "),n("k-dropdown-content",{ref:"list",attrs:{align:"right"}},[n("p",{staticClass:"k-form-indicator-info"},[t._v("\n      "+t._s(t.$t("lock.unsaved"))+":\n    ")]),t._v(" "),n("hr"),t._v(" "),t._l(t.entries,(function(e){return n("k-dropdown-item",{key:e.id,attrs:{icon:e.icon},nativeOn:{click:function(n){return n.stopPropagation(),t.go(e.target)}}},[t._v("\n      "+t._s(e.label)+"\n    ")])}))],2)],1):t._e()}),[],!1,null,null,null).exports),he={inheritAttrs:!1,props:{counter:[Boolean,Object],disabled:Boolean,endpoints:Object,help:String,input:[String,Number],label:String,name:[String,Number],required:Boolean,translate:Boolean,type:String},computed:{labelText:function(){return this.label||" "}}},me=(n(249),Object(z.a)(he,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:"k-field k-field-name-"+t.name,attrs:{"data-disabled":t.disabled,"data-translate":t.translate},on:{focusin:function(e){return t.$emit("focus",e)},focusout:function(e){return t.$emit("blur",e)}}},[t._t("header",[n("header",{staticClass:"k-field-header"},[t._t("label",[n("label",{staticClass:"k-field-label",attrs:{for:t.input}},[t._v(t._s(t.labelText)+" "),t.required?n("abbr",{attrs:{title:t.$t("field.required")}},[t._v("*")]):t._e()])]),t._v(" "),t._t("options"),t._v(" "),t._t("counter",[t.counter?n("k-counter",t._b({staticClass:"k-field-counter",attrs:{required:t.required}},"k-counter",t.counter,!1)):t._e()])],2)]),t._v(" "),t._t("default"),t._v(" "),t._t("footer",[t.help||t.$slots.help?n("footer",{staticClass:"k-field-footer"},[t._t("help",[t.help?n("k-text",{staticClass:"k-field-help",attrs:{theme:"help"},domProps:{innerHTML:t._s(t.help)}}):t._e()])],2):t._e()])],2)}),[],!1,null,null,null).exports),ge={props:{config:Object,disabled:Boolean,fields:{type:[Array,Object],default:function(){return[]}},novalidate:{type:Boolean,default:!1},value:{type:Object,default:function(){return{}}}},data:function(){return{errors:{}}},methods:{focus:function(t){if(t)this.hasField(t)&&"function"==typeof this.$refs[t][0].focus&&this.$refs[t][0].focus();else{var e=Object.keys(this.$refs)[0];this.focus(e)}},hasFieldType:function(t){return this.$helper.isComponent("k-".concat(t,"-field"))},hasField:function(t){return this.$refs[t]&&this.$refs[t][0]},meetsCondition:function(t){var e=this;if(!t.when)return!0;var n=!0;return Object.keys(t.when).forEach((function(i){e.value[i.toLowerCase()]!==t.when[i]&&(n=!1)})),n},onInvalid:function(t,e,n,i){this.errors[i]=e,this.$emit("invalid",this.errors)},hasErrors:function(){return Object.keys(this.errors).length}}},be=(n(250),Object(z.a)(ge,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("fieldset",{staticClass:"k-fieldset"},[n("k-grid",[t._l(t.fields,(function(e,i){return["hidden"!==e.type&&t.meetsCondition(e)?n("k-column",{key:e.signature,attrs:{width:e.width}},[n("k-error-boundary",[t.hasFieldType(e.type)?n("k-"+e.type+"-field",t._b({ref:i,refInFor:!0,tag:"component",attrs:{name:i,novalidate:t.novalidate,disabled:t.disabled||e.disabled},on:{input:function(n){return t.$emit("input",t.value,e,i)},focus:function(n){return t.$emit("focus",n,e,i)},invalid:function(n,r){return t.onInvalid(n,r,e,i)},submit:function(n){return t.$emit("submit",n,e,i)}},model:{value:t.value[i],callback:function(e){t.$set(t.value,i,e)},expression:"value[fieldName]"}},"component",e,!1)):n("k-box",{attrs:{theme:"negative"}},[n("k-text",{attrs:{size:"small"}},[t._v("\n              The field type "),n("strong",[t._v('"'+t._s(i)+'"')]),t._v(" does not exist\n            ")])],1)],1)],1):t._e()]}))],2)],1)}),[],!1,null,null,null).exports);function ve(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ke(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ve(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ye={inheritAttrs:!1,props:{after:String,before:String,disabled:Boolean,type:String,icon:[String,Boolean],invalid:Boolean,theme:String,novalidate:{type:Boolean,default:!1},value:{type:[String,Boolean,Number,Object,Array],default:null}},data:function(){var t=this;return{isInvalid:this.invalid,listeners:ke(ke({},this.$listeners),{},{invalid:function(e,n){t.isInvalid=e,t.$emit("invalid",e,n)}})}},computed:{inputProps:function(){return ke(ke({},this.$props),this.$attrs)}},methods:{blur:function(t){t.relatedTarget&&!1===this.$el.contains(t.relatedTarget)&&this.$refs.input.blur&&this.$refs.input.blur()},focus:function(t){if(t&&t.target&&"INPUT"===t.target.tagName)t.target.focus();else if(this.$refs.input&&this.$refs.input.focus)this.$refs.input.focus();else{var e=this.$el.querySelector("input, select, textarea");e&&e.focus()}}}},$e=(n(251),Object(z.a)(ye,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-input",attrs:{"data-disabled":t.disabled,"data-invalid":!t.novalidate&&t.isInvalid,"data-theme":t.theme,"data-type":t.type}},[t.$slots.before||t.before?n("span",{staticClass:"k-input-before",on:{click:t.focus}},[t._t("before",[t._v(t._s(t.before))])],2):t._e(),t._v(" "),n("span",{staticClass:"k-input-element",on:{click:function(e){return e.stopPropagation(),t.focus(e)}}},[t._t("default",[n("k-"+t.type+"-input",t._g(t._b({ref:"input",tag:"component",attrs:{value:t.value}},"component",t.inputProps,!1),t.listeners))])],2),t._v(" "),t.$slots.after||t.after?n("span",{staticClass:"k-input-after",on:{click:t.focus}},[t._t("after",[t._v(t._s(t.after))])],2):t._e(),t._v(" "),t.$slots.icon||t.icon?n("span",{staticClass:"k-input-icon",on:{click:t.focus}},[t._t("icon",[n("k-icon",{attrs:{type:t.icon}})])],2):t._e()])}),[],!1,null,null,null).exports),_e={props:{url:{type:String},accept:{type:String,default:"*"},attributes:{type:Object},multiple:{type:Boolean,default:!0},max:{type:Number}},data:function(){return{options:this.$props,completed:{},errors:[],files:[],total:0}},methods:{open:function(t){var e=this;this.params(t),setTimeout((function(){e.$refs.input.click()}),1)},params:function(t){this.options=Object.assign({},this.$props,t)},select:function(t){this.upload(t.target.files)},drop:function(t,e){this.params(e),this.upload(t)},upload:function(t){var e=this;this.$refs.dialog.open(),this.files=Object(ce.a)(t),this.completed={},this.errors=[],this.hasErrors=!1,this.options.max&&(this.files=this.files.slice(0,this.options.max)),this.total=this.files.length,this.files.forEach((function(t){e.$helper.upload(t,{url:e.options.url,attributes:e.options.attributes,headers:{"X-CSRF":window.panel.$system.csrf},progress:function(t,n,i){e.$refs[n.name]&&e.$refs[n.name][0]&&e.$refs[n.name][0].set(i)},success:function(t,n,i){e.complete(n,i.data)},error:function(t,n,i){e.errors.push({file:n,message:i.message}),e.complete(n,i.data)}})}))},complete:function(t,e){var n=this;if(this.completed[t.name]=e,Object.keys(this.completed).length==this.total){if(this.$refs.input.value="",this.errors.length>0)return this.$forceUpdate(),void this.$emit("error",this.files);setTimeout((function(){n.$refs.dialog.close(),n.$emit("success",n.files,Object.values(n.completed))}),250)}}}},Oe=(n(252),Object(z.a)(_e,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-upload"},[n("input",{ref:"input",attrs:{accept:t.options.accept,multiple:t.options.multiple,"aria-hidden":"true",type:"file",tabindex:"-1"},on:{change:t.select,click:function(t){t.stopPropagation()}}}),t._v(" "),n("k-dialog",{ref:"dialog",attrs:{"cancel-button":!1,"submit-button":!1,size:"medium"}},[t.errors.length>0?[n("k-headline",[t._v(t._s(t.$t("upload.errors")))]),t._v(" "),n("ul",{staticClass:"k-upload-error-list"},t._l(t.errors,(function(e,i){return n("li",{key:"error-"+i},[n("p",{staticClass:"k-upload-error-filename"},[t._v(t._s(e.file.name))]),t._v(" "),n("p",{staticClass:"k-upload-error-message"},[t._v(t._s(e.message))])])})),0)]:[n("k-headline",[t._v(t._s(t.$t("upload.progress")))]),t._v(" "),n("ul",{staticClass:"k-upload-list"},t._l(t.files,(function(e,i){return n("li",{key:"file-"+i},[n("k-progress",{ref:e.name,refInFor:!0}),t._v(" "),n("p",{staticClass:"k-upload-list-filename"},[t._v(t._s(e.name))]),t._v(" "),n("p",[t._v(t._s(t.errors[e.name]))])],1)})),0)],t._v(" "),n("template",{slot:"footer"},[t.errors.length>0?[n("k-button-group",[n("k-button",{attrs:{icon:"check"},on:{click:function(e){return t.$refs.dialog.close()}}},[t._v("\n            "+t._s(t.$t("confirm"))+"\n          ")])],1)]:t._e()],2)],2)],1)}),[],!1,null,null,null).exports),we=n(8),xe={inheritAttrs:!1,props:{autofocus:Boolean,disabled:Boolean,id:[Number,String],label:String,required:Boolean,value:Boolean},watch:{value:function(){this.onInvalid()}},mounted:function(){this.onInvalid(),this.$props.autofocus&&this.focus()},methods:{focus:function(){this.$refs.input.focus()},onChange:function(t){this.$emit("input",t)},onInvalid:function(){this.$emit("invalid",this.$v.$invalid,this.$v)},select:function(){this.focus()}},validations:function(){return{value:{required:!this.required||we.required}}}},je=(n(272),Object(z.a)(xe,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"k-checkbox-input",on:{click:function(t){t.stopPropagation()}}},[n("input",{ref:"input",staticClass:"k-checkbox-input-native",attrs:{disabled:t.disabled,id:t.id,type:"checkbox"},domProps:{checked:t.value},on:{change:function(e){return t.onChange(e.target.checked)}}}),t._v(" "),n("span",{staticClass:"k-checkbox-input-icon",attrs:{"aria-hidden":"true"}},[n("svg",{attrs:{width:"12",height:"10",viewBox:"0 0 12 10",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M1 5l3.3 3L11 1","stroke-width":"2",fill:"none","fill-rule":"evenodd"}})])]),t._v(" "),n("span",{staticClass:"k-checkbox-input-label",domProps:{innerHTML:t._s(t.label)}})])}),[],!1,null,null,null).exports),Se={inheritAttrs:!1,props:{autofocus:Boolean,columns:Number,disabled:Boolean,id:{type:[Number,String],default:function(){return this._uid}},max:Number,min:Number,options:Array,required:Boolean,value:{type:[Array,Object],default:function(){return[]}}},data:function(){return{selected:this.valueToArray(this.value)}},watch:{value:function(t){this.selected=this.valueToArray(t)},selected:function(){this.onInvalid()}},mounted:function(){this.onInvalid(),this.$props.autofocus&&this.focus()},methods:{focus:function(){this.$el.querySelector("input").focus()},onInput:function(t,e){if(!0===e)this.selected.push(t);else{var n=this.selected.indexOf(t);-1!==n&&this.selected.splice(n,1)}this.$emit("input",this.selected)},onInvalid:function(){this.$emit("invalid",this.$v.$invalid,this.$v)},select:function(){this.focus()},valueToArray:function(t){return!0===Array.isArray(t)?t:"string"==typeof t?String(t).split(","):"object"===Object(ot.a)(t)?Object.values(t):void 0}},validations:function(){return{selected:{required:!this.required||we.required,min:!this.min||Object(we.minLength)(this.min),max:!this.max||Object(we.maxLength)(this.max)}}}},Pe=Object(z.a)(Se,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"k-checkboxes-input",style:"--columns:"+t.columns},t._l(t.options,(function(e,i){return n("li",{key:i},[n("k-checkbox-input",{attrs:{id:t.id+"-"+i,label:e.text,value:-1!==t.selected.indexOf(e.value)},on:{input:function(n){return t.onInput(e.value,n)}}})],1)})),0)}),[],!1,null,null,null).exports,Ce={inheritAttrs:!1,props:{autofocus:Boolean,disabled:Boolean,id:[String,Number],max:String,min:String,required:Boolean,value:String},data:function(){return{date:this.$library.dayjs(this.value),minDate:this.calculate(this.min,"min"),maxDate:this.calculate(this.max,"max")}},computed:{day:function(){return isNaN(this.date.date())?"":this.date.date()},days:function(){return this.options(1,this.date.daysInMonth()||31,"days")},month:function(){return isNaN(this.date.date())?"":this.date.month()+1},months:function(){return this.options(1,12,"months")},year:function(){return isNaN(this.date.year())?"":this.date.year()},years:function(){var t=this.date.isBefore(this.minDate)?this.date.year():this.minDate.year(),e=this.date.isAfter(this.maxDate)?this.date.year():this.maxDate.year();return this.options(t,e)}},watch:{value:function(t){this.date=this.$library.dayjs(t)}},methods:{calculate:function(t,e){var n={min:{run:"subtract",take:"startOf"},max:{run:"add",take:"endOf"}}[e],i=t?this.$library.dayjs(t):null;return i&&!1!==i.isValid()||(i=this.$library.dayjs()[n.run](10,"year")[n.take]("year")),i},focus:function(){this.$refs.years.focus()},onInput:function(){!1!==this.date.isValid()?this.$emit("input",this.date.toISOString()):this.$emit("input","")},onInvalid:function(t,e){this.$emit("invalid",t,e)},options:function(t,e){for(var n=[],i=t;i<=e;i++)n.push({value:i,text:this.$helper.pad(i)});return n},set:function(t,e){if(""===e||null===e||!1===e||-1===e)return this.setInvalid(),void this.onInput();if(!1===this.date.isValid())return this.setInitialDate(t,e),void this.onInput();var n=this.date,i=this.date.date();this.date=this.date.set(t,parseInt(e)),"month"===t&&this.date.date()!==i&&(this.date=n.set("date",1).set("month",e).endOf("month")),this.onInput()},setInvalid:function(){this.date=this.$library.dayjs("invalid")},setInitialDate:function(t,e){var n=this.$library.dayjs();return this.date=this.$library.dayjs().set(t,parseInt(e)),"date"===t&&n.month()!==this.date.month()&&(this.date=n.endOf("month")),this.date},setDay:function(t){this.set("date",t)},setMonth:function(t){this.set("month",t-1)},setYear:function(t){this.set("year",t)}}},Ee=(n(273),Object(z.a)(Ce,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-date-input"},[n("k-select-input",{ref:"years",attrs:{"aria-label":t.$t("year"),options:t.years,disabled:t.disabled,required:t.required,value:t.year,placeholder:"––––"},on:{input:t.setYear,invalid:t.onInvalid}}),t._v(" "),n("span",{staticClass:"k-date-input-separator"},[t._v("-")]),t._v(" "),n("k-select-input",{ref:"months",attrs:{"aria-label":t.$t("month"),options:t.months,disabled:t.disabled,required:t.required,value:t.month,placeholder:"––"},on:{input:t.setMonth,invalid:t.onInvalid}}),t._v(" "),n("span",{staticClass:"k-date-input-separator"},[t._v("-")]),t._v(" "),n("k-select-input",{ref:"days",attrs:{"aria-label":t.$t("day"),autofocus:t.autofocus,id:t.id,options:t.days,disabled:t.disabled,required:t.required,value:t.day,placeholder:"––"},on:{input:t.setDay,invalid:t.onInvalid}})],1)}),[],!1,null,null,null).exports);function De(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Ie(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?De(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Te={inheritAttrs:!1,props:Ie(Ie({},Ee.props),{},{time:{type:[Boolean,Object],default:function(){return{}}},value:String}),data:function(){return{dateValue:this.parseDate(this.value),timeValue:this.parseTime(this.value),timeOptions:this.setTimeOptions()}},watch:{value:function(t){this.dateValue=this.parseDate(t),this.timeValue=this.parseTime(t),this.onInvalid()}},mounted:function(){this.onInvalid()},methods:{focus:function(){this.$refs.dateInput.focus()},onInput:function(){if(this.timeValue&&this.dateValue){var t=this.dateValue+"T"+this.timeValue+":00";this.$emit("input",t)}else this.$emit("input","")},onInvalid:function(){this.$emit("invalid",this.$v.$invalid,this.$v)},parseDate:function(t){var e=this.$library.dayjs(t);return e.isValid()?e.format("YYYY-MM-DD"):null},parseTime:function(t){var e=this.$library.dayjs(t);return e.isValid()?e.format("HH:mm"):null},setDate:function(t){t&&!this.timeValue&&(this.timeValue=this.$library.dayjs().format("HH:mm")),t?this.dateValue=this.parseDate(t):(this.dateValue=null,this.timeValue=null),this.onInput()},setTime:function(t){t&&!this.dateValue&&(this.dateValue=this.$library.dayjs().format("YYYY-MM-DD")),t?this.timeValue=t:(this.dateValue=null,this.timeValue=null),this.onInput()},setTimeOptions:function(){return!0===this.time?{}:this.time}},validations:function(){return{value:{required:!this.required||we.required}}}},Le=(n(274),Object(z.a)(Te,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-datetime-input"},[n("k-date-input",{ref:"dateInput",attrs:{autofocus:t.autofocus,required:t.required,id:t.id,min:t.min,max:t.max,disabled:t.disabled,value:t.dateValue},on:{input:t.setDate}}),t._v(" "),n("k-time-input",t._b({ref:"timeInput",attrs:{required:t.required,disabled:t.disabled,value:t.timeValue},on:{input:t.setTime}},"k-time-input",t.timeOptions,!1))],1)}),[],!1,null,null,null).exports);function Ae(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Be(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ae(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var qe={inheritAttrs:!1,class:"k-text-input",props:{autocomplete:{type:[Boolean,String],default:"off"},autofocus:Boolean,disabled:Boolean,id:[Number,String],maxlength:Number,minlength:Number,name:[Number,String],pattern:String,placeholder:String,preselect:Boolean,required:Boolean,spellcheck:{type:[Boolean,String],default:"off"},type:{type:String,default:"text"},value:String},data:function(){var t=this;return{listeners:Be(Be({},this.$listeners),{},{input:function(e){return t.onInput(e.target.value)}})}},watch:{value:function(){this.onInvalid()}},mounted:function(){this.onInvalid(),this.$props.autofocus&&this.focus(),this.$props.preselect&&this.select()},methods:{focus:function(){this.$refs.input.focus()},onInput:function(t){this.$emit("input",t)},onInvalid:function(){this.$emit("invalid",this.$v.$invalid,this.$v)},select:function(){this.$refs.input.select()}},validations:function(){var t=this;return{value:{required:!this.required||we.required,minLength:!this.minlength||Object(we.minLength)(this.minlength),maxLength:!this.maxlength||Object(we.maxLength)(this.maxlength),email:"email"!==this.type||we.email,url:"url"!==this.type||we.url,pattern:!this.pattern||function(e){return!t.required&&!e||!t.$refs.input.validity.patternMismatch}}}}},Ne=(n(275),Object(z.a)(qe,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",t._g(t._b({ref:"input",staticClass:"k-text-input"},"input",{autocomplete:t.autocomplete,autofocus:t.autofocus,disabled:t.disabled,id:t.id,minlength:t.minlength,name:t.name,pattern:t.pattern,placeholder:t.placeholder,required:t.required,spellcheck:t.spellcheck,type:t.type,value:t.value},!1),t.listeners))}),[],!1,null,null,null).exports);function Me(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ze(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Me(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Fe={extends:Ne,props:ze(ze({},Ne.props),{},{autocomplete:{type:String,default:"email"},placeholder:{type:String,default:function(){return this.$t("email.placeholder")}},type:{type:String,default:"email"}})},Re=Object(z.a)(Fe,void 0,void 0,!1,null,null,null).exports;n(149);function Ue(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Ve(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ue(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var He={inheritAttrs:!1,props:{id:[Number,String],disabled:Boolean,max:Number,min:Number,layout:String,options:{type:Array,default:function(){return[]}},required:Boolean,search:[Object,Boolean],separator:{type:String,default:","},sort:Boolean,value:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{state:this.value,q:null,limit:!0,scrollTop:0}},computed:{draggable:function(){return this.state.length>1&&!this.sort},dragOptions:function(){return{disabled:!this.draggable,draggable:".k-tag",delay:1}},emptyLabel:function(){return this.q?this.$t("search.results.none"):this.$t("options.none")},visible:function(){return this.limit?this.filtered.slice(0,this.search.display||this.filtered.length):this.filtered},filtered:function(){if(this.q&&this.q.length>=(this.search.min||0)){var t=new RegExp("(".concat(RegExp.escape(this.q),")"),"ig");return this.options.filter((function(e){return String(e.text).match(t)||String(e.value).match(t)})).map((function(e){return Ve(Ve({},e),{},{display:String(e.text).replace(t,"<b>$1</b>"),info:String(e.value).replace(t,"<b>$1</b>")})}))}return this.options.map((function(t){return Ve(Ve({},t),{},{display:t.text,info:t.value})}))},sorted:function(){var t=this;if(!1===this.sort)return this.state;var e=this.state,n=function(e){return t.options.findIndex((function(t){return t.value===e.value}))};return e.sort((function(t,e){return n(t)-n(e)}))},more:function(){return!this.max||this.state.length<this.max}},watch:{value:function(t){this.state=t,this.onInvalid()}},mounted:function(){this.onInvalid(),this.$events.$on("click",this.close),this.$events.$on("keydown.cmd.s",this.close)},destroyed:function(){this.$events.$off("click",this.close),this.$events.$off("keydown.cmd.s",this.close)},methods:{add:function(t){!0===this.more&&(this.state.push(t),this.onInput())},blur:function(){this.close()},close:function(){!0===this.$refs.dropdown.isOpen&&(this.$refs.dropdown.close(),this.limit=!0)},escape:function(){this.q?this.q=null:this.close()},focus:function(){this.$refs.dropdown.open()},index:function(t){return this.state.findIndex((function(e){return e.value===t.value}))},isSelected:function(t){return-1!==this.index(t)},navigate:function(t){var e=document.activeElement;switch(t){case"prev":e&&e.previousSibling&&e.previousSibling.focus&&e.previousSibling.focus();break;case"next":e&&e.nextSibling&&e.nextSibling.focus&&e.nextSibling.focus()}},onClose:function(){!1===this.$refs.dropdown.isOpen&&(document.activeElement===this.$parent.$el&&(this.q=null),this.$parent.$el.focus())},onInput:function(){this.$emit("input",this.sorted)},onInvalid:function(){this.$emit("invalid",this.$v.$invalid,this.$v)},onOpen:function(){var t=this;this.$nextTick((function(){t.$refs.search&&t.$refs.search.focus&&t.$refs.search.focus(),t.$refs.dropdown.$el.querySelector(".k-multiselect-options").scrollTop=t.scrollTop}))},remove:function(t){this.state.splice(this.index(t),1),this.onInput()},select:function(t){this.scrollTop=this.$refs.dropdown.$el.querySelector(".k-multiselect-options").scrollTop,t={text:t.text,value:t.value},this.isSelected(t)?this.remove(t):this.add(t)}},validations:function(){return{state:{required:!this.required||we.required,minLength:!this.min||Object(we.minLength)(this.min),maxLength:!this.max||Object(we.maxLength)(this.max)}}}},Ke=(n(279),Object(z.a)(He,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-draggable",{staticClass:"k-multiselect-input",attrs:{list:t.state,options:t.dragOptions,"data-layout":t.layout,element:"k-dropdown"},on:{end:t.onInput},nativeOn:{click:function(e){return t.$refs.dropdown.toggle(e)}}},[t._l(t.sorted,(function(e){return n("k-tag",{key:e.value,ref:e.value,refInFor:!0,attrs:{removable:!0},on:{remove:function(n){return t.remove(e)}},nativeOn:{click:function(t){t.stopPropagation()},keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.navigate("prev")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])||"button"in e&&2!==e.button?null:t.navigate("next")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.$refs.dropdown.open(e)}]}},[t._v("\n    "+t._s(e.text)+"\n  ")])})),t._v(" "),n("k-dropdown-content",{ref:"dropdown",attrs:{slot:"footer"},on:{open:t.onOpen,close:t.onClose},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:(e.stopPropagation(),t.close(e))}},slot:"footer"},[t.search?n("k-dropdown-item",{staticClass:"k-multiselect-search",attrs:{icon:"search"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.q,expression:"q"}],ref:"search",attrs:{placeholder:t.search.min?t.$t("search.min",{min:t.search.min}):t.$t("search")+" …"},domProps:{value:t.q},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:(e.stopPropagation(),t.escape(e))},input:function(e){e.target.composing||(t.q=e.target.value)}}})]):t._e(),t._v(" "),n("div",{staticClass:"k-multiselect-options"},[t._l(t.visible,(function(e){return n("k-dropdown-item",{key:e.value,class:{"k-multiselect-option":!0,selected:t.isSelected(e),disabled:!t.more},attrs:{icon:t.isSelected(e)?"check":"circle-outline"},on:{click:function(n){return n.preventDefault(),t.select(e)}},nativeOn:{keydown:[function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:(n.preventDefault(),n.stopPropagation(),t.select(e))},function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"space",32,n.key,[" ","Spacebar"])?null:(n.preventDefault(),n.stopPropagation(),t.select(e))}]}},[n("span",{domProps:{innerHTML:t._s(e.display)}}),t._v(" "),n("span",{staticClass:"k-multiselect-value",domProps:{innerHTML:t._s(e.info)}})])})),t._v(" "),0===t.filtered.length?n("k-dropdown-item",{staticClass:"k-multiselect-option",attrs:{disabled:!0}},[t._v("\n        "+t._s(t.emptyLabel)+"\n      ")]):t._e()],2),t._v(" "),t.visible.length<t.filtered.length?n("k-button",{staticClass:"k-multiselect-more",on:{click:function(e){e.stopPropagation(),t.limit=!1}}},[t._v("\n      "+t._s(t.$t("search.all"))+" ("+t._s(t.filtered.length)+")\n    ")]):t._e()],1)],2)}),[],!1,null,null,null).exports);n(280),n(110);function Ye(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Je(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ye(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var We={inheritAttrs:!1,props:{autofocus:Boolean,disabled:Boolean,id:[Number,String],max:Number,min:Number,name:[Number,String],placeholder:String,preselect:Boolean,required:Boolean,step:Number,value:{type:[Number,String],default:null}},data:function(){var t=this;return{number:this.format(this.value),stepNumber:this.format(this.step),timeout:null,listeners:Je(Je({},this.$listeners),{},{input:function(e){return t.onInput(e.target.value)},blur:this.onBlur})}},watch:{value:function(t){this.number=t},number:{immediate:!0,handler:function(){this.onInvalid()}}},mounted:function(){this.$props.autofocus&&this.focus(),this.$props.preselect&&this.select()},methods:{decimals:function(){var t=Number(this.step||0);return Math.floor(t)===t?0:-1!==t.toString().indexOf("e")?parseInt(t.toFixed(16).split(".")[1].split("").reverse().join("")).toString().length:t.toString().split(".")[1].length||0},format:function(t){if(isNaN(t)||""===t)return"";var e=this.decimals();return t=e?parseFloat(t).toFixed(e):Number.isInteger(this.step)?parseInt(t):parseFloat(t)},clean:function(){this.number=this.format(this.number)},emit:function(t){t=parseFloat(t),isNaN(t)&&(t=""),t!==this.value&&this.$emit("input",t)},focus:function(){this.$refs.input.focus()},onInvalid:function(){this.$emit("invalid",this.$v.$invalid,this.$v)},onInput:function(t){this.number=t,this.emit(t)},onBlur:function(){this.clean(),this.emit(this.number)},select:function(){this.$refs.input.select()}},validations:function(){return{value:{required:!this.required||we.required,min:!this.min||Object(we.minValue)(this.min),max:!this.max||Object(we.maxValue)(this.max)}}}},Ge=(n(283),Object(z.a)(We,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",t._g(t._b({ref:"input",staticClass:"k-number-input",attrs:{step:t.stepNumber,type:"number"},domProps:{value:t.number},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"s",void 0,e.key,void 0)?null:e.ctrlKey?t.clean(e):null},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"s",void 0,e.key,void 0)?null:e.metaKey?t.clean(e):null}]}},"input",{autofocus:t.autofocus,disabled:t.disabled,id:t.id,max:t.max,min:t.min,name:t.name,placeholder:t.placeholder,required:t.required},!1),t.listeners))}),[],!1,null,null,null).exports);function Ze(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Xe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ze(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Qe={extends:Ne,props:Xe(Xe({},Ne.props),{},{autocomplete:{type:String,default:"new-password"},type:{type:String,default:"password"}})},tn=Object(z.a)(Qe,void 0,void 0,!1,null,null,null).exports,en={inheritAttrs:!1,props:{autofocus:Boolean,columns:Number,disabled:Boolean,id:{type:[Number,String],default:function(){return this._uid}},options:Array,required:Boolean,value:[String,Number,Boolean]},watch:{value:function(){this.onInvalid()}},mounted:function(){this.onInvalid(),this.$props.autofocus&&this.focus()},methods:{focus:function(){this.$el.querySelector("input").focus()},onInput:function(t){this.$emit("input",t)},onInvalid:function(){this.$emit("invalid",this.$v.$invalid,this.$v)},select:function(){this.focus()}},validations:function(){return{value:{required:!this.required||we.required}}}},nn=(n(284),Object(z.a)(en,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"k-radio-input",style:"--columns:"+t.columns},t._l(t.options,(function(e,i){return n("li",{key:i},[n("input",{staticClass:"k-radio-input-native",attrs:{id:t.id+"-"+i,name:t.id,type:"radio"},domProps:{value:e.value,checked:t.value===e.value},on:{change:function(n){return t.onInput(e.value)}}}),t._v(" "),n("label",{attrs:{for:t.id+"-"+i}},[e.info?[n("span",{staticClass:"k-radio-input-text"},[t._v(t._s(e.text))]),t._v(" "),n("span",{staticClass:"k-radio-input-info"},[t._v(t._s(e.info))])]:[t._v("\n        "+t._s(e.text)+"\n      ")]],2),t._v(" "),e.icon?n("k-icon",{attrs:{type:e.icon}}):t._e()],1)})),0)}),[],!1,null,null,null).exports);function rn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rn(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var an={inheritAttrs:!1,props:{autofocus:Boolean,disabled:Boolean,id:[String,Number],default:[Number,String],max:{type:Number,default:100},min:{type:Number,default:0},name:[String,Number],required:Boolean,step:{type:Number,default:1},tooltip:{type:[Boolean,Object],default:function(){return{before:null,after:null}}},value:[Number,String]},data:function(){var t=this;return{listeners:sn(sn({},this.$listeners),{},{input:function(e){return t.onInput(e.target.value)}})}},computed:{baseline:function(){return this.min<0?0:this.min},label:function(){return this.required||this.value||0===this.value?this.format(this.position):"–"},position:function(){return this.value||0===this.value?this.value:this.default||this.baseline}},watch:{position:function(){this.onInvalid()}},mounted:function(){this.onInvalid(),this.$props.autofocus&&this.focus()},methods:{focus:function(){this.$refs.input.focus()},format:function(t){var e=document.lang?document.lang.replace("_","-"):"en",n=this.step.toString().split("."),i=n.length>1?n[1].length:0;return new Intl.NumberFormat(e,{minimumFractionDigits:i}).format(t)},onInvalid:function(){this.$emit("invalid",this.$v.$invalid,this.$v)},onInput:function(t){this.$emit("input",t)}},validations:function(){return{position:{required:!this.required||we.required,min:!this.min||Object(we.minValue)(this.min),max:!this.max||Object(we.maxValue)(this.max)}}}},on=(n(285),Object(z.a)(an,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"k-range-input"},[n("input",t._g(t._b({ref:"input",staticClass:"k-range-input-native",style:"--min: "+t.min+"; --max: "+t.max+"; --value: "+t.position,attrs:{type:"range"},domProps:{value:t.position}},"input",{autofocus:t.autofocus,disabled:t.disabled,id:t.id,max:t.max,min:t.min,name:t.name,required:t.required,step:t.step},!1),t.listeners)),t._v(" "),t.tooltip?n("span",{staticClass:"k-range-input-tooltip"},[t.tooltip.before?n("span",{staticClass:"k-range-input-tooltip-before"},[t._v(t._s(t.tooltip.before))]):t._e(),t._v(" "),n("span",{staticClass:"k-range-input-tooltip-text"},[t._v(t._s(t.label))]),t._v(" "),t.tooltip.after?n("span",{staticClass:"k-range-input-tooltip-after"},[t._v(t._s(t.tooltip.after))]):t._e()]):t._e()])}),[],!1,null,null,null).exports);function cn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ln(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cn(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var un={inheritAttrs:!1,props:{autofocus:Boolean,ariaLabel:String,default:String,disabled:Boolean,empty:{type:[Boolean,String],default:!0},id:[Number,String],name:[Number,String],placeholder:String,options:{type:Array,default:function(){return[]}},required:Boolean,value:{type:[String,Number,Boolean],default:""}},data:function(){var t=this;return{selected:this.value,listeners:ln(ln({},this.$listeners),{},{click:function(e){return t.onClick(e)},change:function(e){return t.onInput(e.target.value)},input:function(){}})}},computed:{emptyOption:function(){return this.placeholder||"—"},hasEmptyOption:function(){return!1!==this.empty&&!(this.required&&this.default)},label:function(){var t=this.text(this.selected);return""===this.selected||null===this.selected||null===t?this.emptyOption:t}},watch:{value:function(t){this.selected=t,this.onInvalid()}},mounted:function(){this.onInvalid(),this.$props.autofocus&&this.focus()},methods:{focus:function(){this.$refs.input.focus()},onClick:function(t){t.stopPropagation(),this.$emit("click",t)},onInvalid:function(){this.$emit("invalid",this.$v.$invalid,this.$v)},onInput:function(t){this.selected=t,this.$emit("input",this.selected)},select:function(){this.focus()},text:function(t){var e=null;return this.options.forEach((function(n){n.value==t&&(e=n.text)})),e}},validations:function(){return{selected:{required:!this.required||we.required}}}},pn=(n(286),Object(z.a)(un,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"k-select-input",attrs:{"data-disabled":t.disabled,"data-empty":""===t.selected}},[n("select",t._g({ref:"input",staticClass:"k-select-input-native",attrs:{autofocus:t.autofocus,"aria-label":t.ariaLabel,disabled:t.disabled,id:t.id,name:t.name,required:t.required},domProps:{value:t.selected}},t.listeners),[t.hasEmptyOption?n("option",{attrs:{disabled:t.required,value:""}},[t._v("\n      "+t._s(t.emptyOption)+"\n    ")]):t._e(),t._v(" "),t._l(t.options,(function(e){return n("option",{key:e.value,attrs:{disabled:e.disabled},domProps:{value:e.value}},[t._v("\n      "+t._s(e.text)+"\n    ")])}))],2),t._v("\n  "+t._s(t.label)+"\n")])}),[],!1,null,null,null).exports),fn={inheritAttrs:!1,props:{autofocus:Boolean,accept:{type:String,default:"all"},disabled:Boolean,icon:{type:[String,Boolean],default:"tag"},id:[Number,String],layout:String,max:Number,min:Number,name:[Number,String],options:{type:Array,default:function(){return[]}},required:Boolean,separator:{type:String,default:","},value:{type:Array,default:function(){return[]}}},data:function(){var t=this;return{tags:this.prepareTags(this.value),selected:null,newTag:null,tagOptions:this.options.map((function(e){return t.icon&&t.icon.length>0&&(e.icon=t.icon),e}),this)}},computed:{dragOptions:function(){return{delay:1,disabled:!this.draggable,draggable:".k-tag"}},draggable:function(){return this.tags.length>1},skip:function(){return this.tags.map((function(t){return t.value}))}},watch:{value:function(t){this.tags=this.prepareTags(t),this.onInvalid()}},mounted:function(){this.onInvalid(),this.$props.autofocus&&this.focus()},methods:{addString:function(t){var e=this;if(t)if((t=t.trim()).includes(this.separator))t.split(this.separator).forEach((function(t){e.addString(t)}));else if(0!==t.length)if("options"===this.accept){var n=this.options.filter((function(e){return e.text===t}))[0];if(!n)return;this.addTag(n)}else this.addTag({text:t,value:t})},addTag:function(t){this.addTagToIndex(t),this.$refs.autocomplete.close(),this.$refs.input.focus()},addTagToIndex:function(t){if("options"===this.accept&&!this.options.filter((function(e){return e.value===t.value}))[0])return;-1===this.index(t)&&(!this.max||this.tags.length<this.max)&&(this.tags.push(t),this.onInput()),this.newTag=null},blurInput:function(t){var e=t.relatedTarget||t.explicitOriginalTarget;this.$refs.autocomplete.$el&&this.$refs.autocomplete.$el.contains(e)||this.$refs.input.value.length&&(this.addTagToIndex(this.$refs.input.value),this.$refs.autocomplete.close())},edit:function(t){this.newTag=t.text,this.$refs.input.select(),this.remove(t)},enter:function(t){if(!this.newTag||0===this.newTag.length)return!0;t.preventDefault(),this.addString(this.newTag)},focus:function(){this.$refs.input.focus()},get:function(t){var e=null;switch(t){case"prev":if(!this.selected)return;if((e=this.index(this.selected)-1)<0)return;break;case"next":if(!this.selected)return;if((e=this.index(this.selected)+1)>=this.tags.length)return;break;case"first":e=0;break;case"last":e=this.tags.length-1;break;default:e=t}var n=this.tags[e];if(n){var i=this.$refs[n.value];if(i&&i[0])return{ref:i[0],tag:n,index:e}}return!1},index:function(t){return this.tags.findIndex((function(e){return e.value===t.value}))},onInput:function(){this.$emit("input",this.tags)},onInvalid:function(){this.$emit("invalid",this.$v.$invalid,this.$v)},leaveInput:function(t){0===t.target.selectionStart&&t.target.selectionStart===t.target.selectionEnd&&0!==this.tags.length&&(this.$refs.autocomplete.close(),this.navigate("last"),t.preventDefault())},navigate:function(t){var e=this.get(t);e?(e.ref.focus(),this.selectTag(e.tag)):"next"===t&&(this.$refs.input.focus(),this.selectTag(null))},prepareTags:function(t){return!1===Array.isArray(t)?[]:t.map((function(t){return"string"==typeof t?{text:t,value:t}:t}))},remove:function(t){var e=this.get("prev"),n=this.get("next");this.tags.splice(this.index(t),1),this.onInput(),e?(this.selectTag(e.tag),e.ref.focus()):n?this.selectTag(n.tag):(this.selectTag(null),this.$refs.input.focus())},select:function(){this.focus()},selectTag:function(t){this.selected=t},tab:function(t){this.newTag&&this.newTag.length>0&&(t.preventDefault(),this.addString(this.newTag))},type:function(t){this.newTag=t,this.$refs.autocomplete.search(t)}},validations:function(){return{tags:{required:!this.required||we.required,minLength:!this.min||Object(we.minLength)(this.min),maxLength:!this.max||Object(we.maxLength)(this.max)}}}},dn=(n(287),Object(z.a)(fn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-draggable",{ref:"box",staticClass:"k-tags-input",attrs:{list:t.tags,"data-layout":t.layout,options:t.dragOptions},on:{end:t.onInput}},[t._l(t.tags,(function(e,i){return n("k-tag",{key:i,ref:e.value,refInFor:!0,attrs:{removable:!t.disabled,name:"tag"},on:{remove:function(n){return t.remove(e)}},nativeOn:{click:function(t){t.stopPropagation()},blur:function(e){return t.selectTag(null)},focus:function(n){return t.selectTag(e)},keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.navigate("prev")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])||"button"in e&&2!==e.button?null:t.navigate("next")}],dblclick:function(n){return t.edit(e)}}},[t._v("\n    "+t._s(e.text)+"\n  ")])})),t._v(" "),n("span",{staticClass:"k-tags-input-element",attrs:{slot:"footer"},slot:"footer"},[n("k-autocomplete",{ref:"autocomplete",attrs:{options:t.options,skip:t.skip},on:{select:t.addTag,leave:function(e){return t.$refs.input.focus()}}},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.newTag,expression:"newTag",modifiers:{trim:!0}}],ref:"input",attrs:{autofocus:t.autofocus,disabled:t.disabled||t.max&&t.tags.length>=t.max,id:t.id,name:t.name,autocomplete:"off",type:"text"},domProps:{value:t.newTag},on:{input:[function(e){e.target.composing||(t.newTag=e.target.value.trim())},function(e){return t.type(e.target.value)}],blur:[t.blurInput,function(e){return t.$forceUpdate()}],keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"s",void 0,e.key,void 0)?null:e.metaKey?t.blurInput(e):null},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.leaveInput(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.enter(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.tab(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"backspace",void 0,e.key,void 0)||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.leaveInput(e)}]}})])],1)],2)}),[],!1,null,null,null).exports);function hn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function mn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?hn(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var gn={extends:Ne,props:mn(mn({},Ne.props),{},{autocomplete:{type:String,default:"tel"},type:{type:String,default:"tel"}})},bn=Object(z.a)(gn,void 0,void 0,!1,null,null,null).exports,vn={inheritAttrs:!1,props:{autofocus:Boolean,buttons:{type:[Boolean,Array],default:!0},disabled:Boolean,endpoints:Object,font:String,id:[Number,String],name:[Number,String],maxlength:Number,minlength:Number,placeholder:String,preselect:Boolean,required:Boolean,size:String,spellcheck:{type:[Boolean,String],default:"off"},theme:String,uploads:[Boolean,Object,Array],value:String},data:function(){return{over:!1}},watch:{value:function(){var t=this;this.onInvalid(),this.$nextTick((function(){t.resize()}))}},mounted:function(){var t=this;this.$nextTick((function(){t.$library.autosize(t.$refs.input)})),this.onInvalid(),this.$props.autofocus&&this.focus(),this.$props.preselect&&this.select()},methods:{cancel:function(){this.$refs.input.focus()},dialog:function(t){if(!this.$refs[t+"Dialog"])throw"Invalid toolbar dialog";this.$refs[t+"Dialog"].open(this.$refs.input,this.selection())},focus:function(){this.$refs.input.focus()},insert:function(t){var e=this,n=this.$refs.input,i=n.value;setTimeout((function(){if(n.focus(),document.execCommand("insertText",!1,t),n.value===i){var r=n.value.slice(0,n.selectionStart)+t+n.value.slice(n.selectionEnd);n.value=r,e.$emit("input",r)}})),this.resize()},insertFile:function(t){t&&t.length>0&&this.insert(t.map((function(t){return t.dragText})).join("\n\n"))},insertUpload:function(t,e){this.insert(e.map((function(t){return t.dragText})).join("\n\n")),this.$events.$emit("model.update")},onClick:function(){this.$refs.toolbar&&this.$refs.toolbar.close()},onCommand:function(t,e){"function"==typeof this[t]?"function"==typeof e?this[t](e(this.$refs.input,this.selection())):this[t](e):window.console.warn(t+" is not a valid command")},onDrop:function(t){if(this.uploads&&this.$helper.isUploadEvent(t))return this.$refs.fileUpload.drop(t.dataTransfer.files,{url:this.$urls.api+"/"+this.endpoints.field+"/upload",multiple:!1});var e=this.$store.state.drag;e&&"text"===e.type&&(this.focus(),this.insert(e.data))},onFocus:function(t){this.$emit("focus",t)},onInput:function(t){this.$emit("input",t.target.value)},onInvalid:function(){this.$emit("invalid",this.$v.$invalid,this.$v)},onOut:function(){this.$refs.input.blur(),this.over=!1},onOver:function(t){if(this.uploads&&this.$helper.isUploadEvent(t))return t.dataTransfer.dropEffect="copy",this.focus(),void(this.over=!0);var e=this.$store.state.drag;e&&"text"===e.type&&(t.dataTransfer.dropEffect="copy",this.focus(),this.over=!0)},onShortcut:function(t){!1!==this.buttons&&"Meta"!==t.key&&"Control"!==t.key&&this.$refs.toolbar&&this.$refs.toolbar.shortcut(t.key,t)},onSubmit:function(t){return this.$emit("submit",t)},prepend:function(t){this.insert(t+" "+this.selection())},resize:function(){this.$library.autosize.update(this.$refs.input)},select:function(){this.$refs.select()},selectFile:function(){this.$refs.fileDialog.open({endpoint:this.endpoints.field+"/files",multiple:!1})},selection:function(){var t=this.$refs.input,e=t.selectionStart,n=t.selectionEnd;return t.value.substring(e,n)},uploadFile:function(){this.$refs.fileUpload.open({url:this.$urls.api+"/"+this.endpoints.field+"/upload",multiple:!1})},wrap:function(t){this.insert(t+this.selection()+t)}},validations:function(){return{value:{required:!this.required||we.required,minLength:!this.minlength||Object(we.minLength)(this.minlength),maxLength:!this.maxlength||Object(we.maxLength)(this.maxlength)}}}},kn=(n(288),Object(z.a)(vn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-textarea-input",attrs:{"data-theme":t.theme,"data-over":t.over}},[n("div",{staticClass:"k-textarea-input-wrapper"},[t.buttons&&!t.disabled?n("k-toolbar",{ref:"toolbar",attrs:{buttons:t.buttons,disabled:t.disabled,uploads:t.uploads},on:{command:t.onCommand},nativeOn:{mousedown:function(t){t.preventDefault()}}}):t._e(),t._v(" "),n("textarea",t._b({ref:"input",staticClass:"k-textarea-input-native",attrs:{"data-font":t.font,"data-size":t.size},on:{click:t.onClick,focus:t.onFocus,input:t.onInput,keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.metaKey?t.onSubmit(e):null},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey?t.onSubmit(e):null},function(e){return e.metaKey?t.onShortcut(e):null},function(e){return e.ctrlKey?t.onShortcut(e):null}],dragover:t.onOver,dragleave:t.onOut,drop:t.onDrop}},"textarea",{autofocus:t.autofocus,disabled:t.disabled,id:t.id,minlength:t.minlength,name:t.name,placeholder:t.placeholder,required:t.required,spellcheck:t.spellcheck,value:t.value},!1))],1),t._v(" "),n("k-toolbar-email-dialog",{ref:"emailDialog",on:{cancel:t.cancel,submit:function(e){return t.insert(e)}}}),t._v(" "),n("k-toolbar-link-dialog",{ref:"linkDialog",on:{cancel:t.cancel,submit:function(e){return t.insert(e)}}}),t._v(" "),n("k-files-dialog",{ref:"fileDialog",on:{cancel:t.cancel,submit:function(e){return t.insertFile(e)}}}),t._v(" "),t.uploads?n("k-upload",{ref:"fileUpload",on:{success:t.insertUpload}}):t._e()],1)}),[],!1,null,null,null).exports),yn={inheritAttrs:!1,props:{autofocus:Boolean,disabled:Boolean,id:[String,Number],notation:{type:Number,default:24},required:Boolean,step:{type:Number,default:5},value:{type:String}},data:function(){var t=this.toObject(this.value);return{time:this.value,hour:t.hour,minute:t.minute,meridiem:t.meridiem}},computed:{hours:function(){return this.options(24===this.notation?0:1,24===this.notation?23:12)},minutes:function(){return this.options(0,59,this.step)}},watch:{value:function(t){this.time=t},time:function(t){var e=this.toObject(t);this.hour=e.hour,this.minute=e.minute,this.meridiem=e.meridiem}},methods:{focus:function(){this.$refs.hour.focus()},setHour:function(t){t&&!this.minute&&(this.minute=0),t||(this.minute=null),this.onInput()},setMinute:function(t){t&&!this.hour&&(this.hour=0),t||(this.hour=null),this.onInput()},onInput:function(){if(null!==this.hour&&null!==this.minute){var t=this.$helper.pad(this.hour||0),e=this.$helper.pad(this.minute||0),n=String(this.meridiem||"AM").toUpperCase(),i=24===this.notation?"".concat(t,":").concat(e,":00"):"".concat(t,":").concat(e,":00 ").concat(n),r=24===this.notation?"HH:mm:ss":"hh:mm:ss A",s=this.$library.dayjs("2000-01-01 "+i,"YYYY-MM-DD "+r);this.$emit("input",s.format("HH:mm"))}else this.$emit("input","")},onInvalid:function(t,e){this.$emit("invalid",t,e)},options:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=[],r=t;r<=e;r+=n)i.push({value:r,text:this.$helper.pad(r)});return i},reset:function(){this.hour=null,this.minute=null,this.meridiem=null},round:function(t){return Math.floor(t/this.step)*this.step},toObject:function(t){var e=this.$library.dayjs("2001-01-01 "+t+":00","YYYY-MM-DD HH:mm:ss");return t&&!1!==e.isValid()?{hour:e.format(24===this.notation?"H":"h"),minute:this.round(e.format("m")),meridiem:e.format("A")}:{hour:null,minute:null,meridiem:null}}}},$n=(n(289),Object(z.a)(yn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-time-input"},[n("k-select-input",{ref:"hour",attrs:{id:t.id,"aria-label":t.$t("hour"),autofocus:t.autofocus,options:t.hours,required:t.required,disabled:t.disabled,placeholder:"––"},on:{input:t.setHour,invalid:t.onInvalid},model:{value:t.hour,callback:function(e){t.hour=e},expression:"hour"}}),t._v(" "),n("span",{staticClass:"k-time-input-separator"},[t._v(":")]),t._v(" "),n("k-select-input",{ref:"minute",attrs:{"aria-label":t.$t("minutes"),options:t.minutes,required:t.required,disabled:t.disabled,placeholder:"––"},on:{input:t.setMinute,invalid:t.onInvalid},model:{value:t.minute,callback:function(e){t.minute=e},expression:"minute"}}),t._v(" "),12===t.notation?n("k-select-input",{ref:"meridiem",staticClass:"k-time-input-meridiem",attrs:{"aria-label":t.$t("meridiem"),empty:!1,options:[{value:"AM",text:"AM"},{value:"PM",text:"PM"}],required:t.required,disabled:t.disabled},on:{input:t.onInput},model:{value:t.meridiem,callback:function(e){t.meridiem=e},expression:"meridiem"}}):t._e()],1)}),[],!1,null,null,null).exports),_n={inheritAttrs:!1,props:{autofocus:Boolean,disabled:Boolean,id:[Number,String],text:{type:[Array,String],default:function(){return[this.$t("off"),this.$t("on")]}},required:Boolean,value:Boolean},computed:{label:function(){return Array.isArray(this.text)?this.value?this.text[1]:this.text[0]:this.text}},watch:{value:function(){this.onInvalid()}},mounted:function(){this.onInvalid(),this.$props.autofocus&&this.focus()},methods:{focus:function(){this.$refs.input.focus()},onEnter:function(t){"Enter"===t.key&&this.$refs.input.click()},onInput:function(t){this.$emit("input",t)},onInvalid:function(){this.$emit("invalid",this.$v.$invalid,this.$v)},select:function(){this.$refs.input.focus()}},validations:function(){return{value:{required:!this.required||we.required}}}},On=(n(290),Object(z.a)(_n,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"k-toggle-input",attrs:{"data-disabled":t.disabled}},[n("input",{ref:"input",staticClass:"k-toggle-input-native",attrs:{disabled:t.disabled,id:t.id,type:"checkbox"},domProps:{checked:t.value},on:{change:function(e){return t.onInput(e.target.checked)}}}),t._v(" "),n("span",{staticClass:"k-toggle-input-label",domProps:{innerHTML:t._s(t.label)}})])}),[],!1,null,null,null).exports);function wn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function xn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wn(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var jn={extends:Ne,props:xn(xn({},Ne.props),{},{autocomplete:{type:String,default:"url"},type:{type:String,default:"url"}})},Sn=Object(z.a)(jn,void 0,void 0,!1,null,null,null).exports;function Pn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Cn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pn(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var En={inheritAttrs:!1,props:Cn(Cn(Cn(Cn({},me.props),$e.props),Pe.props),{},{counter:{type:Boolean,default:!0}}),computed:{counterOptions:function(){return null!==this.value&&!this.disabled&&!1!==this.counter&&{count:this.value&&Array.isArray(this.value)?this.value.length:0,min:this.min,max:this.max}}},methods:{focus:function(){this.$refs.input.focus()}}},Dn=Object(z.a)(En,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-checkboxes-field",attrs:{counter:t.counterOptions}},"k-field",t.$props,!1),[n("k-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field",type:"checkboxes"}},"k-input",t.$props,!1),t.$listeners))],1)}),[],!1,null,null,null).exports;function In(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Tn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?In(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):In(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ln={inheritAttrs:!1,props:Tn(Tn(Tn(Tn({},me.props),$e.props),Le.props),{},{icon:{type:String,default:"calendar"}}),data:function(){return{date:this.value,listeners:Tn(Tn({},this.$listeners),{},{input:this.onInput})}},computed:{inputType:function(){return!1===this.time?"date":"datetime"}},watch:{value:function(t){this.date=t}},methods:{focus:function(){this.$refs.input.focus()},onInput:function(t){this.date=t,this.$emit("input",t)}}},An=Object(z.a)(Ln,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-date-field",attrs:{input:t._uid}},"k-field",t.$props,!1),[n("k-input",t._g(t._b({ref:"input",attrs:{id:t._uid,type:t.inputType,value:t.date,theme:"field"}},"k-input",t.$props,!1),t.listeners),[n("template",{slot:"icon"},[n("k-dropdown",[n("k-button",{staticClass:"k-input-icon-button",attrs:{icon:t.icon,tooltip:t.$t("date.select"),tabindex:"-1"},on:{click:function(e){return t.$refs.dropdown.toggle()}}}),t._v(" "),n("k-dropdown-content",{ref:"dropdown",attrs:{align:"right"}},[n("k-calendar",{attrs:{value:t.date},on:{input:function(e){t.onInput(e),t.$refs.dropdown.close()}}})],1)],1)],1)],2)],1)}),[],!1,null,null,null).exports;function Bn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function qn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bn(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Nn={inheritAttrs:!1,props:qn(qn(qn(qn({},me.props),$e.props),Re.props),{},{link:{type:Boolean,default:!0},icon:{type:String,default:"email"}}),computed:{mailto:function(){return this.value&&this.value.length>0?"mailto:"+this.value:null}},methods:{focus:function(){this.$refs.input.focus()}}},Mn=Object(z.a)(Nn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-email-field",attrs:{input:t._uid}},"k-field",t.$props,!1),[n("k-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field",type:"email"}},"k-input",t.$props,!1),t.$listeners),[t.link?n("k-button",{staticClass:"k-input-icon-button",attrs:{slot:"icon",icon:t.icon,link:t.mailto,tooltip:t.$t("open"),tabindex:"-1",target:"_blank"},slot:"icon"}):t._e()],1)],1)}),[],!1,null,null,null).exports;function zn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Fn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zn(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Rn={inheritAttrs:!1,props:Fn(Fn({},me.props),{},{empty:String,info:String,link:Boolean,layout:String,max:Number,multiple:Boolean,parent:String,search:Boolean,size:String,text:String,value:{type:Array,default:function(){return[]}}}),data:function(){return{selected:this.value}},computed:{btnIcon:function(){return!this.multiple&&this.selected.length>0?"refresh":"add"},btnLabel:function(){return!this.multiple&&this.selected.length>0?this.$t("change"):this.$t("add")},elements:function(){var t={cards:{list:"k-cards",item:"k-card"},list:{list:"k-list",item:"k-list-item"}};return t[this.layout]?t[this.layout]:t.list},isInvalid:function(){return!(!this.required||0!==this.selected.length)||(!!(this.min&&this.selected.length<this.min)||!!(this.max&&this.selected.length>this.max))},more:function(){return!this.max||this.max>this.selected.length}},watch:{value:function(t){this.selected=t}},methods:{focus:function(){},onInput:function(){this.$emit("input",this.selected)},remove:function(t){this.selected.splice(t,1),this.onInput()},removeById:function(t){this.selected=this.selected.filter((function(e){return e.id!==t})),this.onInput()},select:function(t){var e=this;0!==t.length?(this.selected=this.selected.filter((function(e){return t.filter((function(t){return t.id===e.id})).length>0})),t.forEach((function(t){0===e.selected.filter((function(e){return t.id===e.id})).length&&e.selected.push(t)})),this.onInput()):this.selected=[]}}},Un={mixins:[Rn],props:{uploads:[Boolean,Object,Array]},created:function(){this.$events.$on("file.delete",this.removeById)},destroyed:function(){this.$events.$off("file.delete",this.removeById)},methods:{prompt:function(t){t.stopPropagation(),this.uploads?this.$refs.picker.toggle():this.open()},open:function(){if(this.disabled)return!1;this.$refs.selector.open({endpoint:this.endpoints.field,max:this.max,multiple:this.multiple,search:this.search,selected:this.selected.map((function(t){return t.id}))})},selectUpload:function(t,e){var n=this;!1===this.multiple&&(this.selected=[]),e.forEach((function(t){n.selected.push(t)})),this.onInput(),this.$events.$emit("model.update")},upload:function(){this.$refs.fileUpload.open({url:this.$urls.api+"/"+this.endpoints.field+"/upload",multiple:this.multiple,accept:this.uploads.accept})}}},Vn=(n(291),Object(z.a)(Un,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-files-field"},"k-field",t.$props,!1),[t.more&&!t.disabled?n("template",{slot:"options"},[n("k-button-group",{staticClass:"k-field-options"},[t.uploads?[n("k-dropdown",[n("k-button",{ref:"pickerToggle",staticClass:"k-field-options-button",attrs:{icon:t.btnIcon},on:{click:function(e){return t.$refs.picker.toggle()}}},[t._v("\n            "+t._s(t.btnLabel)+"\n          ")]),t._v(" "),n("k-dropdown-content",{ref:"picker",attrs:{align:"right"}},[n("k-dropdown-item",{attrs:{icon:"check"},on:{click:t.open}},[t._v(t._s(t.$t("select")))]),t._v(" "),n("k-dropdown-item",{attrs:{icon:"upload"},on:{click:t.upload}},[t._v(t._s(t.$t("upload")))])],1)],1)]:[n("k-button",{staticClass:"k-field-options-button",attrs:{icon:"add"},on:{click:t.open}},[t._v(t._s(t.$t("add")))])]],2)],1):t._e(),t._v(" "),t.selected.length?[n("k-draggable",{attrs:{element:t.elements.list,list:t.selected,"data-size":t.size,handle:!0,"data-invalid":t.isInvalid},on:{end:t.onInput}},t._l(t.selected,(function(e,i){return n(t.elements.item,{key:e.id,tag:"component",attrs:{sortable:!t.disabled&&t.selected.length>1,text:e.text,link:t.link?e.link:null,info:e.info,image:e.image,icon:e.icon}},[t.disabled?t._e():n("k-button",{attrs:{slot:"options",tooltip:t.$t("remove"),icon:"remove"},on:{click:function(e){return t.remove(i)}},slot:"options"})],1)})),1)]:n("k-empty",{attrs:{layout:t.layout,"data-invalid":t.isInvalid,icon:"image"},on:{click:t.open}},[t._v("\n    "+t._s(t.empty||t.$t("field.files.empty"))+"\n  ")]),t._v(" "),n("k-files-dialog",{ref:"selector",on:{submit:t.select}}),t._v(" "),n("k-upload",{ref:"fileUpload",on:{success:t.selectUpload}})],2)}),[],!1,null,null,null).exports),Hn=Object(z.a)({},(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"k-field k-gap-field"})}),[],!1,null,null,null).exports,Kn={props:{label:String,numbered:Boolean}},Yn=(n(292),Object(z.a)(Kn,(function(){var t=this.$createElement;return(this._self._c||t)("k-headline",{staticClass:"k-headline-field",attrs:{"data-numbered":this.numbered,size:"large"}},[this._v("\n  "+this._s(this.label)+"\n")])}),[],!1,null,null,null).exports),Jn={props:{label:String,text:String,theme:{type:String,default:"info"}}},Wn=(n(293),Object(z.a)(Jn,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"k-field k-info-field"},[e("k-headline",[this._v(this._s(this.label))]),this._v(" "),e("k-box",{attrs:{theme:this.theme}},[e("k-text",{domProps:{innerHTML:this._s(this.text)}})],1)],1)}),[],!1,null,null,null).exports),Gn=(n(294),Object(z.a)({},(function(){var t=this.$createElement;return(this._self._c||t)("hr",{staticClass:"k-line-field"})}),[],!1,null,null,null).exports);function Zn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Xn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zn(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Qn={inheritAttrs:!1,props:Xn(Xn(Xn(Xn({},me.props),$e.props),Ke.props),{},{counter:{type:Boolean,default:!0},icon:{type:String,default:"angle-down"}}),computed:{counterOptions:function(){return null!==this.value&&!this.disabled&&!1!==this.counter&&{count:this.value&&Array.isArray(this.value)?this.value.length:0,min:this.min,max:this.max}}},mounted:function(){this.$refs.input.$el.setAttribute("tabindex",0)},methods:{blur:function(t){this.$refs.input.blur(t)},focus:function(){this.$refs.input.focus()}}},ti=Object(z.a)(Qn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-multiselect-field",attrs:{input:t._uid,counter:t.counterOptions},on:{blur:t.blur},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.focus(e))}}},"k-field",t.$props,!1),[n("k-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field",type:"multiselect"}},"k-input",t.$props,!1),t.$listeners))],1)}),[],!1,null,null,null).exports;function ei(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ni(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ei(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ei(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ii={inheritAttrs:!1,props:ni(ni(ni({},me.props),$e.props),Ge.props),methods:{focus:function(){this.$refs.input.focus()}}},ri=Object(z.a)(ii,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-number-field",attrs:{input:t._uid}},"k-field",t.$props,!1),[n("k-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field",type:"number"}},"k-input",t.$props,!1),t.$listeners))],1)}),[],!1,null,null,null).exports,si={mixins:[Rn],methods:{open:function(){if(this.disabled)return!1;this.$refs.selector.open({endpoint:this.endpoints.field,max:this.max,multiple:this.multiple,search:this.search,selected:this.selected.map((function(t){return t.id}))})}}},ai=(n(295),Object(z.a)(si,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-pages-field"},"k-field",t.$props,!1),[n("k-button-group",{staticClass:"k-field-options",attrs:{slot:"options"},slot:"options"},[t.more&&!t.disabled?n("k-button",{staticClass:"k-field-options-button",attrs:{icon:t.btnIcon},on:{click:t.open}},[t._v("\n      "+t._s(t.btnLabel)+"\n    ")]):t._e()],1),t._v(" "),t.selected.length?[n("k-draggable",{attrs:{element:t.elements.list,handle:!0,list:t.selected,"data-size":t.size,"data-invalid":t.isInvalid},on:{end:t.onInput}},t._l(t.selected,(function(e,i){return n(t.elements.item,{key:e.id,tag:"component",attrs:{sortable:!t.disabled&&t.selected.length>1,text:e.text,info:e.info,link:t.link?e.link:null,icon:e.icon,image:e.image}},[t.disabled?t._e():n("k-button",{attrs:{slot:"options",icon:"remove"},on:{click:function(e){return t.remove(i)}},slot:"options"})],1)})),1)]:n("k-empty",{attrs:{layout:t.layout,"data-invalid":t.isInvalid,icon:"page"},on:{click:t.open}},[t._v("\n    "+t._s(t.empty||t.$t("field.pages.empty"))+"\n  ")]),t._v(" "),n("k-pages-dialog",{ref:"selector",on:{submit:t.select}})],2)}),[],!1,null,null,null).exports);function oi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ci(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?oi(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var li={inheritAttrs:!1,props:ci(ci(ci(ci({},me.props),$e.props),tn.props),{},{counter:{type:Boolean,default:!0},minlength:{type:Number,default:8},icon:{type:String,default:"key"}}),computed:{counterOptions:function(){return null!==this.value&&!this.disabled&&!1!==this.counter&&{count:this.value?String(this.value).length:0,min:this.minlength,max:this.maxlength}}},methods:{focus:function(){this.$refs.input.focus()}}},ui=Object(z.a)(li,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-password-field",attrs:{input:t._uid,counter:t.counterOptions}},"k-field",t.$props,!1),[n("k-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field",type:"password"}},"k-input",t.$props,!1),t.$listeners))],1)}),[],!1,null,null,null).exports;function pi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function fi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pi(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var di={inheritAttrs:!1,props:fi(fi(fi({},me.props),$e.props),nn.props),methods:{focus:function(){this.$refs.input.focus()}}},hi=Object(z.a)(di,(function(){var t=this.$createElement,e=this._self._c||t;return e("k-field",this._b({staticClass:"k-radio-field"},"k-field",this.$props,!1),[e("k-input",this._g(this._b({ref:"input",attrs:{id:this._uid,theme:"field",type:"radio"}},"k-input",this.$props,!1),this.$listeners))],1)}),[],!1,null,null,null).exports;function mi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function gi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mi(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var bi={inheritAttrs:!1,props:gi(gi(gi({},me.props),$e.props),on.props),methods:{focus:function(){this.$refs.input.focus()}}},vi=Object(z.a)(bi,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-range-field",attrs:{input:t._uid}},"k-field",t.$props,!1),[n("k-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field",type:"range"}},"k-input",t.$props,!1),t.$listeners))],1)}),[],!1,null,null,null).exports;function ki(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function yi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ki(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ki(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var $i={inheritAttrs:!1,props:yi(yi(yi(yi({},me.props),$e.props),pn.props),{},{icon:{type:String,default:"angle-down"}}),methods:{focus:function(){this.$refs.input.focus()}}},_i=Object(z.a)($i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-select-field",attrs:{input:t._uid}},"k-field",t.$props,!1),[n("k-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field",type:"select"}},"k-input",t.$props,!1),t.$listeners))],1)}),[],!1,null,null,null).exports;function Oi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function wi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Oi(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var xi={inheritAttrs:!1,props:wi(wi({},me.props),{},{columns:Object,duplicate:{type:Boolean,default:!0},empty:String,fields:Object,limit:Number,max:Number,min:Number,prepend:{type:Boolean,default:!1},sortable:{type:Boolean,default:!0},sortBy:String,value:{type:Array,default:function(){return[]}}}),data:function(){return{items:this.makeItems(this.value),currentIndex:null,currentModel:null,trash:null,page:1}},computed:{dragOptions:function(){return{disabled:!this.isSortable,fallbackClass:"k-sortable-row-fallback"}},formFields:function(){var t=this,e={};return Object.keys(this.fields).forEach((function(n){var i=t.fields[n];i.section=t.name,i.endpoints={field:t.endpoints.field+"+"+n,section:t.endpoints.section,model:t.endpoints.model},e[n]=i})),e},more:function(){return!0!==this.disabled&&!(this.max&&this.items.length>=this.max)},isInvalid:function(){return!0!==this.disabled&&(!!(this.min&&this.items.length<this.min)||!!(this.max&&this.items.length>this.max))},isSortable:function(){return!this.sortBy&&(!this.limit&&(!0!==this.disabled&&(!(this.items.length<=1)&&!1!==this.sortable)))},pagination:function(){var t=0;return this.limit&&(t=(this.page-1)*this.limit),{page:this.page,offset:t,limit:this.limit,total:this.items.length,align:"center",details:!0}},paginatedItems:function(){return this.limit?this.items.slice(this.pagination.offset,this.pagination.offset+this.limit):this.items}},watch:{value:function(t){t!=this.items&&(this.items=this.makeItems(t))}},methods:{add:function(){var t=this;if(!0===this.disabled)return!1;if(null!==this.currentIndex)return this.escape(),!1;var e={};Object.keys(this.fields).forEach((function(n){var i=t.fields[n];null!==i.default?e[n]=t.$helper.clone(i.default):e[n]=null})),this.currentIndex="new",this.currentModel=e,this.createForm()},addItem:function(t){!0===this.prepend?this.items.unshift(t):this.items.push(t)},beforePaginate:function(){return this.save(this.currentModel)},close:function(){this.currentIndex=null,this.currentModel=null,this.$events.$off("keydown.esc",this.escape),this.$events.$off("keydown.cmd.s",this.submit),this.$store.dispatch("content/enable")},columnIsEmpty:function(t){return null==t||""===t||("object"===Object(ot.a)(t)&&0===Object.keys(t).length&&t.constructor===Object||void 0!==t.length&&0===t.length)},confirmRemove:function(t){this.close(),this.trash=t,this.$refs.remove.open()},createForm:function(t){var e=this;this.$events.$on("keydown.esc",this.escape),this.$events.$on("keydown.cmd.s",this.submit),this.$store.dispatch("content/disable"),this.$nextTick((function(){e.$refs.form&&e.$refs.form.focus(t)}))},displayText:function(t,e){switch(t.type){case"user":return e.email;case"date":var n=this.$library.dayjs(e),i=!0===t.time?"YYYY-MM-DD HH:mm":"YYYY-MM-DD";return n.isValid()?n.format(i):"";case"tags":case"multiselect":return e.map((function(t){return t.text})).join(", ");case"checkboxes":return e.map((function(e){var n=e;return t.options.forEach((function(t){t.value===e&&(n=t.text)})),n})).join(", ");case"radio":case"select":var r=t.options.filter((function(t){return t.value===e}))[0];return r?r.text:null}return"object"===Object(ot.a)(e)&&null!==e?"…":e.toString()},duplicateItem:function(t){this.addItem(this.items[t]),this.onInput()},escape:function(){var t=this;if("new"===this.currentIndex){var e=Object.values(this.currentModel),n=!0;if(e.forEach((function(e){!1===t.columnIsEmpty(e)&&(n=!1)})),!0===n)return void this.close()}this.submit()},focus:function(){this.$refs.add&&this.$refs.add.focus&&this.$refs.add.focus()},indexOf:function(t){return this.limit?(this.page-1)*this.limit+t+1:t+1},isActive:function(t){return this.currentIndex===t},jump:function(t,e){this.open(t+this.pagination.offset,e)},makeItems:function(t){return!1===Array.isArray(t)?[]:this.sort(t)},onInput:function(){this.$emit("input",this.items)},open:function(t,e){this.currentIndex=t,this.currentModel=this.$helper.clone(this.items[t]),this.createForm(e)},paginate:function(t){this.open(t.offset)},paginateItems:function(t){this.page=t.page},previewExists:function(t){return this.$helper.isComponent("k-".concat(t,"-field-preview"))},remove:function(){if(null===this.trash)return!1;this.items.splice(this.trash,1),this.trash=null,this.$refs.remove.close(),this.onInput(),0===this.paginatedItems.length&&this.page>1&&this.page--,this.items=this.sort(this.items)},sort:function(t){return this.sortBy?t.sortBy(this.sortBy):t},save:function(){var t=this;return null!==this.currentIndex&&void 0!==this.currentIndex?this.validate(this.currentModel).then((function(){return"new"===t.currentIndex?t.addItem(t.currentModel):t.items[t.currentIndex]=t.currentModel,t.items=t.sort(t.items),t.onInput(),!0})).catch((function(e){throw t.$store.dispatch("notification/error",{message:t.$t("error.form.incomplete"),details:e}),e})):Promise.resolve()},submit:function(){this.save().then(this.close).catch((function(){}))},validate:function(t){return this.$api.post(this.endpoints.field+"/validate",t).then((function(t){if(t.length>0)throw t;return!0}))},width:function(t){if(!t)return"auto";var e=t.toString().split("/");if(2!==e.length)return"auto";var n=Number(e[0]),i=Number(e[1]);return parseFloat(100/i*n,2).toFixed(2)+"%"},update:function(t,e,n){this.items[t][e]=n,this.onInput()}}},ji=(n(296),Object(z.a)(xi,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-structure-field",nativeOn:{click:function(t){t.stopPropagation()}}},"k-field",t.$props,!1),[n("template",{slot:"options"},[t.more&&null===t.currentIndex?n("k-button",{ref:"add",attrs:{id:t._uid,icon:"add"},on:{click:t.add}},[t._v("\n      "+t._s(t.$t("add"))+"\n    ")]):t._e()],1),t._v(" "),null!==t.currentIndex?[n("div",{staticClass:"k-structure-backdrop",on:{click:t.escape}}),t._v(" "),n("section",{staticClass:"k-structure-form"},[n("k-form",{ref:"form",staticClass:"k-structure-form-fields",attrs:{fields:t.formFields},on:{input:t.onInput,submit:t.submit},model:{value:t.currentModel,callback:function(e){t.currentModel=e},expression:"currentModel"}}),t._v(" "),n("footer",{staticClass:"k-structure-form-buttons"},[n("k-button",{staticClass:"k-structure-form-cancel-button",attrs:{icon:"cancel"},on:{click:t.close}},[t._v(t._s(t.$t("cancel")))]),t._v(" "),"new"!==t.currentIndex?n("k-pagination",{attrs:{dropdown:!1,total:t.items.length,limit:1,page:t.currentIndex+1,details:!0,validate:t.beforePaginate},on:{paginate:t.paginate}}):t._e(),t._v(" "),n("k-button",{staticClass:"k-structure-form-submit-button",attrs:{icon:"check"},on:{click:t.submit}},[t._v(t._s(t.$t("new"!==t.currentIndex?"confirm":"add")))])],1)],1)]:0===t.items.length?n("k-empty",{attrs:{"data-invalid":t.isInvalid,icon:"list-bullet"},on:{click:t.add}},[t._v("\n    "+t._s(t.empty||t.$t("field.structure.empty"))+"\n  ")]):[n("table",{staticClass:"k-structure-table",attrs:{"data-invalid":t.isInvalid,"data-sortable":t.isSortable}},[n("thead",[n("tr",[n("th",{staticClass:"k-structure-table-index"},[t._v("#")]),t._v(" "),t._l(t.columns,(function(e,i){return n("th",{key:i+"-header",staticClass:"k-structure-table-column",style:"width:"+t.width(e.width),attrs:{"data-align":e.align}},[t._v("\n            "+t._s(e.label)+"\n          ")])})),t._v(" "),n("th")],2)]),t._v(" "),n("k-draggable",{attrs:{list:t.items,"data-disabled":t.disabled,options:t.dragOptions,handle:!0,element:"tbody"},on:{end:t.onInput}},t._l(t.paginatedItems,(function(e,i){return n("tr",{key:i,on:{click:function(t){t.stopPropagation()}}},[n("td",{staticClass:"k-structure-table-index"},[t.isSortable?n("k-sort-handle"):t._e(),t._v(" "),n("span",{staticClass:"k-structure-table-index-number"},[t._v(t._s(t.indexOf(i)))])],1),t._v(" "),t._l(t.columns,(function(r,s){return n("td",{key:s,staticClass:"k-structure-table-column",style:"width:"+t.width(r.width),attrs:{title:r.label,"data-align":r.align},on:{click:function(e){return t.jump(i,s)}}},[!1===t.columnIsEmpty(e[s])?[t.previewExists(r.type)?n("k-"+r.type+"-field-preview",{tag:"component",attrs:{value:e[s],column:r,field:t.fields[s]},on:{input:function(e){return t.update(i,s,e)}}}):[n("p",{staticClass:"k-structure-table-text"},[t._v("\n                  "+t._s(r.before)+" "+t._s(t.displayText(t.fields[s],e[s])||"–")+" "+t._s(r.after)+"\n                ")])]]:t._e()],2)})),t._v(" "),n("td",{staticClass:"k-structure-table-options"},[t.duplicate&&t.more&&null===t.currentIndex?[n("k-button",{key:i,ref:"actionsToggle",refInFor:!0,staticClass:"k-structure-table-options-button",attrs:{icon:"dots"},on:{click:function(e){t.$refs[i+"-actions"][0].toggle()}}}),t._v(" "),n("k-dropdown-content",{ref:i+"-actions",refInFor:!0,attrs:{align:"right"}},[n("k-dropdown-item",{attrs:{icon:"copy"},on:{click:function(e){return t.duplicateItem(i)}}},[t._v(t._s(t.$t("duplicate")))]),t._v(" "),n("k-dropdown-item",{attrs:{icon:"remove"},on:{click:function(e){return t.confirmRemove(i)}}},[t._v(t._s(t.$t("remove")))])],1)]:[n("k-button",{staticClass:"k-structure-table-options-button",attrs:{tooltip:t.$t("remove"),icon:"remove"},on:{click:function(e){return t.confirmRemove(i)}}})]],2)],2)})),0)],1),t._v(" "),t.limit?n("k-pagination",t._b({on:{paginate:t.paginateItems}},"k-pagination",t.pagination,!1)):t._e(),t._v(" "),t.disabled?t._e():n("k-dialog",{ref:"remove",attrs:{"submit-button":t.$t("delete"),theme:"negative"},on:{submit:t.remove}},[n("k-text",[t._v(t._s(t.$t("field.structure.delete.confirm")))])],1)]],2)}),[],!1,null,null,null).exports);function Si(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Pi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Si(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Si(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ci={inheritAttrs:!1,props:Pi(Pi(Pi(Pi({},me.props),$e.props),dn.props),{},{counter:{type:Boolean,default:!0}}),computed:{counterOptions:function(){return null!==this.value&&!this.disabled&&!1!==this.counter&&{count:this.value&&Array.isArray(this.value)?this.value.length:0,min:this.min,max:this.max}}},methods:{focus:function(){this.$refs.input.focus()}}},Ei=Object(z.a)(Ci,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-tags-field",attrs:{input:t._uid,counter:t.counterOptions}},"k-field",t.$props,!1),[n("k-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field",type:"tags"}},"k-input",t.$props,!1),t.$listeners))],1)}),[],!1,null,null,null).exports;function Di(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Ii(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Di(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Di(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ti={inheritAttrs:!1,props:Ii(Ii(Ii(Ii({},me.props),$e.props),bn.props),{},{icon:{type:String,default:"phone"}}),methods:{focus:function(){this.$refs.input.focus()}}},Li=Object(z.a)(Ti,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-tel-field",attrs:{input:t._uid}},"k-field",t.$props,!1),[n("k-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field",type:"tel"}},"k-input",t.$props,!1),t.$listeners))],1)}),[],!1,null,null,null).exports;function Ai(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Bi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ai(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ai(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var qi={inheritAttrs:!1,props:Bi(Bi(Bi(Bi({},me.props),$e.props),Ne.props),{},{counter:{type:Boolean,default:!0}}),computed:{counterOptions:function(){return null!==this.value&&!this.disabled&&!1!==this.counter&&{count:this.value?String(this.value).length:0,min:this.minlength,max:this.maxlength}}},methods:{focus:function(){this.$refs.input.focus()}}},Ni=(n(297),Object(z.a)(qi,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-text-field",attrs:{input:t._uid,counter:t.counterOptions}},"k-field",t.$props,!1),[t._t("options",null,{slot:"options"}),t._v(" "),n("k-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field"}},"k-input",t.$props,!1),t.$listeners))],2)}),[],!1,null,null,null).exports);function Mi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function zi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mi(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Fi={inheritAttrs:!1,props:zi(zi(zi(zi({},me.props),$e.props),kn.props),{},{counter:{type:Boolean,default:!0}}),computed:{counterOptions:function(){return null!==this.value&&!this.disabled&&!1!==this.counter&&{count:this.value?this.value.length:0,min:this.minlength,max:this.maxlength}}},methods:{focus:function(){this.$refs.input.focus()}}},Ri=Object(z.a)(Fi,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-textarea-field",attrs:{input:t._uid,counter:t.counterOptions}},"k-field",t.$props,!1),[n("k-input",t._g(t._b({ref:"input",attrs:{id:t._uid,type:"textarea",theme:"field"}},"k-input",t.$props,!1),t.$listeners))],1)}),[],!1,null,null,null).exports;function Ui(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Vi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ui(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ui(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Hi={inheritAttrs:!1,props:Vi(Vi(Vi(Vi({},me.props),$e.props),$n.props),{},{icon:{type:String,default:"clock"}}),methods:{focus:function(){this.$refs.input.focus()}}},Ki=Object(z.a)(Hi,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-time-field",attrs:{input:t._uid}},"k-field",t.$props,!1),[n("k-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field",type:"time"}},"k-input",t.$props,!1),t.$listeners))],1)}),[],!1,null,null,null).exports;function Yi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Ji(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Yi(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Wi={inheritAttrs:!1,props:Ji(Ji(Ji({},me.props),$e.props),On.props),methods:{focus:function(){this.$refs.input.focus()}}},Gi=Object(z.a)(Wi,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-toggle-field",attrs:{input:t._uid}},"k-field",t.$props,!1),[n("k-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field",type:"toggle"}},"k-input",t.$props,!1),t.$listeners))],1)}),[],!1,null,null,null).exports;function Zi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Xi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zi(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Qi={inheritAttrs:!1,props:Xi(Xi(Xi(Xi({},me.props),$e.props),Sn.props),{},{link:{type:Boolean,default:!0},icon:{type:String,default:"url"}}),methods:{focus:function(){this.$refs.input.focus()}}},tr=Object(z.a)(Qi,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-url-field",attrs:{input:t._uid}},"k-field",t.$props,!1),[n("k-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field",type:"url"}},"k-input",t.$props,!1),t.$listeners),[t.link?n("k-button",{staticClass:"k-input-icon-button",attrs:{slot:"icon",icon:t.icon,link:t.value,tooltip:t.$t("open"),tabindex:"-1",target:"_blank"},slot:"icon"}):t._e()],1)],1)}),[],!1,null,null,null).exports,er={mixins:[Rn],methods:{open:function(){if(this.disabled)return!1;this.$refs.selector.open({endpoint:this.endpoints.field,max:this.max,multiple:this.multiple,search:this.search,selected:this.selected.map((function(t){return t.id}))})}}},nr=(n(298),Object(z.a)(er,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-users-field"},"k-field",t.$props,!1),[n("k-button-group",{staticClass:"k-field-options",attrs:{slot:"options"},slot:"options"},[t.more&&!t.disabled?n("k-button",{staticClass:"k-field-options-button",attrs:{icon:t.btnIcon},on:{click:t.open}},[t._v("\n      "+t._s(t.btnLabel)+"\n    ")]):t._e()],1),t._v(" "),t.selected.length?[n("k-draggable",{attrs:{element:t.elements.list,list:t.selected,handle:!0,"data-invalid":t.isInvalid},on:{end:t.onInput}},t._l(t.selected,(function(e,i){return n(t.elements.item,{key:e.email,tag:"component",attrs:{sortable:!t.disabled&&t.selected.length>1,text:e.text,info:e.info,link:t.link?t.$api.users.link(e.id):null,image:e.image,icon:e.icon}},[t.disabled?t._e():n("k-button",{attrs:{slot:"options",icon:"remove"},on:{click:function(e){return t.remove(i)}},slot:"options"})],1)})),1)]:n("k-empty",{attrs:{"data-invalid":t.isInvalid,icon:"users"},on:{click:t.open}},[t._v("\n    "+t._s(t.empty||t.$t("field.users.empty"))+"\n  ")]),t._v(" "),n("k-users-dialog",{ref:"selector",on:{submit:t.select}})],2)}),[],!1,null,null,null).exports),ir=function(t){this.command("insert",(function(e,n){var i=[];return n.split("\n").forEach((function(e,n){var r="ol"===t?n+1+".":"-";i.push(r+" "+e)})),i.join("\n")}))},rr={layout:["headlines","bold","italic","|","link","email","file","|","code","ul","ol"],props:{buttons:{type:[Boolean,Array],default:!0},uploads:[Boolean,Object,Array]},data:function(){var t={},e={},n=[],i=this.commands();return!1===this.buttons?t:(Array.isArray(this.buttons)&&(n=this.buttons),!0!==Array.isArray(this.buttons)&&(n=this.$options.layout),n.forEach((function(n,r){if("|"===n)t["divider-"+r]={divider:!0};else if(i[n]){var s=i[n];t[n]=s,s.shortcut&&(e[s.shortcut]=n)}})),{layout:t,shortcuts:e})},methods:{command:function(t,e){"function"==typeof t?t.apply(this):this.$emit("command",t,e)},close:function(){var t=this;Object.keys(this.$refs).forEach((function(e){var n=t.$refs[e][0];n.close&&"function"==typeof n.close&&n.close()}))},fileCommandSetup:function(){var t={label:this.$t("toolbar.button.file"),icon:"attachment"};return!1===this.uploads?t.command="selectFile":t.dropdown={select:{label:this.$t("toolbar.button.file.select"),icon:"check",command:"selectFile"},upload:{label:this.$t("toolbar.button.file.upload"),icon:"upload",command:"uploadFile"}},t},commands:function(){return{headlines:{label:this.$t("toolbar.button.headings"),icon:"title",dropdown:{h1:{label:this.$t("toolbar.button.heading.1"),icon:"title",command:"prepend",args:"#"},h2:{label:this.$t("toolbar.button.heading.2"),icon:"title",command:"prepend",args:"##"},h3:{label:this.$t("toolbar.button.heading.3"),icon:"title",command:"prepend",args:"###"}}},bold:{label:this.$t("toolbar.button.bold"),icon:"bold",command:"wrap",args:"**",shortcut:"b"},italic:{label:this.$t("toolbar.button.italic"),icon:"italic",command:"wrap",args:"*",shortcut:"i"},link:{label:this.$t("toolbar.button.link"),icon:"url",shortcut:"k",command:"dialog",args:"link"},email:{label:this.$t("toolbar.button.email"),icon:"email",shortcut:"e",command:"dialog",args:"email"},file:this.fileCommandSetup(),code:{label:this.$t("toolbar.button.code"),icon:"code",command:"wrap",args:"`"},ul:{label:this.$t("toolbar.button.ul"),icon:"list-bullet",command:function(){return ir.apply(this,["ul"])}},ol:{label:this.$t("toolbar.button.ol"),icon:"list-numbers",command:function(){return ir.apply(this,["ol"])}}}},shortcut:function(t,e){if(this.shortcuts[t]){var n=this.layout[this.shortcuts[t]];if(!n)return!1;e.preventDefault(),this.command(n.command,n.args)}}}},sr=(n(299),Object(z.a)(rr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"k-toolbar"},[n("div",{staticClass:"k-toolbar-wrapper"},[n("div",{staticClass:"k-toolbar-buttons"},[t._l(t.layout,(function(e,i){return[e.divider?[n("span",{key:i,staticClass:"k-toolbar-divider"})]:e.dropdown?[n("k-dropdown",{key:i},[n("k-button",{key:i,staticClass:"k-toolbar-button",attrs:{icon:e.icon,tooltip:e.label,tabindex:"-1"},on:{click:function(e){t.$refs[i+"-dropdown"][0].toggle()}}}),t._v(" "),n("k-dropdown-content",{ref:i+"-dropdown",refInFor:!0},t._l(e.dropdown,(function(e,i){return n("k-dropdown-item",{key:i,attrs:{icon:e.icon},on:{click:function(n){return t.command(e.command,e.args)}}},[t._v("\n                "+t._s(e.label)+"\n              ")])})),1)],1)]:[n("k-button",{key:i,staticClass:"k-toolbar-button",attrs:{icon:e.icon,tooltip:e.label,tabindex:"-1"},on:{click:function(n){return t.command(e.command,e.args)}}})]]}))],2)])])}),[],!1,null,null,null).exports),ar={data:function(){return{value:{email:null,text:null},fields:{email:{label:this.$t("email"),type:"email"},text:{label:this.$t("link.text"),type:"text"}}}},computed:{kirbytext:function(){return this.$config.kirbytext}},methods:{open:function(t,e){this.value.text=e,this.$refs.dialog.open()},cancel:function(){this.$emit("cancel")},createKirbytext:function(){var t=this.value.email||"";return this.value.text&&this.value.text.length>0?"(email: ".concat(t," text: ").concat(this.value.text,")"):"(email: ".concat(t,")")},createMarkdown:function(){var t=this.value.email||"";return this.value.text&&this.value.text.length>0?"[".concat(this.value.text,"](mailto:").concat(t,")"):"<".concat(t,">")},submit:function(){this.$emit("submit",this.kirbytext?this.createKirbytext():this.createMarkdown()),this.value={email:null,text:null},this.$refs.dialog.close()}}},or=Object(z.a)(ar,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-dialog",{ref:"dialog",attrs:{"submit-button":t.$t("insert")},on:{close:t.cancel,submit:function(e){return t.$refs.form.submit()}}},[n("k-form",{ref:"form",attrs:{fields:t.fields},on:{submit:t.submit},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)}),[],!1,null,null,null).exports,cr={data:function(){return{value:{url:null,text:null},fields:{url:{label:this.$t("link"),type:"text",placeholder:this.$t("url.placeholder"),icon:"url"},text:{label:this.$t("link.text"),type:"text"}}}},computed:{kirbytext:function(){return this.$config.kirbytext}},methods:{open:function(t,e){this.value.text=e,this.$refs.dialog.open()},cancel:function(){this.$emit("cancel")},createKirbytext:function(){return this.value.text.length>0?"(link: ".concat(this.value.url," text: ").concat(this.value.text,")"):"(link: ".concat(this.value.url,")")},createMarkdown:function(){return this.value.text.length>0?"[".concat(this.value.text,"](").concat(this.value.url,")"):"<".concat(this.value.url,">")},submit:function(){this.$emit("submit",this.kirbytext?this.createKirbytext():this.createMarkdown()),this.value={url:null,text:null},this.$refs.dialog.close()}}},lr=Object(z.a)(cr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-dialog",{ref:"dialog",attrs:{"submit-button":t.$t("insert")},on:{close:t.cancel,submit:function(e){return t.$refs.form.submit()}}},[n("k-form",{ref:"form",attrs:{fields:t.fields},on:{submit:t.submit},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)}),[],!1,null,null,null).exports,ur=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"list",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1/1";if(!t||0===t.length)return!1;var i=null,r=null;if(t.list?(i=t[e].url,r=t[e].srcset):(i=t.url,r=t.srcset),!i)return!1;var s={src:i,srcset:r,back:t.back||"black",cover:t.cover};return"cards"===e&&(s.ratio=t.ratio||"3/2",s.sizes=pr(n)),s};function pr(t){switch(t){case"1/2":case"2/4":return"(min-width: 30em) and (max-width: 65em) 59em, (min-width: 65em) 44em, 27em";case"1/3":return"(min-width: 30em) and (max-width: 65em) 59em, (min-width: 65em) 29.333em, 27em";case"1/4":return"(min-width: 30em) and (max-width: 65em) 59em, (min-width: 65em) 22em, 27em";case"2/3":return"(min-width: 30em) and (max-width: 65em) 59em, (min-width: 65em) 27em, 27em";case"3/4":return"(min-width: 30em) and (max-width: 65em) 59em, (min-width: 65em) 66em, 27em";default:return"(min-width: 30em) and (max-width: 65em) 59em, (min-width: 65em) 88em, 27em"}}function fr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function dr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fr(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var hr={props:{value:Array,field:Object},methods:{imageOptions:function(t){var e=ur(t.image);return e.src?dr(dr({},e),{},{back:"pattern",cover:!1},this.field.image||{}):{src:t.url}}}},mr=(n(300),Object(z.a)(hr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.value?n("ul",{staticClass:"k-files-field-preview"},t._l(t.value,(function(e){return n("li",{key:e.url},[n("k-link",{attrs:{title:e.filename,to:e.link},nativeOn:{click:function(t){t.stopPropagation()}}},["image"===e.type?n("k-image",t._b({},"k-image",t.imageOptions(e),!1)):n("k-icon",t._b({},"k-icon",e.icon,!1))],1)],1)})),0):t._e()}),[],!1,null,null,null).exports),gr={props:{column:{type:Object,default:function(){return{}}},value:String},computed:{link:function(){return this.value}}},br=(n(301),Object(z.a)(gr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"k-url-field-preview"},[t._v("\n  "+t._s(t.column.before)+"\n  "),n("k-link",{attrs:{to:t.link,target:"_blank"},nativeOn:{click:function(t){t.stopPropagation()}}},[t._v(t._s(t.value))]),t._v("\n  "+t._s(t.column.after)+"\n")],1)}),[],!1,null,null,null).exports),vr={extends:br,computed:{link:function(){return this.value&&this.value.length>0?"mailto:"+this.value:null}}},kr=Object(z.a)(vr,void 0,void 0,!1,null,null,null).exports,yr={props:{value:Array}},$r=(n(302),Object(z.a)(yr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.value?n("ul",{staticClass:"k-pages-field-preview"},t._l(t.value,(function(e){return n("li",{key:e.id},[n("figure",[n("k-link",{attrs:{title:e.id,to:t.$api.pages.link(e.id)},nativeOn:{click:function(t){t.stopPropagation()}}},[n("k-icon",{staticClass:"k-pages-field-preview-image",attrs:{type:"page",back:"pattern"}}),t._v(" "),n("figcaption",[t._v("\n          "+t._s(e.text)+"\n        ")])],1)],1)])})),0):t._e()}),[],!1,null,null,null).exports),_r={props:{field:Object,value:Boolean,column:Object},computed:{text:function(){return!1!==this.column.text?this.field.text:null}}},Or=(n(303),Object(z.a)(_r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("k-input",{staticClass:"k-toggle-field-preview",attrs:{text:t.text,type:"toggle"},on:{input:function(e){return t.$emit("input",e)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})}),[],!1,null,null,null).exports),wr={props:{value:Array}},xr=(n(304),Object(z.a)(wr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.value?n("ul",{staticClass:"k-users-field-preview"},t._l(t.value,(function(e){return n("li",{key:e.email},[n("figure",[n("k-link",{attrs:{title:e.email,to:t.$api.users.link(e.id)},nativeOn:{click:function(t){t.stopPropagation()}}},[e.avatar?n("k-image",{staticClass:"k-users-field-preview-avatar",attrs:{src:e.avatar.url,back:"pattern"}}):n("k-icon",{staticClass:"k-users-field-preview-avatar",attrs:{type:"user",back:"pattern"}}),t._v(" "),n("figcaption",[t._v("\n          "+t._s(e.username)+"\n        ")])],1)],1)])})),0):t._e()}),[],!1,null,null,null).exports),jr=(n(305),Object(z.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-bar"},[t.$slots.left?n("div",{staticClass:"k-bar-slot",attrs:{"data-position":"left"}},[t._t("left")],2):t._e(),t._v(" "),t.$slots.center?n("div",{staticClass:"k-bar-slot",attrs:{"data-position":"center"}},[t._t("center")],2):t._e(),t._v(" "),t.$slots.right?n("div",{staticClass:"k-bar-slot",attrs:{"data-position":"right"}},[t._t("right")],2):t._e()])}),[],!1,null,null,null).exports),Sr={props:{theme:String,text:String}},Pr=(n(306),Object(z.a)(Sr,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",this._g({staticClass:"k-box",attrs:{"data-theme":this.theme}},this.$listeners),[this._t("default",[e("k-text",{domProps:{innerHTML:this._s(this.text)}})])],2)}),[],!1,null,null,null).exports),Cr={inheritAttrs:!1,props:{column:String,flag:Object,icon:{type:Object,default:function(){return{type:"file",back:"black"}}},image:[Object,Boolean],info:String,link:[String,Function],options:[Array,Function],sortable:Boolean,target:String,text:String},computed:{wrapper:function(){return this.link?"k-link":"div"},ratioPadding:function(){return this.icon&&this.icon.ratio?this.$helper.ratio(this.icon.ratio):this.$helper.ratio("3/2")},imageOptions:function(){return ur(this.image,"cards",this.column)}}},Er=(n(307),Object(z.a)(Cr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("figure",t._g({staticClass:"k-card"},t.$listeners),[t.sortable?n("k-sort-handle"):t._e(),t._v(" "),n(t.wrapper,{tag:"component",attrs:{to:t.link,target:t.target}},[t.imageOptions?n("k-image",t._b({staticClass:"k-card-image"},"k-image",t.imageOptions,!1)):n("span",{staticClass:"k-card-icon",style:"padding-bottom:"+t.ratioPadding},[n("k-icon",t._b({},"k-icon",t.icon,!1))],1),t._v(" "),n("figcaption",{staticClass:"k-card-content"},[n("span",{staticClass:"k-card-text",attrs:{"data-noinfo":!t.info}},[t._v(t._s(t.text))]),t._v(" "),t.info?n("span",{staticClass:"k-card-info",domProps:{innerHTML:t._s(t.info)}}):t._e()])],1),t._v(" "),n("nav",{staticClass:"k-card-options"},[t.flag?n("k-button",t._b({staticClass:"k-card-options-button",on:{click:t.flag.click}},"k-button",t.flag,!1)):t._e(),t._v(" "),t._t("options",[t.options?n("k-button",{staticClass:"k-card-options-button",attrs:{tooltip:t.$t("options"),icon:"dots"},on:{click:function(e){return e.stopPropagation(),t.$refs.dropdown.toggle()}}}):t._e(),t._v(" "),n("k-dropdown-content",{ref:"dropdown",staticClass:"k-card-options-dropdown",attrs:{options:t.options,align:"right"},on:{action:function(e){return t.$emit("action",e)}}})])],2)],1)}),[],!1,null,null,null).exports),Dr={props:{cards:Array}},Ir=(n(308),Object(z.a)(Dr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-cards"},[t._t("default",t._l(t.cards,(function(e,i){return n("k-card",t._g(t._b({key:i},"k-card",e,!1),t.$listeners))})))],2)}),[],!1,null,null,null).exports);function Tr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var Lr={props:{help:String,items:{type:[Array,Object],default:function(){return[]}},layout:{type:String,default:"list"},size:String,sortable:Boolean,pagination:{type:[Boolean,Object],default:function(){return!1}}},computed:{hasPagination:function(){return!1!==this.pagination&&(!0!==this.paginationOptions.hide&&!(this.pagination.total<=this.pagination.limit))},hasFooter:function(){return!(!this.hasPagination&&!this.help)},dragOptions:function(){return{sort:this.sortable,disabled:!1===this.sortable,draggable:".k-draggable-item"}},elements:function(){var t={cards:{list:"k-cards",item:"k-card"},list:{list:"k-list",item:"k-list-item"}};return t[this.layout]?t[this.layout]:t.list},paginationOptions:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Tr(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({limit:10,details:!0,keys:!1,total:0,hide:!1},"object"!==Object(ot.a)(this.pagination)?{}:this.pagination)}},watch:{$props:function(){this.$forceUpdate()}},over:null,methods:{onEnd:function(){this.over&&this.over.removeAttribute("data-over"),this.$emit("sort",this.items)},onDragStart:function(t,e){this.$store.dispatch("drag",{type:"text",data:e})}}},Ar=(n(309),Object(z.a)(Lr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-collection",attrs:{"data-layout":t.layout}},[n("k-draggable",{attrs:{list:t.items,options:t.dragOptions,element:t.elements.list,"data-size":t.size,handle:!0},on:{change:function(e){return t.$emit("change",e)},end:t.onEnd}},t._l(t.items,(function(e,i){return n(t.elements.item,t._b({key:i,tag:"component",class:{"k-draggable-item":e.sortable},on:{action:function(n){return t.$emit("action",e,n)},dragstart:function(n){return t.onDragStart(n,e.dragText)}}},"component",e,!1))})),1),t._v(" "),t.hasFooter?n("footer",{staticClass:"k-collection-footer"},[t.help?n("k-text",{staticClass:"k-collection-help",attrs:{theme:"help"},domProps:{innerHTML:t._s(t.help)}}):t._e(),t._v(" "),n("div",{staticClass:"k-collection-pagination"},[t.hasPagination?n("k-pagination",t._b({on:{paginate:function(e){return t.$emit("paginate",e)}}},"k-pagination",t.paginationOptions,!1)):t._e()],1)],1):t._e()],1)}),[],!1,null,null,null).exports),Br={props:{width:String,sticky:Boolean}},qr=(n(310),Object(z.a)(Br,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"k-column",attrs:{"data-width":this.width,"data-sticky":this.sticky}},[e("div",[this._t("default")],2)])}),[],!1,null,null,null).exports),Nr={props:{label:{type:String,default:"Drop to upload"},disabled:{type:Boolean,default:!1}},data:function(){return{files:[],dragging:!1,over:!1}},methods:{cancel:function(){this.reset()},reset:function(){this.dragging=!1,this.over=!1},onDrop:function(t){return!0===this.disabled||!1===this.$helper.isUploadEvent(t)?this.reset():(this.$events.$emit("dropzone.drop"),this.files=t.dataTransfer.files,this.$emit("drop",this.files),void this.reset())},onEnter:function(t){!1===this.disabled&&this.$helper.isUploadEvent(t)&&(this.dragging=!0)},onLeave:function(){this.reset()},onOver:function(t){!1===this.disabled&&this.$helper.isUploadEvent(t)&&(t.dataTransfer.dropEffect="copy",this.over=!0)}}},Mr=(n(311),Object(z.a)(Nr,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"k-dropzone",attrs:{"data-dragging":this.dragging,"data-over":this.over},on:{dragenter:this.onEnter,dragleave:this.onLeave,dragover:this.onOver,drop:this.onDrop}},[this._t("default")],2)}),[],!1,null,null,null).exports),zr={props:{text:String,icon:String,layout:{type:String,default:"list"}}},Fr=(n(312),Object(z.a)(zr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._g({staticClass:"k-empty",attrs:{"data-layout":t.layout}},t.$listeners),[t.icon?n("k-icon",{attrs:{type:t.icon}}):t._e(),t._v(" "),n("p",[t._t("default")],2)],1)}),[],!1,null,null,null).exports),Rr={props:{file:Object}},Ur=(n(313),Object(z.a)(Rr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-file-preview"},[n("k-view",{staticClass:"k-file-preview-layout"},[n("div",{staticClass:"k-file-preview-image"},[n("k-link",{staticClass:"k-file-preview-image-link",attrs:{to:t.file.url,title:t.$t("open"),target:"_blank"}},[t.file.panelImage&&t.file.panelImage.cards&&t.file.panelImage.cards.url?n("k-image",{attrs:{src:t.file.panelImage.cards.url,srcset:t.file.panelImage.cards.srcset,back:"none"}}):t.file.panelIcon?n("k-icon",{staticClass:"k-file-preview-icon",style:{color:t.file.panelIcon.color},attrs:{type:t.file.panelIcon.type}}):n("span",{staticClass:"k-file-preview-placeholder"})],1)],1),t._v(" "),n("div",{staticClass:"k-file-preview-details"},[n("ul",[n("li",[n("h3",[t._v(t._s(t.$t("template")))]),t._v(" "),n("p",[t._v(t._s(t.file.template||"—"))])]),t._v(" "),n("li",[n("h3",[t._v(t._s(t.$t("mime")))]),t._v(" "),n("p",[t._v(t._s(t.file.mime))])]),t._v(" "),n("li",[n("h3",[t._v(t._s(t.$t("url")))]),t._v(" "),n("p",[n("k-link",{attrs:{to:t.file.url,tabindex:"-1",target:"_blank"}},[t._v("/"+t._s(t.file.id))])],1)]),t._v(" "),n("li",[n("h3",[t._v(t._s(t.$t("size")))]),t._v(" "),n("p",[t._v(t._s(t.file.niceSize))])]),t._v(" "),n("li",[n("h3",[t._v(t._s(t.$t("dimensions")))]),t._v(" "),t.file.dimensions?n("p",[t._v(t._s(t.file.dimensions.width)+"×"+t._s(t.file.dimensions.height)+" "+t._s(t.$t("pixel")))]):n("p",[t._v("—")])]),t._v(" "),n("li",[n("h3",[t._v(t._s(t.$t("orientation")))]),t._v(" "),t.file.dimensions?n("p",[t._v(t._s(t.$t("orientation."+t.file.dimensions.orientation)))]):n("p",[t._v("—")])])])])])],1)}),[],!1,null,null,null).exports),Vr={props:{gutter:String}},Hr=(n(314),Object(z.a)(Vr,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"k-grid",attrs:{"data-gutter":this.gutter}},[this._t("default")],2)}),[],!1,null,null,null).exports),Kr={props:{editable:Boolean,tabs:Array,tab:Object},data:function(){return{size:null,currentTab:this.tab,visibleTabs:this.tabs,invisibleTabs:[]}},watch:{tab:function(){this.currentTab=this.tab},tabs:function(t){this.visibleTabs=t,this.invisibleTabs=[],this.resize(!0)}},created:function(){window.addEventListener("resize",this.resize)},destroyed:function(){window.removeEventListener("resize",this.resize)},methods:{resize:function(t){if(this.tabs&&!(this.tabs.length<=1)){if(this.tabs.length<=3)return this.visibleTabs=this.tabs,void(this.invisibleTabs=[]);if(window.innerWidth>=700){if("large"===this.size&&!t)return;this.visibleTabs=this.tabs,this.invisibleTabs=[],this.size="large"}else{if("small"===this.size&&!t)return;this.visibleTabs=this.tabs.slice(0,2),this.invisibleTabs=this.tabs.slice(2),this.size="small"}}}}},Yr=(n(315),Object(z.a)(Kr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"k-header",attrs:{"data-editable":t.editable}},[n("k-headline",{attrs:{tag:"h1",size:"huge"}},[t.editable&&t.$listeners.edit?n("span",{staticClass:"k-headline-editable",on:{click:function(e){return t.$emit("edit")}}},[t._t("default"),t._v(" "),n("k-icon",{attrs:{type:"edit"}})],2):t._t("default")],2),t._v(" "),t.$slots.left||t.$slots.right?n("k-bar",{staticClass:"k-header-buttons"},[t._t("left",null,{slot:"left"}),t._v(" "),t._t("right",null,{slot:"right"})],2):t._e(),t._v(" "),t.tabs&&t.tabs.length>1?n("div",{staticClass:"k-header-tabs"},[n("nav",[t._l(t.visibleTabs,(function(e,i){return n("k-button",{key:i,staticClass:"k-tab-button",attrs:{link:e.link,current:t.currentTab&&t.currentTab.name===e.name,icon:e.icon,tooltip:e.label}},[t._v("\n        "+t._s(e.label)+"\n      ")])})),t._v(" "),t.invisibleTabs.length?n("k-button",{staticClass:"k-tab-button k-tabs-dropdown-button",attrs:{icon:"dots"},on:{click:function(e){return e.stopPropagation(),t.$refs.more.toggle()}}},[t._v("\n        "+t._s(t.$t("more"))+"\n      ")]):t._e()],2),t._v(" "),t.invisibleTabs.length?n("k-dropdown-content",{ref:"more",staticClass:"k-tabs-dropdown",attrs:{align:"right"}},t._l(t.invisibleTabs,(function(e,i){return n("k-dropdown-item",{key:"more-"+i,attrs:{link:"#"+e.name,current:t.currentTab&&t.currentTab.name===e.name,icon:e.icon,tooltip:e.label}},[t._v("\n        "+t._s(e.label)+"\n      ")])})),1):t._e()],1):t._e()],1)}),[],!1,null,null,null).exports),Jr={mixins:[U],data:function(){return{registration:{license:null,email:null}}},computed:{fields:function(){return{license:{label:this.$t("license.register.label"),type:"text",required:!0,counter:!1,placeholder:"K3-",help:this.$t("license.register.help")},email:{label:this.$t("email"),type:"email",required:!0,counter:!1}}}},methods:{submit:function(){var t=this;return Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.system.register(t.registration);case 3:t.success({message:t.$t("license.register.success")}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t.$refs.dialog.error(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()}}},Wr={inheritAttrs:!1,components:{"k-registration":Object(z.a)(Jr,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("k-form-dialog",{ref:"dialog",attrs:{fields:t.fields,"submit-button":t.$t("license.register")},on:{submit:t.submit},model:{value:t.registration,callback:function(e){t.registration=e},expression:"registration"}})}),[],!1,null,null,null).exports},data:function(){return{offline:!1,dragging:!1}},created:function(){this.$events.$on("offline",this.isOffline),this.$events.$on("online",this.isOnline),this.$events.$on("keydown.cmd.shift.f",this.search),this.$events.$on("drop",this.drop)},destroyed:function(){this.$events.$off("offline",this.isOffline),this.$events.$off("online",this.isOnline),this.$events.$off("keydown.cmd.shift.f",this.search),this.$events.$off("drop",this.drop)},methods:{drop:function(){this.$store.dispatch("drag",null)},isOnline:function(){this.offline=!1},isOffline:function(){!1===this.$system.isLocal&&(this.offline=!0)},search:function(t){t.preventDefault(),this.$store.dispatch("search",!0)}}},Gr=(n(316),Object(z.a)(Wr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-panel k-panel-inside",attrs:{"data-dragging":t.$store.state.drag,"data-loading":t.$store.state.isLoading,"data-dialog":t.$store.state.dialog,dir:t.$translation.direction}},[n("header",{staticClass:"k-panel-header"},[n("k-topbar",{attrs:{breadcrumb:t.$view.breadcrumb,license:t.$system.license,views:t.$views,view:t.$view},on:{register:function(e){return t.$refs.registration.open()}}}),t._v(" "),t.$store.state.search?n("k-search",t._b({},"k-search",t.$store.state.search,!1)):t._e()],1),t._v(" "),n("main",{staticClass:"k-panel-view"},[t._t("default")],2),t._v(" "),n("k-form-buttons"),t._v(" "),n("k-registration",{ref:"registration",on:{success:t.$reload}}),t._v(" "),n("k-error-dialog"),t._v(" "),t.offline?n("div",{staticClass:"k-offline-warning"},[n("p",[t._v("The Panel is currently offline")])]):t._e()],1)}),[],!1,null,null,null).exports),Zr={props:{items:Array}},Xr=(n(317),Object(z.a)(Zr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"k-list"},[t._t("default",t._l(t.items,(function(e,i){return n("k-list-item",t._g(t._b({key:i},"k-list-item",e,!1),t.$listeners))})))],2)}),[],!1,null,null,null).exports),Qr={inheritAttrs:!1,props:{element:{type:String,default:"li"},image:[Object,Boolean],icon:{type:Object,default:function(){return{type:"file",back:"black"}}},sortable:Boolean,text:String,target:String,info:String,link:[String,Function],flag:Object,options:[Array,Function]},computed:{imageOptions:function(){return ur(this.image)}}},ts=(n(318),Object(z.a)(Qr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.element,t._g({tag:"component",staticClass:"k-list-item"},t.$listeners),[t.sortable?n("k-sort-handle"):t._e(),t._v(" "),n("k-link",{staticClass:"k-list-item-content",attrs:{to:t.link,target:t.target}},[t.image?n("span",{staticClass:"k-list-item-image"},[t.imageOptions?n("k-image",t._b({},"k-image",t.imageOptions,!1)):n("k-icon",t._b({},"k-icon",t.icon,!1))],1):t._e(),t._v(" "),n("span",{staticClass:"k-list-item-text"},[n("em",[t._v(t._s(t.text))]),t._v(" "),t.info?n("small",{domProps:{innerHTML:t._s(t.info)}}):t._e()])]),t._v(" "),n("nav",{staticClass:"k-list-item-options"},[t._t("options",[t.flag?n("k-button",t._b({staticClass:"k-list-item-status",on:{click:t.flag.click}},"k-button",t.flag,!1)):t._e(),t._v(" "),t.options?n("k-button",{staticClass:"k-list-item-toggle",attrs:{tooltip:t.$t("options"),icon:"dots",alt:"Options"},on:{click:function(e){return e.stopPropagation(),t.$refs.options.toggle()}}}):t._e(),t._v(" "),n("k-dropdown-content",{ref:"options",attrs:{options:t.options,align:"right"},on:{action:function(e){return t.$emit("action",e)}}})])],2)],1)}),[],!1,null,null,null).exports),es=Object(z.a)({},(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"k-panel k-panel-outside",attrs:{dir:this.$translation.direction}},[this._t("default")],2)}),[],!1,null,null,null).exports,ns={props:{parent:String,blueprint:String,tabs:Array},data:function(){return{tab:null}},watch:{blueprint:function(){this.open()}},mounted:function(){this.open()},methods:{open:function(t){if(0!==this.tabs.length){t||(t=window.location.hash.replace("#","")),t||(t=this.tabs[0].name);var e=null;this.tabs.forEach((function(n){n.name===t&&(e=n)})),e||(e=this.tabs[0]),this.tab=e,this.$emit("tab",this.tab)}}}},is=Object(z.a)(ns,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return 0===t.tabs.length?n("k-box",{attrs:{text:"This page has no blueprint setup yet",theme:"info"}}):t.tab?n("k-sections",{attrs:{parent:t.parent,blueprint:t.blueprint,columns:t.tab.columns},on:{submit:function(e){return t.$emit("submit",e)}}}):t._e()}),[],!1,null,null,null).exports,rs={props:{align:String}},ss=(n(319),Object(z.a)(rs,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"k-view",attrs:{"data-align":this.align}},[this._t("default")],2)}),[],!1,null,null,null).exports),as=n(163);function os(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function cs(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?os(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):os(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ls={components:{draggable:n.n(as).a},props:{element:String,handle:[String,Boolean],list:[Array,Object],move:Function,options:Object},data:function(){var t=this;return{listeners:cs(cs({},this.$listeners),{},{start:function(e){t.$store.dispatch("drag",{}),t.$listeners.start&&t.$listeners.start(e)},end:function(e){t.$store.dispatch("drag",null),t.$listeners.end&&t.$listeners.end(e)}})}},computed:{dragOptions:function(){return cs({fallbackClass:"k-sortable-fallback",fallbackOnBody:!0,forceFallback:!0,ghostClass:"k-sortable-ghost",handle:!0===this.handle?".k-sort-handle":this.handle,scroll:document.querySelector(".k-panel-view")},this.options)}}},us=Object(z.a)(ls,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("draggable",t._g(t._b({staticClass:"k-draggable",attrs:{tag:t.element,list:t.list,move:t.move}},"draggable",t.dragOptions,!1),t.listeners),[t._t("default"),t._v(" "),t._t("footer",null,{slot:"footer"})],2)}),[],!1,null,null,null).exports,ps={data:function(){return{error:null}},errorCaptured:function(t){return this.$config.debug&&window.console.warn(t),this.error=t,!1},render:function(t){return this.error?this.$slots.error?this.$slots.error[0]:this.$scopedSlots.error?this.$scopedSlots.error({error:this.error}):t("k-box",{attrs:{theme:"negative"}},this.error.message||this.error):this.$slots.default[0]}},fs=Object(z.a)(ps,void 0,void 0,!1,null,null,null).exports,ds={props:{link:String,size:{type:String},tag:{type:String,default:"h2"},theme:{type:String}}},hs=(n(321),Object(z.a)(ds,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.tag,t._g({tag:"component",staticClass:"k-headline",attrs:{"data-theme":t.theme,"data-size":t.size}},t.$listeners),[t.link?n("k-link",{attrs:{to:t.link}},[t._t("default")],2):t._t("default")],2)}),[],!1,null,null,null).exports),ms={props:{alt:String,color:String,back:String,emoji:Boolean,size:String,type:String}},gs=(n(322),Object(z.a)(ms,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{class:"k-icon k-icon-"+t.type,attrs:{"aria-label":t.alt,role:t.alt?"img":null,"aria-hidden":!t.alt,"data-back":t.back,"data-size":t.size}},[t.emoji?n("span",{staticClass:"k-icon-emoji"},[t._v(t._s(t.type))]):n("svg",{style:{color:t.color},attrs:{viewBox:"0 0 16 16"}},[n("use",{attrs:{"xlink:href":"#icon-"+t.type}})])])}),[],!1,null,null,null).exports),bs={props:{alt:String,back:String,cover:Boolean,ratio:String,sizes:String,src:String,srcset:String},data:function(){return{loaded:{type:Boolean,default:!1},error:{type:Boolean,default:!1}}},computed:{ratioPadding:function(){return this.$helper.ratio(this.ratio||"1/1")}},created:function(){var t=this,e=new Image;e.onload=function(){t.loaded=!0,t.$emit("load")},e.onerror=function(){t.error=!0,t.$emit("error")},e.src=this.src}},vs=(n(323),Object(z.a)(bs,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",t._g({staticClass:"k-image",attrs:{"data-ratio":t.ratio,"data-back":t.back,"data-cover":t.cover}},t.$listeners),[n("span",{style:"padding-bottom:"+t.ratioPadding},[t.loaded?n("img",{key:t.src,attrs:{alt:t.alt||"",src:t.src,srcset:t.srcset,sizes:t.sizes},on:{dragstart:function(t){t.preventDefault()}}}):t._e(),t._v(" "),t.loaded||t.error?t._e():n("k-loader",{attrs:{position:"center",theme:"light"}}),t._v(" "),!t.loaded&&t.error?n("k-icon",{staticClass:"k-image-error",attrs:{type:"cancel"}}):t._e()],1)])}),[],!1,null,null,null).exports),ks={props:{value:{type:Number,default:0}},data:function(){return{state:this.value}},methods:{set:function(t){this.state=t}}},ys=(n(324),Object(z.a)(ks,(function(){var t=this.$createElement;return(this._self._c||t)("progress",{staticClass:"k-progress",attrs:{max:"100"},domProps:{value:this.state}},[this._v("\n  "+this._s(this.state)+"%\n")])}),[],!1,null,null,null).exports),$s=(n(325),Object(z.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"k-sort-handle",attrs:{"aria-hidden":"true"}},[e("svg",{attrs:{viewBox:"0 0 16 16"}},[e("use",{attrs:{"xlink:href":"#icon-sort"}})])])}),[],!1,null,null,null).exports),_s={props:{align:String,size:String,theme:String}},Os=(n(326),Object(z.a)(_s,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"k-text",attrs:{"data-align":this.align,"data-size":this.size,"data-theme":this.theme}},[this._t("default")],2)}),[],!1,null,null,null).exports),ws={inheritAttrs:!1,props:{autofocus:Boolean,current:[String,Boolean],disabled:Boolean,icon:String,id:[String,Number],link:String,responsive:Boolean,rel:String,role:String,target:String,tabindex:String,theme:String,tooltip:String,type:{type:String,default:"button"}},computed:{component:function(){return!0===this.disabled?"k-button-disabled":this.link?"k-button-link":"k-button-native"}},methods:{focus:function(){this.$refs.button.focus&&this.$refs.button.focus()},tab:function(){this.$refs.button.tab&&this.$refs.button.tab()},untab:function(){this.$refs.button.untab&&this.$refs.button.untab()}}},xs=(n(327),Object(z.a)(ws,(function(){var t=this.$createElement;return(this._self._c||t)(this.component,this._g(this._b({ref:"button",tag:"component"},"component",this.$props,!1),this.$listeners),[this._t("default")],2)}),[],!1,null,null,null).exports),js={inheritAttrs:!1,props:{icon:String,id:[String,Number],responsive:Boolean,theme:String,tooltip:String}},Ss=(n(328),Object(z.a)(js,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"k-button",attrs:{id:t.id,"data-disabled":!0,"data-responsive":t.responsive,"data-theme":t.theme,title:t.tooltip}},[t.icon?n("k-icon",{staticClass:"k-button-icon",attrs:{type:t.icon,alt:t.tooltip}}):t._e(),t._v(" "),t.$slots.default?n("span",{staticClass:"k-button-text"},[t._t("default")],2):t._e()],1)}),[],!1,null,null,null).exports),Ps=(n(329),Object(z.a)({},(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"k-button-group"},[this._t("default")],2)}),[],!1,null,null,null).exports),Cs={inheritAttrs:!1,props:{autofocus:Boolean,current:[String,Boolean],icon:String,id:[String,Number],link:String,rel:String,responsive:Boolean,role:String,target:String,tabindex:String,theme:String,tooltip:String}},Es=Object(z.a)(Cs,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-link",t._g({staticClass:"k-button",attrs:{"aria-current":t.current,autofocus:t.autofocus,id:t.id,"data-theme":t.theme,"data-responsive":t.responsive,rel:t.rel,role:t.role,tabindex:t.tabindex,target:t.target,title:t.tooltip,to:t.link}},t.$listeners),[t.icon?n("k-icon",{staticClass:"k-button-icon",attrs:{type:t.icon,alt:t.tooltip}}):t._e(),t._v(" "),t.$slots.default?n("span",{staticClass:"k-button-text"},[t._t("default")],2):t._e()],1)}),[],!1,null,null,null).exports,Ds={mounted:function(){this.$el.addEventListener("keyup",this.onTab,!0),this.$el.addEventListener("blur",this.onUntab,!0)},destroyed:function(){this.$el.removeEventListener("keyup",this.onTab,!0),this.$el.removeEventListener("blur",this.onUntab,!0)},methods:{focus:function(){this.$el.focus&&this.$el.focus()},onTab:function(t){9===t.keyCode&&this.$el.setAttribute("data-tabbed",!0)},onUntab:function(){this.$el.removeAttribute("data-tabbed")},tab:function(){this.$el.focus(),this.$el.setAttribute("data-tabbed",!0)},untab:function(){this.$el.removeAttribute("data-tabbed")}}},Is={mixins:[Ds],inheritAttrs:!1,props:{autofocus:Boolean,current:[String,Boolean],icon:String,id:[String,Number],responsive:Boolean,role:String,tabindex:String,theme:String,tooltip:String,type:{type:String,default:"button"}}},Ts=Object(z.a)(Is,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",t._g({staticClass:"k-button",attrs:{"aria-current":t.current,autofocus:t.autofocus,id:t.id,"data-theme":t.theme,"data-responsive":t.responsive,role:t.role,tabindex:t.tabindex,title:t.tooltip,type:t.type}},t.$listeners),[t.icon?n("k-icon",{staticClass:"k-button-icon",attrs:{type:t.icon,alt:t.tooltip}}):t._e(),t._v(" "),t.$slots.default?n("span",{staticClass:"k-button-text"},[t._t("default")],2):t._e()],1)}),[],!1,null,null,null).exports,Ls=(n(330),Object(z.a)({},(function(){var t=this.$createElement;return(this._self._c||t)("span",{staticClass:"k-dropdown",on:{click:function(t){t.stopPropagation()}}},[this._t("default")],2)}),[],!1,null,null,null).exports),As=null,Bs={props:{options:[Array,Function],align:String},data:function(){return{items:[],current:-1,isOpen:!1}},methods:{fetchOptions:function(t){var e=this;return Object(o.a)(a.a.mark((function n(){var i,r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.options){n.next=14;break}if("string"!=typeof e.options){n.next=11;break}return n.next=4,fetch(e.options);case 4:return i=n.sent,n.next=7,i.json();case 7:return r=n.sent,n.abrupt("return",t(r));case 11:"function"==typeof e.options?e.options(t):Array.isArray(e.options)&&t(e.options);case 12:n.next=15;break;case 14:return n.abrupt("return",t(e.items));case 15:case"end":return n.stop()}}),n)})))()},open:function(){var t=this;this.reset(),As&&As!==this&&As.close(),this.fetchOptions((function(e){t.$events.$on("keydown",t.navigate),t.$events.$on("click",t.close),t.items=e,t.isOpen=!0,t.$emit("open"),As=t}))},reset:function(){this.current=-1,this.$events.$off("keydown",this.navigate),this.$events.$off("click",this.close)},close:function(){this.reset(),this.isOpen=As=!1,this.$emit("close")},toggle:function(){this.isOpen?this.close():this.open()},focus:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.$children[t]&&this.$children[t].focus&&(this.current=t,this.$children[t].focus())},navigate:function(t){switch(t.code){case"Escape":case"ArrowLeft":this.close(),this.$emit("leave",t.code);break;case"ArrowUp":for(t.preventDefault();;){if(this.current--,this.current<0){this.close(),this.$emit("leave",t.code);break}if(this.$children[this.current]&&!1===this.$children[this.current].disabled){this.focus(this.current);break}}break;case"ArrowDown":for(t.preventDefault();;){if(this.current++,this.current>this.$children.length-1){var e=this.$children.filter((function(t){return!1===t.disabled}));this.current=this.$children.indexOf(e[e.length-1]);break}if(this.$children[this.current]&&!1===this.$children[this.current].disabled){this.focus(this.current);break}}break;case"Tab":for(;;){if(this.current++,this.current>this.$children.length-1){this.close(),this.$emit("leave",t.code);break}if(this.$children[this.current]&&!1===this.$children[this.current].disabled)break}}}}},qs=(n(331),Object(z.a)(Bs,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isOpen?n("div",{staticClass:"k-dropdown-content",attrs:{"data-align":t.align}},[t._t("default",[t._l(t.items,(function(e,i){return["-"===e?n("hr",{key:t._uid+"-item-"+i}):n("k-dropdown-item",t._b({key:t._uid+"-item-"+i,ref:t._uid+"-item-"+i,refInFor:!0,on:{click:function(n){return t.$emit("action",e.click)}}},"k-dropdown-item",e,!1),[t._v("\n        "+t._s(e.text)+"\n      ")])]}))])],2):t._e()}),[],!1,null,null,null).exports);function Ns(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Ms(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ns(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ns(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var zs={inheritAttrs:!1,props:{disabled:Boolean,icon:String,image:[String,Object],link:String,target:String,theme:String,upload:String,current:[String,Boolean]},data:function(){var t=this;return{listeners:Ms(Ms({},this.$listeners),{},{click:function(e){t.$parent.close(),t.$emit("click",e)}})}},methods:{focus:function(){this.$refs.button.focus()},tab:function(){this.$refs.button.tab()}}},Fs=(n(332),Object(z.a)(zs,(function(){var t=this.$createElement;return(this._self._c||t)("k-button",this._g(this._b({ref:"button",staticClass:"k-dropdown-item"},"k-button",this.$props,!1),this.listeners),[this._t("default")],2)}),[],!1,null,null,null).exports);function Rs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Us(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Rs(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rs(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Vs={mixins:[Ds],props:{disabled:Boolean,rel:String,tabindex:[String,Number],target:String,title:String,to:[String,Function]},data:function(){return{relAttr:"_blank"===this.target?"noreferrer noopener":this.rel,listeners:Us(Us({},this.$listeners),{},{click:this.onClick})}},computed:{href:function(){return"function"==typeof this.to?"":"/"!==this.to[0]||this.target?this.to:this.$url(this.to)}},methods:{isRoutable:function(t){return!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&(!t.defaultPrevented&&((void 0===t.button||0===t.button)&&!this.target))},onClick:function(t){if(!0===this.disabled)return t.preventDefault(),!1;"function"==typeof this.to&&(t.preventDefault(),this.to()),this.isRoutable(t)&&(t.preventDefault(),this.$go(this.to)),this.$emit("click",t)}}},Hs=(n(333),Object(z.a)(Vs,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.to&&!t.disabled?n("a",t._g({ref:"link",staticClass:"k-link",attrs:{href:t.href,rel:t.relAttr,tabindex:t.tabindex,target:t.target,title:t.title}},t.listeners),[t._t("default")],2):n("span",{staticClass:"k-link",attrs:{title:t.title,"data-disabled":""}},[t._t("default")],2)}),[],!1,null,null,null).exports),Ks=(n(334),{computed:{defaultLanguage:function(){return this.$languages.find((function(t){return!0===t.default}))},language:function(){return this.$language},languages:function(){return this.$languages.filter((function(t){return!1===t.default}))}},methods:{change:function(t){this.$emit("change",t),this.$go(this.$view.path,{data:{language:t.code}})}}}),Ys=Object(z.a)(Ks,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.languages.length?n("k-dropdown",[n("k-button",{attrs:{responsive:!0,icon:"globe"},on:{click:function(e){return t.$refs.languages.toggle()}}},[t._v("\n    "+t._s(t.language.name)+"\n  ")]),t._v(" "),t.languages?n("k-dropdown-content",{ref:"languages"},[n("k-dropdown-item",{on:{click:function(e){return t.change(t.defaultLanguage)}}},[t._v(t._s(t.defaultLanguage.name))]),t._v(" "),n("hr"),t._v(" "),t._l(t.languages,(function(e){return n("k-dropdown-item",{key:e.code,on:{click:function(n){return t.change(e)}}},[t._v("\n      "+t._s(e.name)+"\n    ")])}))],2):t._e()],1):t._e()}),[],!1,null,null,null).exports,Js={props:{align:{type:String,default:"left"},details:{type:Boolean,default:!1},dropdown:{type:Boolean,default:!0},validate:{type:Function,default:function(){return Promise.resolve()}},page:{type:Number,default:1},total:{type:Number,default:0},limit:{type:Number,default:10},keys:{type:Boolean,default:!1},pageLabel:{type:String,default:function(){return this.$t("pagination.page")}},prevLabel:{type:String,default:function(){return this.$t("prev")}},nextLabel:{type:String,default:function(){return this.$t("next")}}},data:function(){return{currentPage:this.page}},computed:{show:function(){return this.pages>1},start:function(){return(this.currentPage-1)*this.limit+1},end:function(){var t=this.start-1+this.limit;return t>this.total?this.total:t},detailsText:function(){return 1===this.limit?this.start+" / ":this.start+"-"+this.end+" / "},pages:function(){return Math.ceil(this.total/this.limit)},hasPrev:function(){return this.start>1},hasNext:function(){return this.end<this.total},hasPages:function(){return this.total>this.limit},offset:function(){return this.start-1}},watch:{page:function(t){this.currentPage=parseInt(t)}},created:function(){!0===this.keys&&window.addEventListener("keydown",this.navigate,!1)},destroyed:function(){window.removeEventListener("keydown",this.navigate,!1)},methods:{goTo:function(t){var e=this;this.validate(t).then((function(){t<1&&(t=1),t>e.pages&&(t=e.pages),e.currentPage=t,e.$refs.dropdown&&e.$refs.dropdown.close(),e.$emit("paginate",{page:e.currentPage,start:e.start,end:e.end,limit:e.limit,offset:e.offset})})).catch((function(){}))},prev:function(){this.goTo(this.currentPage-1)},next:function(){this.goTo(this.currentPage+1)},navigate:function(t){switch(t.code){case"ArrowLeft":this.prev();break;case"ArrowRight":this.next()}}}},Ws=(n(335),Object(z.a)(Js,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("nav",{staticClass:"k-pagination",attrs:{"data-align":t.align}},[t.show?n("k-button",{attrs:{disabled:!t.hasPrev,tooltip:t.prevLabel,icon:"angle-left"},on:{click:t.prev}}):t._e(),t._v(" "),t.details?[t.dropdown?[n("k-dropdown",[n("k-button",{staticClass:"k-pagination-details",attrs:{disabled:!t.hasPages},on:{click:function(e){return t.$refs.dropdown.toggle()}}},[t.total>1?[t._v(t._s(t.detailsText))]:t._e(),t._v(t._s(t.total)+"\n        ")],2),t._v(" "),n("k-dropdown-content",{ref:"dropdown",staticClass:"k-pagination-selector",on:{open:function(e){t.$nextTick((function(){return t.$refs.page.focus()}))}}},[n("div",{staticClass:"k-pagination-settings"},[n("label",{attrs:{for:"k-pagination-page"}},[n("span",[t._v(t._s(t.pageLabel)+":")]),t._v(" "),n("select",{ref:"page",attrs:{id:"k-pagination-page"}},t._l(t.pages,(function(e){return n("option",{key:e,domProps:{selected:t.page===e,value:e}},[t._v("\n                  "+t._s(e)+"\n                ")])})),0)]),t._v(" "),n("k-button",{attrs:{icon:"check"},on:{click:function(e){return t.goTo(t.$refs.page.value)}}})],1)])],1)]:[n("span",{staticClass:"k-pagination-details"},[t.total>1?[t._v(t._s(t.detailsText))]:t._e(),t._v(t._s(t.total)+"\n      ")],2)]]:t._e(),t._v(" "),t.show?n("k-button",{attrs:{disabled:!t.hasNext,tooltip:t.nextLabel,icon:"angle-right"},on:{click:t.next}}):t._e()],2):t._e()}),[],!1,null,null,null).exports),Gs={props:{next:[Boolean,Object],prev:[Boolean,Object]},computed:{nextSettings:function(){return this.next||{disabled:!0,link:"#"}},prevSettings:function(){return this.prev||{disabled:!0,link:"#"}}}},Zs=(n(336),Object(z.a)(Gs,(function(){var t=this.$createElement,e=this._self._c||t;return e("k-button-group",{staticClass:"k-prev-next"},[e("k-button",this._b({attrs:{icon:"angle-left"}},"k-button",this.prevSettings,!1)),this._v(" "),e("k-button",this._b({attrs:{icon:"angle-right"}},"k-button",this.nextSettings,!1))],1)}),[],!1,null,null,null).exports),Xs={data:function(){return{items:[],q:null,selected:-1,currentType:this.$view.search}},computed:{type:function(){return this.types[this.currentType]||this.types.pages},types:function(){return{pages:{label:this.$t("pages"),icon:"page",endpoint:"site/search"},files:{label:this.$t("files"),icon:"image",endpoint:"files/search"},users:{label:this.$t("users"),icon:"users",endpoint:"users/search"}}}},watch:{q:S((function(t){this.search(t)}),200),currentType:function(){this.search(this.q)}},mounted:function(){var t=this;this.$nextTick((function(){t.$refs.input.focus()}))},methods:{open:function(t){t.preventDefault(),this.$store.dispatch("search",!0)},click:function(t){this.selected=t,this.tab()},close:function(){this.$store.dispatch("search",!1)},down:function(){this.selected<this.items.length-1&&this.selected++},enter:function(){var t=this.items[this.selected]||this.items[0];t&&this.navigate(t)},map_files:function(t){return{id:t.id,title:t.filename,link:t.link,info:t.id}},map_pages:function(t){return{id:t.id,title:t.title,link:this.$api.pages.link(t.id),info:t.id}},map_users:function(t){return{id:t.id,title:t.name,link:this.$api.users.link(t.id),info:t.email}},navigate:function(t){this.$go(t.link),this.close()},search:function(t){var e=this;return Object(o.a)(a.a.mark((function n(){var i;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$api.get(e.type.endpoint,{q:t,limit:e.$config.search.limit});case 3:i=n.sent,e.items=i.data.map(e["map_"+e.currentType]),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),e.items=[];case 10:return n.prev=10,e.selected=-1,n.finish(10);case 13:case"end":return n.stop()}}),n,null,[[0,7,10,13]])})))()},tab:function(){var t=this.items[this.selected];t&&this.navigate(t)},up:function(){this.selected>=0&&this.selected--}}},Qs=(n(337),Object(z.a)(Xs,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-search",attrs:{role:"search"},on:{click:t.close}},[n("div",{staticClass:"k-search-box",on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"k-search-input"},[n("k-dropdown",{staticClass:"k-search-types"},[n("k-button",{attrs:{icon:t.type.icon},on:{click:function(e){return t.$refs.types.toggle()}}},[t._v(t._s(t.type.label)+":")]),t._v(" "),n("k-dropdown-content",{ref:"types"},t._l(t.types,(function(e,i){return n("k-dropdown-item",{key:i,attrs:{icon:e.icon},on:{click:function(e){t.currentType=i}}},[t._v("\n            "+t._s(e.label)+"\n          ")])})),1)],1),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.q,expression:"q"}],ref:"input",attrs:{placeholder:t.$t("search")+" …","aria-label":"$t('search')",type:"text"},domProps:{value:t.q},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:(e.preventDefault(),t.down(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:(e.preventDefault(),t.up(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:(e.preventDefault(),t.tab(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enter(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close(e)}],input:function(e){e.target.composing||(t.q=e.target.value)}}}),t._v(" "),n("k-button",{staticClass:"k-search-close",attrs:{tooltip:t.$t("close"),icon:"cancel"},on:{click:t.close}})],1),t._v(" "),n("ul",t._l(t.items,(function(e,i){return n("li",{key:e.id,attrs:{"data-selected":t.selected===i},on:{mouseover:function(e){t.selected=i}}},[n("k-link",{attrs:{to:e.link},on:{click:t.close}},[n("strong",[t._v(t._s(e.title))]),t._v(" "),n("small",[t._v(t._s(e.info))])])],1)})),0)])])}),[],!1,null,null,null).exports),ta={props:{removable:Boolean,size:String},methods:{remove:function(){this.removable&&this.$emit("remove")},focus:function(){this.$refs.button.focus()}}},ea=(n(338),Object(z.a)(ta,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{ref:"button",staticClass:"k-tag",attrs:{"data-size":t.size,tabindex:"0"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:(e.preventDefault(),t.remove(e))}}},[n("span",{staticClass:"k-tag-text"},[t._t("default")],2),t._v(" "),t.removable?n("span",{staticClass:"k-tag-toggle",on:{click:t.remove}},[t._v("×")]):t._e()])}),[],!1,null,null,null).exports),na={props:{breadcrumb:Array,license:[Boolean,String],title:String,view:Object,views:Object},computed:{notification:function(){return this.$store.state.notification.type&&"error"!==this.$store.state.notification.type?this.$store.state.notification:null},unregistered:function(){return!this.license}}},ia=(n(339),Object(z.a)(na,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-topbar"},[n("k-view",[n("div",{staticClass:"k-topbar-wrapper"},[n("k-dropdown",{staticClass:"k-topbar-menu"},[n("k-button",{staticClass:"k-topbar-button k-topbar-menu-button",attrs:{tooltip:t.$t("menu"),icon:"bars"},on:{click:function(e){return t.$refs.menu.toggle()}}},[n("k-icon",{attrs:{type:"angle-down"}})],1),t._v(" "),n("k-dropdown-content",{ref:"menu",staticClass:"k-topbar-menu"},[n("ul",[t._l(t.views,(function(e,i){return[e.menu?n("li",{key:"menu-item-"+i,attrs:{"aria-current":t.view.id===i}},[n("k-dropdown-item",{attrs:{icon:e.icon,link:e.link}},[t._v("\n                  "+t._s(e.label)+"\n                ")])],1):t._e()]})),t._v(" "),n("li",[n("hr")]),t._v(" "),n("li",{attrs:{"aria-current":"account"===t.view.id}},[n("k-dropdown-item",{attrs:{icon:"account",link:"/account"}},[t._v("\n                "+t._s(t.$t("view.account"))+"\n              ")])],1),t._v(" "),n("li",[n("hr")]),t._v(" "),n("li",[n("k-dropdown-item",{attrs:{icon:"logout",link:"/logout"}},[t._v("\n                "+t._s(t.$t("logout"))+"\n              ")])],1)],2)])],1),t._v(" "),t.view?n("k-link",{staticClass:"k-topbar-button k-topbar-view-button",attrs:{to:t.view.link}},[n("k-icon",{attrs:{type:t.view.icon}}),t._v(" "+t._s(t.view.breadcrumbLabel)+"\n      ")],1):t._e(),t._v(" "),t.breadcrumb.length>1?n("k-dropdown",{staticClass:"k-topbar-breadcrumb-menu"},[n("k-button",{staticClass:"k-topbar-button",on:{click:function(e){return t.$refs.crumb.toggle()}}},[t._v("\n          …\n          "),n("k-icon",{attrs:{type:"angle-down"}})],1),t._v(" "),n("k-dropdown-content",{ref:"crumb"},[n("k-dropdown-item",{attrs:{icon:t.view.icon,link:t.view.link}},[t._v("\n            "+t._s(t.view.title)+"\n          ")]),t._v(" "),t._l(t.breadcrumb,(function(e,i){return n("k-dropdown-item",{key:"crumb-"+i+"-dropdown",attrs:{icon:t.view.icon,link:e.link}},[t._v("\n            "+t._s(e.label)+"\n          ")])}))],2)],1):t._e(),t._v(" "),n("nav",{staticClass:"k-topbar-crumbs"},t._l(t.breadcrumb,(function(e,i){return n("k-link",{key:"crumb-"+i,attrs:{to:e.link}},[t._v("\n          "+t._s(e.label)+"\n        ")])})),1),t._v(" "),n("div",{staticClass:"k-topbar-signals"},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.isLoading,expression:"$store.state.isLoading"}],staticClass:"k-topbar-loader"},[n("svg",{attrs:{viewBox:"0 0 16 18"}},[n("path",{attrs:{fill:"white",d:"M8,0 L16,4.50265232 L16,13.5112142 L8,18.0138665 L0,13.5112142 L0,4.50265232 L8,0 Z M2.10648757,5.69852516 L2.10648757,12.3153414 L8,15.632396 L13.8935124,12.3153414 L13.8935124,5.69852516 L8,2.38147048 L2.10648757,5.69852516 Z"}})])]),t._v(" "),t.notification?[n("k-button",{staticClass:"k-topbar-notification k-topbar-signals-button",attrs:{theme:"positive"},on:{click:function(e){return t.$store.dispatch("notification/close")}}},[t._v("\n            "+t._s(t.notification.message)+"\n          ")])]:t.unregistered?[n("div",{staticClass:"k-registration"},[n("p",[t._v(t._s(t.$t("license.unregistered")))]),t._v(" "),n("k-button",{staticClass:"k-topbar-signals-button",attrs:{responsive:!0,tooltip:t.$t("license.unregistered"),icon:"key"},on:{click:function(e){return t.$emit("register")}}},[t._v("\n              "+t._s(t.$t("license.register"))+"\n            ")]),t._v(" "),n("k-button",{staticClass:"k-topbar-signals-button",attrs:{responsive:!0,link:"https://getkirby.com/buy",target:"_blank",icon:"cart"}},[t._v("\n              "+t._s(t.$t("license.buy"))+"\n            ")])],1)]:t._e(),t._v(" "),[n("k-form-indicator")],t._v(" "),n("k-button",{staticClass:"k-topbar-signals-button",attrs:{tooltip:t.$t("search"),icon:"search"},on:{click:function(e){return t.$store.dispatch("search",!0)}}})],2)],1)])],1)}),[],!1,null,null,null).exports),ra={props:{parent:String,blueprint:String,columns:[Array,Object]},computed:{content:function(){return this.$store.getters["content/values"]()}},methods:{exists:function(t){return this.$helper.isComponent("k-".concat(t,"-section"))},meetsCondition:function(t){var e=this;if(!t.when)return!0;var n=!0;return Object.keys(t.when).forEach((function(i){e.content[i.toLowerCase()]!==t.when[i]&&(n=!1)})),n}}},sa=(n(340),Object(z.a)(ra,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-grid",{staticClass:"k-sections",attrs:{gutter:"large"}},t._l(t.columns,(function(e,i){return n("k-column",{key:t.parent+"-column-"+i,attrs:{width:e.width,sticky:e.sticky}},[t._l(e.sections,(function(r,s){return[t.meetsCondition(r)?[t.exists(r.type)?n("k-"+r.type+"-section",t._b({key:t.parent+"-column-"+i+"-section-"+s+"-"+t.blueprint,tag:"component",class:"k-section k-section-name-"+r.name,attrs:{name:r.name,parent:t.parent,blueprint:t.blueprint,column:e.width},on:{submit:function(e){return t.$emit("submit",e)}}},"component",r,!1)):[n("k-box",{key:t.parent+"-column-"+i+"-section-"+s,attrs:{text:t.$t("error.section.type.invalid",{type:r.type}),theme:"negative"}})]]:t._e()]}))],2)})),1)}),[],!1,null,null,null).exports),aa={props:{blueprint:String,help:String,name:String,parent:String},methods:{load:function(){return this.$api.get(this.parent+"/sections/"+this.name)}}},oa={mixins:[aa],data:function(){return{headline:null,issue:null,text:null,theme:null}},created:function(){var t=this;this.load().then((function(e){t.headline=e.options.headline,t.text=e.options.text,t.theme=e.options.theme||"info"})).catch((function(e){t.issue=e}))}},ca=(n(341),Object(z.a)(oa,(function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"k-info-section"},[e("k-headline",{staticClass:"k-info-section-headline"},[this._v(this._s(this.headline))]),this._v(" "),e("k-box",{attrs:{theme:this.theme}},[e("k-text",{domProps:{innerHTML:this._s(this.text)}})],1)],1)}),[],!1,null,null,null).exports),la={inheritAttrs:!1,props:{blueprint:String,column:String,parent:String,name:String},data:function(){return{data:[],error:null,isLoading:!1,options:{empty:null,headline:null,help:null,layout:"list",link:null,max:null,min:null,size:null,sortable:null},pagination:{page:null}}},computed:{headline:function(){return this.options.headline||" "},help:function(){return this.options.help},isInvalid:function(){return!!(this.options.min&&this.data.length<this.options.min)||!!(this.options.max&&this.data.length>this.options.max)},language:function(){return this.$system.language},paginationId:function(){return"kirby$pagination$"+this.parent+"/"+this.name}},watch:{language:function(){this.reload()}},methods:{items:function(t){return t},load:function(t){var e=this;return Object(o.a)(a.a.mark((function n(){var i;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t||(e.isLoading=!0),null===e.pagination.page&&(e.pagination.page=localStorage.getItem(e.paginationId)||1),n.prev=2,n.next=5,e.$api.get(e.parent+"/sections/"+e.name,{page:e.pagination.page});case 5:i=n.sent,e.options=i.options,e.pagination=i.pagination,e.data=e.items(i.data),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(2),console.log(n.t0),e.error=n.t0.message;case 15:return n.prev=15,e.isLoading=!1,n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[2,11,15,18]])})))()},paginate:function(t){localStorage.setItem(this.paginationId,t.page),this.pagination=t,this.reload()},reload:function(){this.load(!0)}}},ua={mixins:[la],computed:{add:function(){return this.options.add&&this.$permissions.pages.create}},created:function(){this.load(),this.$events.$on("page.changeStatus",this.reload)},destroyed:function(){this.$events.$off("page.changeStatus",this.reload)},methods:{create:function(){this.add&&this.$refs.create.open(this.options.link||this.parent,this.parent+"/children/blueprints",this.name)},action:function(t,e){var n=this;switch(e){case"duplicate":this.$refs.duplicate.open(t.id);break;case"preview":var i=window.open("","_blank");i.document.write="...",this.$api.pages.preview(t.id).then((function(t){i.location.href=t})).catch((function(t){n.$store.dispatch("notification/error",t)}));break;case"rename":this.$refs.rename.open(t.id);break;case"url":this.$refs.url.open(t.id);break;case"status":this.$refs.status.open(t.id);break;case"template":this.$refs.template.open(t.id);break;case"remove":if(this.data.length<=this.options.min){var r=this.options.min>1?"plural":"singular";this.$store.dispatch("notification/error",{message:this.$t("error.section.pages.min."+r,{section:this.options.headline||this.name,min:this.options.min})});break}this.$refs.remove.open(t.id);break;default:throw new Error("Invalid action")}},items:function(t){var e=this;return t.map((function(t){var n=!1!==t.permissions.changeStatus;return t.flag={class:"k-status-flag k-status-flag-"+t.status,tooltip:n?e.$t("page.status"):"".concat(e.$t("page.status")," (").concat(e.$t("disabled"),")"),icon:n?"circle":"protected",disabled:!n,click:function(){e.action(t,"status")}},t.options=function(n){e.$api.pages.options(t.id,"list").then((function(t){return n(t)})).catch((function(t){e.$store.dispatch("notification/error",t)}))},t.sortable=t.permissions.sort&&e.options.sortable,t.column=e.column,t}))},sort:function(t){var e=this,n=null;if(t.added&&(n="added"),t.moved&&(n="moved"),n){var i=t[n].element,r=t[n].newIndex+1+this.pagination.offset;this.$api.pages.status(i.id,"listed",r).then((function(){e.$store.dispatch("notification/success",":)")})).catch((function(t){e.$store.dispatch("notification/error",{message:t.message,details:t.details}),e.reload()}))}},update:function(){this.reload(),this.$events.$emit("model.update")}}},pa=Object(z.a)(ua,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return!1===t.isLoading?n("section",{staticClass:"k-pages-section"},[n("header",{staticClass:"k-section-header"},[n("k-headline",{attrs:{link:t.options.link}},[t._v("\n      "+t._s(t.headline)+" "),t.options.min?n("abbr",{attrs:{title:t.$t("section.required")}},[t._v("*")]):t._e()]),t._v(" "),t.add?n("k-button-group",[n("k-button",{attrs:{icon:"add"},on:{click:t.create}},[t._v(t._s(t.$t("add")))])],1):t._e()],1),t._v(" "),t.error?[n("k-box",{attrs:{theme:"negative"}},[n("k-text",{attrs:{size:"small"}},[n("strong",[t._v("\n          "+t._s(t.$t("error.section.notLoaded",{name:t.name}))+":\n        ")]),t._v("\n        "+t._s(t.error)+"\n      ")])],1)]:[t.data.length?n("k-collection",{attrs:{layout:t.options.layout,help:t.help,items:t.data,pagination:t.pagination,sortable:t.options.sortable,size:t.options.size,"data-invalid":t.isInvalid},on:{change:t.sort,paginate:t.paginate,action:t.action}}):[n("k-empty",{attrs:{layout:t.options.layout,"data-invalid":t.isInvalid,icon:"page"},on:{click:t.create}},[t._v("\n        "+t._s(t.options.empty||t.$t("pages.empty"))+"\n      ")]),t._v(" "),n("footer",{staticClass:"k-collection-footer"},[t.help?n("k-text",{staticClass:"k-collection-help",attrs:{theme:"help"},domProps:{innerHTML:t._s(t.help)}}):t._e()],1)],t._v(" "),n("k-page-create-dialog",{ref:"create"}),t._v(" "),n("k-page-duplicate-dialog",{ref:"duplicate"}),t._v(" "),n("k-page-rename-dialog",{ref:"rename",on:{success:t.update}}),t._v(" "),n("k-page-url-dialog",{ref:"url",on:{success:t.update}}),t._v(" "),n("k-page-status-dialog",{ref:"status",on:{success:t.update}}),t._v(" "),n("k-page-template-dialog",{ref:"template",on:{success:t.update}}),t._v(" "),n("k-page-remove-dialog",{ref:"remove",on:{success:t.update}})]],2):t._e()}),[],!1,null,null,null).exports;function fa(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function da(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fa(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fa(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ha={mixins:[la],computed:{add:function(){return!(!this.$permissions.files.create||!1===this.options.upload)&&this.options.upload}},created:function(){this.load(),this.$events.$on("model.update",this.reload)},destroyed:function(){this.$events.$off("model.update",this.reload)},methods:{action:function(t,e){switch(e){case"edit":this.$go(t.link);break;case"download":window.open(t.url);break;case"rename":this.$refs.rename.open(t.parent,t.filename);break;case"replace":this.$refs.upload.open({url:this.$urls.api+"/"+this.$api.files.url(t.parent,t.filename),accept:"."+t.extension+","+t.mime,multiple:!1});break;case"remove":if(this.data.length<=this.options.min){var n=this.options.min>1?"plural":"singular";this.$store.dispatch("notification/error",{message:this.$t("error.section.files.min."+n,{section:this.options.headline||this.name,min:this.options.min})});break}this.$refs.remove.open(t.parent,t.filename)}},drop:function(t){if(!1===this.add)return!1;this.$refs.upload.drop(t,da(da({},this.add),{},{url:this.$urls.api+"/"+this.add.api}))},items:function(t){var e=this;return t.map((function(t){return t.options=function(n){e.$api.files.options(t.parent,t.filename,"list").then((function(t){return n(t)})).catch((function(t){e.$store.dispatch("notification/error",t)}))},t.sortable=e.options.sortable,t.column=e.column,t}))},replace:function(t){this.$refs.upload.open({url:this.$urls.api+"/"+this.$api.files.url(t.parent,t.filename),accept:t.mime,multiple:!1})},sort:function(t){var e=this;if(!1===this.options.sortable)return!1;t=t.map((function(t){return t.id})),this.$api.patch(this.options.apiUrl+"/files/sort",{files:t,index:this.pagination.offset}).then((function(){e.$store.dispatch("notification/success",":)")})).catch((function(t){e.reload(),e.$store.dispatch("notification/error",t.message)}))},update:function(){this.$events.$emit("model.update")},upload:function(){if(!1===this.add)return!1;this.$refs.upload.open(da(da({},this.add),{},{url:this.$urls.api+"/"+this.add.api}))},uploaded:function(){this.$events.$emit("file.create"),this.$events.$emit("model.update"),this.$store.dispatch("notification/success",":)")}}},ma=Object(z.a)(ha,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return!1===t.isLoading?n("section",{staticClass:"k-files-section"},[n("header",{staticClass:"k-section-header"},[n("k-headline",[t._v("\n      "+t._s(t.headline)+" "),t.options.min?n("abbr",{attrs:{title:t.$t("section.required")}},[t._v("*")]):t._e()]),t._v(" "),t.add?n("k-button-group",[n("k-button",{attrs:{icon:"upload"},on:{click:t.upload}},[t._v(t._s(t.$t("add")))])],1):t._e()],1),t._v(" "),t.error?[n("k-box",{attrs:{theme:"negative"}},[n("k-text",{attrs:{size:"small"}},[n("strong",[t._v(t._s(t.$t("error.section.notLoaded",{name:t.name}))+":")]),t._v("\n        "+t._s(t.error)+"\n      ")])],1)]:[n("k-dropzone",{attrs:{disabled:!1===t.add},on:{drop:t.drop}},[t.data.length?n("k-collection",{attrs:{help:t.help,items:t.data,layout:t.options.layout,pagination:t.pagination,sortable:t.options.sortable,size:t.options.size,"data-invalid":t.isInvalid},on:{sort:t.sort,paginate:t.paginate,action:t.action}}):[n("k-empty",{attrs:{layout:t.options.layout,"data-invalid":t.isInvalid,icon:"image"},on:{click:function(e){t.add&&t.upload()}}},[t._v("\n          "+t._s(t.options.empty||t.$t("files.empty"))+"\n        ")]),t._v(" "),n("footer",{staticClass:"k-collection-footer"},[t.help?n("k-text",{staticClass:"k-collection-help",attrs:{theme:"help"},domProps:{innerHTML:t._s(t.help)}}):t._e()],1)]],2),t._v(" "),n("k-file-rename-dialog",{ref:"rename",on:{success:t.update}}),t._v(" "),n("k-file-remove-dialog",{ref:"remove",on:{success:t.update}}),t._v(" "),n("k-upload",{ref:"upload",on:{success:t.uploaded,error:t.reload}})]],2):t._e()}),[],!1,null,null,null).exports,ga={mixins:[aa],inheritAttrs:!1,data:function(){return{fields:{},isLoading:!0,issue:null}},computed:{values:function(){return this.$store.getters["content/values"]()}},created:function(){this.fetch()},methods:{input:function(t,e,n){this.$store.dispatch("content/update",[n,t[n]])},fetch:function(){var t=this;this.$api.get(this.parent+"/sections/"+this.name).then((function(e){t.fields=e.fields,Object.keys(t.fields).forEach((function(e){t.fields[e].section=t.name,t.fields[e].endpoints={field:t.parent+"/fields/"+e,section:t.parent+"/sections/"+t.name,model:t.parent}})),t.isLoading=!1})).catch((function(e){t.issue=e,t.isLoading=!1}))},onSubmit:function(t){this.$events.$emit("keydown.cmd.s",t)}}},ba=(n(342),Object(z.a)(ga,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isLoading?t._e():n("section",{staticClass:"k-fields-section"},[t.issue?[n("k-headline",{staticClass:"k-fields-issue-headline"},[t._v("Error")]),t._v(" "),n("k-box",{attrs:{text:t.issue.message,theme:"negative"}})]:t._e(),t._v(" "),n("k-form",{attrs:{fields:t.fields,validate:!0,value:t.values,disabled:null!==t.$store.state.content.status.lock},on:{input:t.input,submit:t.onSubmit}})],2)}),[],!1,null,null,null).exports),va=n(73);u.a.component("k-dialog",R),u.a.component("k-error-dialog",H),u.a.component("k-file-rename-dialog",W),u.a.component("k-file-remove-dialog",Y),u.a.component("k-files-dialog",tt),u.a.component("k-form-dialog",nt),u.a.component("k-language-create-dialog",rt),u.a.component("k-language-remove-dialog",at),u.a.component("k-language-update-dialog",lt),u.a.component("k-page-create-dialog",pt),u.a.component("k-page-duplicate-dialog",dt),u.a.component("k-page-rename-dialog",bt),u.a.component("k-page-remove-dialog",mt),u.a.component("k-page-status-dialog",$t),u.a.component("k-page-template-dialog",Ot),u.a.component("k-page-url-dialog",xt),u.a.component("k-pages-dialog",Ct),u.a.component("k-remove-dialog",Dt),u.a.component("k-site-rename-dialog",Tt),u.a.component("k-text-dialog",At),u.a.component("k-user-create-dialog",qt),u.a.component("k-user-email-dialog",Mt),u.a.component("k-user-language-dialog",Ft),u.a.component("k-user-password-dialog",Ut),u.a.component("k-user-remove-dialog",Ht),u.a.component("k-user-rename-dialog",Yt),u.a.component("k-user-role-dialog",Wt),u.a.component("k-users-dialog",Zt),u.a.component("k-calendar",ee),u.a.component("k-counter",ie),u.a.component("k-autocomplete",Qt),u.a.component("k-form",oe),u.a.component("k-form-buttons",ue),u.a.component("k-form-indicator",de),u.a.component("k-field",me),u.a.component("k-fieldset",be),u.a.component("k-input",$e),u.a.component("k-upload",Oe),u.a.component("k-checkbox-input",je),u.a.component("k-checkboxes-input",Pe),u.a.component("k-date-input",Ee),u.a.component("k-datetime-input",Le),u.a.component("k-email-input",Re),u.a.component("k-multiselect-input",Ke),u.a.component("k-number-input",Ge),u.a.component("k-password-input",tn),u.a.component("k-radio-input",nn),u.a.component("k-range-input",on),u.a.component("k-select-input",pn),u.a.component("k-tags-input",dn),u.a.component("k-tel-input",bn),u.a.component("k-text-input",Ne),u.a.component("k-textarea-input",kn),u.a.component("k-time-input",$n),u.a.component("k-toggle-input",On),u.a.component("k-url-input",Sn),u.a.component("k-checkboxes-field",Dn),u.a.component("k-date-field",An),u.a.component("k-email-field",Mn),u.a.component("k-files-field",Vn),u.a.component("k-gap-field",Hn),u.a.component("k-headline-field",Yn),u.a.component("k-info-field",Wn),u.a.component("k-line-field",Gn),u.a.component("k-multiselect-field",ti),u.a.component("k-number-field",ri),u.a.component("k-pages-field",ai),u.a.component("k-password-field",ui),u.a.component("k-radio-field",hi),u.a.component("k-range-field",vi),u.a.component("k-select-field",_i),u.a.component("k-structure-field",ji),u.a.component("k-tags-field",Ei),u.a.component("k-text-field",Ni),u.a.component("k-textarea-field",Ri),u.a.component("k-tel-field",Li),u.a.component("k-time-field",Ki),u.a.component("k-toggle-field",Gi),u.a.component("k-url-field",tr),u.a.component("k-users-field",nr),u.a.component("k-toolbar",sr),u.a.component("k-toolbar-email-dialog",or),u.a.component("k-toolbar-link-dialog",lr),u.a.component("k-email-field-preview",kr),u.a.component("k-files-field-preview",mr),u.a.component("k-pages-field-preview",$r),u.a.component("k-toggle-field-preview",Or),u.a.component("k-url-field-preview",br),u.a.component("k-users-field-preview",xr),u.a.component("k-bar",jr),u.a.component("k-box",Pr),u.a.component("k-card",Er),u.a.component("k-cards",Ir),u.a.component("k-collection",Ar),u.a.component("k-column",qr),u.a.component("k-dropzone",Mr),u.a.component("k-empty",Fr),u.a.component("k-file-preview",Ur),u.a.component("k-grid",Hr),u.a.component("k-header",Yr),u.a.component("k-inside",Gr),u.a.component("k-list",Xr),u.a.component("k-list-item",ts),u.a.component("k-outside",es),u.a.component("k-tabs",is),u.a.component("k-view",ss),u.a.component("k-draggable",us),u.a.component("k-error-boundary",fs),u.a.component("k-headline",hs),u.a.component("k-icon",gs),u.a.component("k-image",vs),u.a.component("k-progress",ys),u.a.component("k-sort-handle",$s),u.a.component("k-text",Os),u.a.component("k-button",xs),u.a.component("k-button-disabled",Ss),u.a.component("k-button-group",Ps),u.a.component("k-button-link",Es),u.a.component("k-button-native",Ts),u.a.component("k-dropdown",Ls),u.a.component("k-dropdown-content",qs),u.a.component("k-dropdown-item",Fs),u.a.component("k-languages-dropdown",Ys),u.a.component("k-link",Hs),u.a.component("k-pagination",Ws),u.a.component("k-prev-next",Zs),u.a.component("k-search",Qs),u.a.component("k-tag",ea),u.a.component("k-topbar",ia),u.a.component("k-sections",sa),u.a.component("k-info-section",ca),u.a.component("k-pages-section",pa),u.a.component("k-files-section",ma),u.a.component("k-fields-section",ba),u.a.component("k-error-view",va.default);var ka=n(113),ya=n(24);function $a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function _a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$a(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Oa=function(t,e){localStorage.setItem("kirby$content$"+t,JSON.stringify(e))},wa={namespaced:!0,state:{current:null,models:{},status:{enabled:!0,lock:null,unlock:null}},getters:{exists:function(t){return function(e){return t.models.hasOwnProperty(e)}},hasChanges:function(t,e){return function(t){var n=e.model(t).changes;return Object.keys(n).length>0}},isCurrent:function(t){return function(e){return t.current===e}},id:function(t,e,n){return function(e){return e=e||t.current,window.panel.$language?e+"/"+window.panel.$language.code:e}},model:function(t,e){return function(n){return n=n||t.current,!0===e.exists(n)?t.models[n]:{api:null,originals:{},values:{},changes:{}}}},originals:function(t,e){return function(t){return j(e.model(t).originals)}},values:function(t,e){return function(t){return _a(_a({},e.originals(t)),e.changes(t))}},changes:function(t,e){return function(t){return j(e.model(t).changes)}}},mutations:{CREATE:function(t,e){var n=Object(ya.a)(e,2),i=n[0],r=n[1];if(!r)return!1;var s=t.models[i]?t.models[i].changes:r.changes;u.a.set(t.models,i,{api:r.api,originals:r.originals,changes:s||{}})},CURRENT:function(t,e){t.current=e},LOCK:function(t,e){u.a.set(t.status,"lock",e)},MOVE:function(t,e){var n=Object(ya.a)(e,2),i=n[0],r=n[1],s=j(t.models[i]);u.a.delete(t.models,i),u.a.set(t.models,r,s);var a=localStorage.getItem("kirby$content$"+i);localStorage.removeItem("kirby$content$"+i),localStorage.setItem("kirby$content$"+r,a)},REMOVE:function(t,e){u.a.delete(t.models,e),localStorage.removeItem("kirby$content$"+e)},REVERT:function(t,e){t.models[e]&&(u.a.set(t.models[e],"changes",{}),localStorage.removeItem("kirby$content$"+e))},STATUS:function(t,e){u.a.set(t.status,"enabled",e)},UNLOCK:function(t,e){e&&u.a.set(t.models[t.current],"changes",{}),u.a.set(t.status,"unlock",e)},UPDATE:function(t,e){var n=Object(ya.a)(e,3),i=n[0],r=n[1],s=n[2];if(!t.models[i])return!1;s=j(s);var a=JSON.stringify(s);JSON.stringify(t.models[i].originals[r])===a?u.a.delete(t.models[i].changes,r):u.a.set(t.models[i].changes,r,s),Oa(i,{api:t.models[i].api,originals:t.models[i].originals,changes:t.models[i].changes})}},actions:{init:function(t){Object.keys(localStorage).filter((function(t){return t.startsWith("kirby$content$")})).map((function(t){return t.split("kirby$content$")[1]})).forEach((function(e){var n=localStorage.getItem("kirby$content$"+e);t.commit("CREATE",[e,JSON.parse(n)])})),Object.keys(localStorage).filter((function(t){return t.startsWith("kirby$form$")})).map((function(t){return t.split("kirby$form$")[1]})).forEach((function(e){var n=localStorage.getItem("kirby$form$"+e),i=null;try{i=JSON.parse(n)}catch(t){}if(!i||!i.api)return localStorage.removeItem("kirby$form$"+e),!1;var r={api:i.api,originals:i.originals,changes:i.values};t.commit("CREATE",[e,r]),Oa(e,r),localStorage.removeItem("kirby$form$"+e)}))},create:function(t,e){e.id=t.getters.id(e.id),(e.id.startsWith("pages/")||e.id.startsWith("site"))&&delete e.content.title;var n={api:e.api,originals:j(e.content),changes:{}};u.a.$api.get(e.api+"/unlock").then((function(n){!0===n.supported&&!0===n.unlocked&&t.commit("UNLOCK",t.state.models[e.id].changes)})).catch((function(){})),t.commit("CREATE",[e.id,n]),t.dispatch("current",e.id)},current:function(t,e){t.commit("CURRENT",e)},disable:function(t){t.commit("STATUS",!1)},enable:function(t){t.commit("STATUS",!0)},lock:function(t,e){t.commit("LOCK",e)},move:function(t,e){var n=Object(ya.a)(e,2),i=n[0],r=n[1];i=t.getters.id(i),r=t.getters.id(r),t.commit("MOVE",[i,r])},remove:function(t,e){t.commit("REMOVE",e),t.getters.isCurrent(e)&&t.commit("CURRENT",null)},revert:function(t,e){e=e||t.state.current,t.commit("REVERT",e)},save:function(t,e){if(e=e||t.state.current,t.getters.isCurrent(e)&&!1===t.state.status.enabled)return!1;t.dispatch("disable");var n=t.getters.model(e),i=_a(_a({},n.originals),n.changes);return u.a.$api.patch(n.api,i).then((function(){t.commit("CREATE",[e,_a(_a({},n),{},{originals:i})]),t.dispatch("revert",e),t.dispatch("enable")})).catch((function(e){throw t.dispatch("enable"),e}))},unlock:function(t,e){t.commit("UNLOCK",e)},update:function(t,e){var n=Object(ya.a)(e,3),i=n[0],r=n[1],s=n[2];s=s||t.state.current,t.commit("UPDATE",[s,i,r])}}},xa={namespaced:!0,state:{instance:null,clock:0,step:5,beats:[]},mutations:{ADD:function(t,e){t.beats.push(e)},CLEAR:function(t){clearInterval(t.instance),t.clock=0},CLOCK:function(t){t.clock+=t.step},INITIALIZE:function(t,e){t.instance=e},REMOVE:function(t,e){var n=t.beats.map((function(t){return t.handler})).indexOf(e);-1!==n&&u.a.delete(t.beats,n)}},actions:{add:function(t,e){(e={handler:e[0]||e,interval:e[1]||t.state.step}).handler(),t.commit("ADD",e),1===t.state.beats.length&&t.dispatch("run")},clear:function(t){t.commit("CLEAR")},remove:function(t,e){t.commit("REMOVE",e),t.state.beats.length<1&&t.commit("CLEAR")},run:function(t){t.commit("CLEAR"),t.commit("INITIALIZE",setInterval((function(){t.commit("CLOCK"),t.state.beats.forEach((function(e){t.state.clock%e.interval==0&&e.handler()}))}),1e3*t.state.step))}}};function ja(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Sa(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ja(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ja(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Pa={timer:null,namespaced:!0,state:{type:null,message:null,details:null,timeout:null},mutations:{SET:function(t,e){t.type=e.type,t.message=e.message,t.details=e.details,t.timeout=e.timeout},UNSET:function(t){t.type=null,t.message=null,t.details=null,t.timeout=null}},actions:{close:function(t){clearTimeout(this.timer),t.commit("UNSET")},open:function(t,e){t.dispatch("close"),t.commit("SET",e),e.timeout&&(this.timer=setTimeout((function(){t.dispatch("close")}),e.timeout))},success:function(t,e){"string"==typeof e&&(e={message:e}),t.dispatch("open",Sa({type:"success",timeout:4e3},e))},error:function(t,e){"string"==typeof e&&(e={message:e}),t.dispatch("open",Sa({type:"error"},e))}}};u.a.use(ka.a);var Ca=new ka.a.Store({strict:!1,state:{dialog:null,drag:null,isLoading:!1,search:!1},mutations:{SET_DIALOG:function(t,e){t.dialog=e},SET_DRAG:function(t,e){t.drag=e},SET_SEARCH:function(t,e){!0===e&&(e={}),t.search=e},START_LOADING:function(t){t.isLoading=!0},STOP_LOADING:function(t){t.isLoading=!1}},actions:{dialog:function(t,e){t.commit("SET_DIALOG",e)},drag:function(t,e){t.commit("SET_DRAG",e)},isLoading:function(t,e){t.commit(!0===e?"START_LOADING":"STOP_LOADING")},search:function(t,e){t.commit("SET_SEARCH",e)}},modules:{content:wa,heartbeat:xa,notification:Pa}});u.a.config.errorHandler=function(t){window.panel.$config.debug&&window.console.error(t),Ca.dispatch("notification/error",{message:t.message||"An error occurred. Please reload the Panel."})},window.panel=window.panel||{},window.panel.error=function(t,e){window.panel.$config.debug&&window.console.error(t+": "+e),Ca.dispatch("error",t+". See the console for more information.")};var Ea=n(165),Da=n.n(Ea),Ia=n(114),Ta=n.n(Ia),La=n(166),Aa=n.n(La);Ta.a.extend(Aa.a),u.a.prototype.$library={autosize:Da.a,dayjs:Ta.a};n(346);function Ba(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function qa(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ba(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ba(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Na={};for(var Ma in u.a.options.components)Na[Ma]=u.a.options.components[Ma];var za=function(t,e){e.template||e.render||e.extends?(e.extends&&"string"==typeof e.extends&&(e.extends=Na[e.extends],e.template&&(e.render=null)),e.mixins&&(e.mixins=e.mixins.map((function(t){return"string"==typeof t?Na[t]:t}))),Na[t]&&window.console.warn('Plugin is replacing "'.concat(t,'"')),u.a.component(t,e)):Ca.dispatch("notification/error",'Neither template or render method provided nor extending a component when loading plugin component "'.concat(t,'". The component has not been registered.'))};Object.entries(window.panel.plugins.components).forEach((function(t){var e=Object(ya.a)(t,2),n=e[0],i=e[1];za(n,i)})),Object.entries(window.panel.plugins.fields).forEach((function(t){var e=Object(ya.a)(t,2),n=e[0],i=e[1];za(n,i)})),Object.entries(window.panel.plugins.sections).forEach((function(t){var e=Object(ya.a)(t,2),n=e[0],i=e[1];za(n,qa(qa({},i),{},{mixins:[aa].concat(i.mixins||[])}))})),Object.entries(window.panel.plugins.views).forEach((function(t){var e=Object(ya.a)(t,2),n=e[0],i=e[1];if(!i.component)return Ca.dispatch("notification/error",'No view component provided when loading view "'.concat(n,'". The view has not been registered.')),void delete window.panel.plugins.views[n];i.link="/plugins/"+n,void 0===i.icon&&(i.icon="page"),void 0===i.menu&&(i.menu=!0),window.panel.plugins.views[n]={link:i.link,icon:i.icon,menu:i.menu},u.a.component("k-"+n+"-plugin-view",i.component)})),window.panel.plugins.use.forEach((function(t){u.a.use(t)})),u.a.config.productionTip=!1,u.a.config.devtools=!0,u.a.use(B),u.a.use(x),u.a.use({install:function(t){t.filter("t",(function(t){return t}))}}),u.a.use(M.a),u.a.use(i.InertiaApp),u.a.use(q.a.plugin,Ca),u.a.use(w,Ca);var Fa=document.querySelector("base");u.a.prototype.$go=function(t,e){this.$inertia.visit(this.$url(t),e)},u.a.prototype.$reload=function(t){u.a.prototype.$inertia.reload(t)},u.a.prototype.$url=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Fa.href+t.replace(/^\//,"")},new u.a({store:Ca,created:function(){var t=this;window.panel.$vue=window.panel.app=this,window.panel.plugins.created.forEach((function(e){e(t)})),this.$store.dispatch("content/init")},render:function(t){return t(i.InertiaApp,{props:{initialPage:window.inertia,resolveComponent:function(t){return n(347)("./".concat(t)).default},transformProps:function(t){var e=t.$translation.code;return u.a.i18n.add(e,t.$translation.data),u.a.i18n.set(e),document.querySelector("html").setAttribute("lang",e),u.a.prototype.$config=window.panel.$config=t.$config,u.a.prototype.$language=window.panel.$language=t.$language,u.a.prototype.$languages=window.panel.$languages=t.$languages,u.a.prototype.$permissions=window.panel.$permissions=t.$permissions,u.a.prototype.$system=window.panel.$system=t.$system,u.a.prototype.$translation=window.panel.$translation=t.$translation,u.a.prototype.$urls=window.panel.$urls=t.$urls,u.a.prototype.$user=window.panel.$user=t.$user,u.a.prototype.$view=window.panel.$view=t.$view,u.a.prototype.$views=window.panel.$views=t.$views,t.$props}}})}}).$mount("#app")},function(t,e){},,,,,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){}]),[[167,1,2]]]);